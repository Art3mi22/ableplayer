/*! ableplayer V2.03.0 */
"use strict";!function(a){a(document).ready(function(){a("video, audio").each(function(b,c){void 0!==a(c).data("able-player")&&new AblePlayer(a(this),a(c))})}),window.onYouTubeIframeAPIReady=function(){AblePlayer.youtubeIframeAPIReady=!0,a("body").trigger("youtubeIframeAPIReady",[])},a(window).keydown(function(a){1===AblePlayer.nextIndex&&AblePlayer.lastCreated.onPlayerKeyPress(a)}),window.AblePlayer=function(b){if(AblePlayer.lastCreated=this,this.setDefaults(),this.media=b,0!==a(b).length){this.autoplay=void 0!==a(b).attr("autoplay")&&"false"!==a(b).attr("autoplay")?!0:!1;var c=b.data("include-transcript");if((void 0===c||""===c)&&b.find('track[kind="captions"], track[kind="subtitles"]').length>0&&(c=!0),this.includeTranscript=c?!0:!1,this.startTime=void 0!==a(b).data("start-time")&&""!==a(b).data("start-time")?a(b).data("start-time"):0,void 0!==a(b).data("transcript-div")&&""!==a(b).data("transcript-div")&&(this.transcriptDivLocation=a(b).data("transcript-div")),void 0!==a(b).data("use-transcript-button")&&a(b).data("use-transcript-button")===!1&&(this.useTranscriptButton=!1),void 0!==a(b).data("lyrics-mode")&&"false"!==a(b).data("lyrics-mode")&&(this.lyricsMode=!0),void 0!==a(b).data("transcript-title")&&(this.transcriptTitle=a(b).data("transcript-title")),void 0!==a(b).data("youtube-id")&&""!==a(b).data("youtube-id")&&(this.youtubeId=a(b).data("youtube-id")),void 0!==a(b).data("youtube-desc-id")&&""!==a(b).data("youtube-desc-id")&&(this.youtubeDescId=a(b).data("youtube-desc-id")),void 0!==a(b).data("debug")&&"false"!==a(b).data("debug")&&(this.debug=!0),void 0!==a(b).data("volume")&&""!==a(b).data("volume")){var d=a(b).data("volume");d>=0&&1>=d&&(this.defaultVolume=d)}if(void 0!==a(b).data("icon-type")&&""!==a(b).data("icon-type")){var e=a(b).data("icon-type");("font"===e||"image"==e)&&(this.iconType=e)}if(void 0!==a(b).data("seek-interval")&&""!==a(b).data("seek-interval")){var f=a(b).data("seek-interval");/^[1-9][0-9]*$/.test(f)&&(this.seekInterval=f,this.useFixedSeekInterval=!0)}if(void 0!==a(b).data("show-now-playing")&&"false"!==a(b).data("show-now-playing")&&(this.showNowPlaying=!0),void 0!==a(b).data("fallback")&&""!==a(b).data("fallback")){var g=a(b).data("fallback");"jw"===g&&(this.fallback=g)}if(void 0!==a(b).data("test-fallback")&&"false"!==a(b).data("test-fallback")&&(this.testFallback=!0),void 0!==a(b).data("lang")&&""!==a(b).data("lang")){var h=a(b).data("lang");2==h.length&&(this.lang=h)}void 0!==a(b).data("force-lang")&&"false"!==a(b).data("force-lang")&&(this.forceLang=!0),void 0!==a(b).data("translation-path")&&"false"!==a(b).data("translation-path")&&(this.translationPath=a(b).data("translation-path")),void 0!==a(b).data("meta-div")&&""!==a(b).data("meta-div")&&(this.metaDiv=a(b).data("meta-div")),void 0!==a(b).data("search")&&""!==a(b).data("search")&&void 0!==a(b).data("search-div")&&""!==a(b).data("search-div")&&(this.searchString=a(b).data("search"),this.searchDiv=a(b).data("search-div")),this.ableIndex=AblePlayer.nextIndex,AblePlayer.nextIndex+=1,this.title=a(b).attr("title"),this.tt=[];var i=this;a.when(this.getTranslationText()).then(function(){i.countProperties(i.tt)>50&&(i.setup(),i.startTime>0&&!i.autoplay&&i.onMediaUpdateTime())})}},AblePlayer.nextIndex=0,AblePlayer.prototype.setup=function(){var a=this;this.debug&&this.startTime>0,this.reinitialize().then(function(){a.player?a.setupInstance().then(function(){a.recreatePlayer()}):a.provideFallback()})},AblePlayer.youtubeIframeAPIReady=!1,AblePlayer.loadingYoutubeIframeAPI=!1}(jQuery),function(){AblePlayer.prototype.setDefaults=function(){this.debug=!1,this.defaultVolume=.5,this.playerWidth=480,this.playerHeight=360,this.iconColor="white",this.iconType="font",this.seekInterval=10,this.useFixedSeekInterval=!1,this.useSlider=!0,this.showNowPlaying=!0,this.fallback="jw",this.testFallback=!1,this.loop=!0,this.lang="en",this.forceLang=!1,this.translationPath="../translations/",this.lyricsMode=!1,this.transcriptTitle="Transcript",this.useTranscriptButton=!0,this.setButtonImages()},AblePlayer.prototype.setButtonImages=function(){var a="../images/"+this.iconColor+"/";this.playButtonImg=a+"play.png",this.pauseButtonImg=a+"pause.png",this.rewindButtonImg=a+"rewind.png",this.forwardButtonImg=a+"forward.png",this.fasterButtonImg=a+"slower.png",this.slowerButtonImg=a+"faster.png",this.volumeMuteButtonImg=a+"volume-mute.png",this.volumeLoudButtonImg=a+"volume-loud.png",this.volumeIncreaseButtonImg=a+"volume-up.png",this.volumeDecreaseButtonImg=a+"volume-down.png",this.captionsButtonImg=a+"captions.png",this.chaptersButtonImg=a+"chapters.png",this.signButtonImg=a+"sign.png",this.transcriptButtonImg=a+"transcript.png",this.descriptionsButtonImg=a+"descriptions.png",this.fullscreenExpandButtonImg=a+"fullscreen-expand.png",this.fullscreenCollapseButtonImg=a+"fullscreen-collapse.png",this.prefsButtonImg=a+"preferences.png",this.helpButtonImg=a+"help.png"},AblePlayer.prototype.reinitialize=function(){var a=new $.Deferred,b=a.promise();if(window.console||(this.debug=!1),this.startedPlaying=!1,this.autoScrollTranscript=!0,this.$media=$(this.media).first(),this.media=this.$media[0],this.$media.is("audio"))this.mediaType="audio";else{if(!this.$media.is("video"))return this.mediaType=this.$media.get(0).tagName,this.debug,a.fail(),b;this.mediaType="video"}return this.$sources=this.$media.find("source"),this.debug,this.player=this.getPlayer(),this.setIconType(),this.setDimensions(),a.resolve(),b},AblePlayer.prototype.setDimensions=function(){this.$media.attr("width")&&(this.playerWidth=parseInt(this.$media.attr("width"),10)),this.$media.attr("height")&&(this.playerHeight=parseInt(this.$media.attr("height"),10))},AblePlayer.prototype.setIconType=function(){var a;a=$("<span>",{"class":"icon-play able-clipped"}),$("body").append(a),"font"===this.iconType&&(window.getComputedStyle?(this.controllerFont=window.getComputedStyle(a.get(0),null).getPropertyValue("font-family"),this.controllerFont?(this.controllerFont=this.controllerFont.replace(/["']/g,""),this.iconType="font"):this.iconType="image"):this.iconType="image"),this.debug&&"font"===this.iconType,a.remove()},AblePlayer.prototype.setupInstance=function(){var a=new $.Deferred,b=a.promise();return this.$media.attr("id")?this.mediaId=this.$media.attr("id"):(this.mediaId="ableMediaId_"+this.ableIndex,this.$media.attr("id",this.mediaId)),this.setupInstancePlaylist(),a.resolve(),b},AblePlayer.prototype.setupInstancePlaylist=function(){var a=this;if(this.hasPlaylist=!1,$(".able-playlist").each(function(){if($(this).data("player")===a.mediaId){a.hasPlaylist=!0,a.$playlist=$(this).find("li"),$(this).find("li").attr("tabindex","0"),a.playlistIndex=0;var b=$(this).data("embedded");a.playlistEmbed="undefined"!=typeof b&&b!==!1?!0:!1}}),this.hasPlaylist&&this.playlistEmbed){var b=this.$playlist.parent();this.$playlistDom=b.clone(),b.remove()}},AblePlayer.prototype.recreatePlayer=function(){var a=this;return this.player?(this.setMediaAttributes(),this.loadCurrentPreferences(),this.injectPlayerCode(),void this.setupTracks().then(function(){a.setupTooltips(),a.initDescription(),a.initializing=!1,a.initPlayer()})):void console.log("Can't create player; no appropriate player type detected.")},AblePlayer.prototype.initPlayer=function(){var a,b=this;this.debug&&this.player,"html5"===this.player?a=this.initHtml5Player():"jw"===this.player?a=this.initJwPlayer():"youtube"===this.player&&(a=this.initYoutubePlayer());var c=new $.Deferred,d=c.promise();return a.done(function(){if(b.addControls(),b.addEventListeners(),b.setMute(!1),b.setFullscreen(!1),b.setVolume(b.defaultVolume),b.initializing=!0,b.updateDescription(),b.updateCaption(),b.updateTranscript(),b.showSearchResults(),b.initializing=!1,b.refreshControls(),"html5"===b.player&&b.isIOS()&&b.$media[0].load(),b.useFixedSeekInterval===!1){var a=b.getDuration();a>0?(b.seekInterval=Math.max(b.seekInterval,a/10),b.seekIntervalCalculated=!0):b.seekIntervalCalculated=!1}c.resolve()}),d},AblePlayer.prototype.initHtml5Player=function(){var a=new $.Deferred,b=a.promise();return a.resolve(),b},AblePlayer.prototype.initJwPlayer=function(){var a,b=this,c=new $.Deferred,d=c.promise();return $.getScript("../thirdparty/jwplayer.js").done(function(){b.debug,b.jwId=b.mediaId+"_fallback",b.$mediaContainer.attr("id",b.jwId),a="audio"===b.mediaType?"0px":b.playerHeight;var d=[];$.each(b.$sources,function(a,b){d.push({file:$(b).attr("src")})}),b.jwPlayer=jwplayer(b.jwId).setup("video"===b.mediaType?{playlist:[{sources:d}],flashplayer:"../thirdparty/jwplayer.flash.swf",html5player:"../thirdparty/jwplayer.html5.js",image:b.$media.attr("poster"),controls:!1,volume:100*b.defaultVolume,height:a,width:b.playerWidth,fallback:!1,primary:"flash",wmode:"transparent"}:{playlist:[{sources:d}],flashplayer:"../thirdparty/jwplayer.flash.swf",html5player:"../thirdparty/jwplayer.html5.js",controls:!1,volume:100*this.defaultVolume,height:a,fallback:!1,primary:"flash"}),b.$media.remove(),c.resolve()}).fail(function(){b.debug,b.player=null,c.fail()}),d},AblePlayer.prototype.initYoutubePlayer=function(){var a=this,b=new $.Deferred,c=b.promise(),d=function(){var c=a.mediaId+"_youtube";a.$mediaContainer.prepend($("<div>").attr("id",c));var d;d=a.youtubeDescId&&a.prefDesc?a.youtubeDescId:a.youtubeId,a.youtubePlayer=new YT.Player(c,{videoId:d,height:a.playerHeight.toString(),width:a.playerWidth.toString(),playerVars:{start:a.startTime,controls:0},events:{onReady:function(){b.resolve()},onError:function(){b.fail()}}}),a.$media.remove()};return AblePlayer.youtubeIframeAPIReady?d():(AblePlayer.loadingYoutubeIframeAPI||$.getScript("https://www.youtube.com/iframe_api").fail(function(){a.debug}),$("body").on("youtubeIframeAPIReady",function(){d()})),c},AblePlayer.prototype.setMediaAttributes=function(){this.$media.attr("tabindex",-1);var a=this.$media.get(0).textTracks;if(a)for(var b=0;b<a.length;)a[b].mode="disabled",b+=1},AblePlayer.prototype.getPlayer=function(){return this.youtubeId?"video"!==this.mediaType?null:"youtube":this.testFallback||(this.isUserAgent("msie 7")||this.isUserAgent("msie 8")||this.isUserAgent("msie 9"))&&"video"===this.mediaType||this.isIOS()&&(this.isIOS(4)||this.isIOS(5)||this.isIOS(6))?"jw"===this.fallback&&this.jwCanPlay()?"jw":null:this.media.canPlayType?"html5":null},AblePlayer.prototype.jwCanPlay=function(){var a,b,c;if(this.$sources.length>0)for(a=0;a<this.$sources.length;a++)if(b=this.$sources[a].getAttribute("type"),"video"===this.mediaType&&"video/mp4"===b||"audio"===this.mediaType&&"audio/mpeg"===b)return"jw";if($(".able-playlist")&&(c=$(".able-playlist").eq(0).find("li").eq(0),"audio"===this.mediaType)){if(c.attr("data-mp3"))return!0;if("video"===this.mediaType&&c.attr("data-mp4"))return!0}return!1}}(),function(){AblePlayer.prototype.setCookie=function(a){$.cookie.json=!0,$.isFunction($.cookie)&&$.cookie("Able-Player",a,90)},AblePlayer.prototype.getCookie=function(){var a={preferences:{}};if($.cookie.json=!0,$.isFunction($.cookie)){var b;try{b=$.cookie("Able-Player")}catch(c){this.setCookie(a),b=a}return b?b:a}},AblePlayer.prototype.getAvailablePreferences=function(){var a=[];return a.push({name:"prefAltKey",label:this.tt.prefAltKey,"default":1}),a.push({name:"prefCtrlKey",label:this.tt.prefCtrlKey,"default":1}),a.push({name:"prefShiftKey",label:this.tt.prefShiftKey,"default":0}),"video"===this.mediaType?(a.push({name:"prefCaptions",label:this.tt.prefCaptions,"default":1}),a.push({name:"prefDesc",label:this.tt.prefDesc,"default":0}),a.push({name:"prefClosedDesc",label:this.tt.prefClosedDesc,"default":0}),a.push({name:"prefDescPause",label:this.tt.prefDescPause,"default":0}),a.push({name:"prefVisibleDesc",label:this.tt.prefVisibleDesc,"default":1}),a.push({name:"prefTranscript",label:this.tt.prefTranscript,"default":0}),a.push({name:"prefHighlight",label:this.tt.prefHighlight,"default":1}),a.push({name:"prefTabbable",label:this.tt.prefTabbable,"default":0})):(a.push({name:"prefTranscript",label:this.tt.prefTranscript,"default":0}),a.push({name:"prefHighlight",label:this.tt.prefHighlight,"default":1}),a.push({name:"prefTabbable",label:this.tt.prefTabbable,"default":0})),a},AblePlayer.prototype.loadCurrentPreferences=function(){for(var a=this.getAvailablePreferences(),b=this.getCookie(),c=0;c<a.length;c++){var d=a[c].name,e=a[c]["default"];void 0!==b.preferences[d]?this[d]=b.preferences[d]:(b.preferences[d]=e,this[d]=e)}this.setCookie(b)},AblePlayer.prototype.injectPrefsForm=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(n=this,o=this.getAvailablePreferences(),a=$("<div>",{"class":"able-prefs-form"}),b="<p>"+this.tt.prefIntro+"</p>\n",c=$("<p>",{html:b}),d=$("<fieldset>"),e=$("<legend>Features</legend>"),d.append(e),f=$("<fieldset>"),g=$("<legend>Modifier Keys</legend>"),f.append(g),h=0;h<o.length;h++)i=o[h].name,j=$("<div>"),k=this.mediaId+"_"+i,l=$('<label for="'+k+'"> '+o[h].label+"</label>"),m=$("<input>",{type:"checkbox",name:i,id:k,value:"true"}),j.append(m).append(l),1===this[i]&&m.prop("checked",!0),0===h||1===h||2===h?f.append(j):d.append(j);a.append(c).append(f).append(d),$("body").append(a);var p=new AccessibleDialog(a,"dialog",n.tt.prefTitle,c,n.tt.closeButtonLabel,"32em");a.append("<hr>");var q=$('<button class="modal-button">Save</button>'),r=$('<button class="modal-button">Cancel</button>');q.click(function(){p.hide(),n.savePrefsFromForm()}),r.click(function(){p.hide()}),a.append(q),a.append(r),this.prefsDialog=p},AblePlayer.prototype.savePrefsFromForm=function(){var a;a=0;for(var b=this.getCookie(),c=this.getAvailablePreferences(),d=0;d<c.length;d++){var e=c[d].name;$('input[name="'+e+'"]').is(":checked")?(b.preferences[e]=1,1===this[e]||(this[e]=1,a++)):(b.preferences[e]=0,1===this[e]&&(this[e]=0,a++))}a>0?(this.setCookie(b),this.showAlert(this.tt.prefSuccess)):this.showAlert(this.tt.prefNoChange),this.updatePrefs()},AblePlayer.prototype.updatePrefs=function(){var a;a=1===this.prefAltKey?"Alt + ":"",1===this.prefCtrlKey&&(a+="Control + "),1===this.prefShiftKey&&(a+="Shift + "),$(".able-help-modifiers").text(a),1===this.prefTabbable?$(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"):$(".able-transcript span.able-transcript-seekpoint").removeAttr("tabindex"),this.updateCaption(),this.updateDescription()},AblePlayer.prototype.usingModifierKeys=function(a){return(1!==this.prefAltKey||a.altKey)&&(1!==this.prefCtrlKey||a.ctrlKey)&&(1!==this.prefShiftKey||a.shiftKey)?!0:!1}}(),function(){function a(a,c){var d=[];for(var e in c)d.push(b(a,c[e]));return d}function b(a,b){var c=b(a);if(null!==a.error)throw a.error;return c}function c(a,b){for(var c in b)"\n"===b[c]?(a.column=1,a.line+=1):a.column+=1}function d(a,b){var d=a.text.substring(0,b);return c(a,d),a.text=a.text.substring(b),d}function e(a){var b,d=a.text.indexOf("\n");return-1===d?(b=a.text,c(a,b),a.text=""):(b=a.text.substring(0,d),c(a,b+"\n"),a.text=a.text.substring(d+1)),b}function f(a){var b=a.text.indexOf("\n");return-1===b?a.text:a.text.substring(0,b)}function g(b){a(b,[r,s]);var c=b.text[0];" "===c||"	"===c||"\n"===c?a(b,[w,h,y,l]):b.error="WEBVTT signature not followed by whitespace."}function h(a){for(;;){var c=f(a);if(-1!==c.indexOf("-->"))return;if(0===c.length)return;var d=b(a,j);a.metadata[d[0]]=d[1],b(a,w)}}function i(a){var b=[],c=a.indexOf(" ");c>=0&&b.push(c);var d=a.indexOf("	");d>=0&&b.push(d);var e=a.indexOf("\n");return e>=0&&b.push(e),Math.min.apply(null,b)}function j(a){var b=a.text.indexOf("\n"),c=d(a,b),e=c.indexOf(":");if(-1===e)return void(a.error="Missing colon.");var f=c.substring(0,e),g=c.substring(e+1);return[f,g]}function k(a){var b=i(a.text),c=d(a,b),e=c.indexOf(":");if(-1===e)return void(a.error="Missing colon.");var f=c.substring(0,e),g=c.substring(e+1);return[f,g]}function l(c){for(;;){var d=f(c);if(0!==d.indexOf("NOTE")||4!==d.length&&" "!==d[4]&&"	"!==d[4]){if(0===$.trim(d).length)return;b(c,m)}else a(c,[q,x])}}function m(c){var g,h=f(c);-1===h.indexOf("-->")&&(g=e(c));var i=a(c,[z,v,t,v,z]),j=i[0],k=i[4];if(j>=k)return void(c.error="Start time is not sooner than end time.");b(c,u);var l=b(c,n);d(c,1);var m=b(c,o);c.cues.push({id:g,start:j,end:k,settings:l,components:m})}function n(a){for(var c={};a.text.length>0&&"\n"!==a.text[0];){var d=b(a,k);c[d[0]]=d[1],b(a,u)}return c}function o(a){for(var c={type:"internal",tagName:"",value:"",classes:[],annotation:"",parent:null,children:[],language:""},e=c,g=[];a.text.length>0;){var h=f(a);if(-1!==h.indexOf("-->"))break;if(a.text.length>=2&&"\n"===a.text[0]&&"\n"===a.text[1]){d(a,2);break}var i=p(a);if("string"===i.type)e.children.push(i);else if("startTag"===i.type)i.type=i.tagName,i.parent=e,-1!==$.inArray(i.tagName,["c","i","b","u","ruby"])?(g.length>0&&(e.language=g[g.length-1]),e.children.push(i),e=i):"rt"===i.tagName&&"ruby"===e.tagName?(g.length>0&&(e.language=g[g.length-1]),e.children.push(i),e=i):"v"===i.tagName?(i.value=i.annotation,g.length>0&&(e.language=g[g.length-1]),e.children.push(i),e=i):"lang"===i.tagName&&(g.push(i.annotation),g.length>0&&(e.language=g[g.length-1]),e.children.push(i),e=i);else if("endTag"===i.type)i.tagName===e.type&&-1!==$.inArray(i.tagName,["c","i","b","u","ruby","rt","v"])?e=e.parent:"lang"===i.tagName&&"lang"===e.type?(e=e.parent,g.pop()):"ruby"===i.tagName&&"rt"===e.type&&(e=e.parent.parent);else if("timestampTag"===i.type){var j={text:i.value,error:null,metadata:{},cues:[],line:1,column:1};try{var k=b(j,z);0===j.text.length&&(i.value=k,e.push(i))}catch(l){}}}return c}function p(a){for(var b="data",c=[],e="",f={type:"",tagName:"",value:"",classes:[],annotation:"",children:[]};;){var g;if(g=a.text.length>=2&&"\n"===a.text[0]&&"\n"===a.text[1]?"":a.text.length>0?a.text[0]:"","data"===b)if("&"===g)e="&";else if("<"===g){if(0!==c.length)return f.type="string",f.value=c.join(""),f;b="tag"}else{if(""===g)return{type:"string",value:c.join("")};c.push(g)}else if("escape"===b)if("&"===g)c.push(e),e="&";else if(g.match(/[0-9a-z]/))e+=g;else if(";"===g)"&amp"===e?c.push("&"):"&lt"===e?c.push("<"):"&gt"===e?c.push(">"):"&lrm"===e?c.push("‎"):"&rlm"===e?c.push("‏"):"&nbsp"===e?c.push(" "):(c.push(e),c.push(";")),b="data";else{if("<"===g||""===g)return c.push(e),f.type="string",f.value=c.join(""),f;c.push(e),b="data"}else if("tag"===b)if("	"===g||"\n"===g||"\f"===g||" "===g)b="startTagAnnotation";else if("."===g)b="startTagClass";else if("/"===g)b="endTag";else if(g.match("[0-9]"))b="timestampTag",c.push(g);else{if(">"===g){d(a,1);break}if(""===g)return f.tagName="",f.type="startTag",f;c.push(g),b="startTag"}else if("startTag"===b)if("	"===g||"\f"===g||" "===g)b="startTagAnnotation";else if("\n"===g)e=g,b="startTagAnnotation";else if("."===g)b="startTagClass";else{if(">"===g)return d(a,1),f.tagName=c.join(""),f.type="startTag",f;if(""===g)return f.tagName=c.join(""),f.type="startTag",f;c.push(g)}else if("startTagClass"===b)if("	"===g||"\f"===g||" "===g)f.classes.push(e),e="",b="startTagAnnotation";else if("\n"===g)f.classes.push(e),e=g,b="startTagAnnotation";else if("."===g)f.classes.push(e),e="";else{if(">"===g)return d(a,1),f.classes.push(e),f.type="startTag",f.tagName=c.join(""),f;if(""===g)return f.classes.push(e),f.type="startTag",f.tagName=c.join(""),f;e+="c"}else if("startTagAnnotation"===b){if(">"===g)return d(a,1),e=$.trim(e).replace(/ +/," "),f.type="startTag",f.tagName=c.join(""),f.annotation=e,f;if(""===g)return e=$.trim(e).replace(/ +/," "),f.type="startTag",f.tagName=c.join(""),f.annotation=e,f;e+=g}else if("endTag"===b){if(">"===g)return d(a,1),f.type="endTag",f.tagName=c.join(""),f;if(""===g)return f.type="endTag",f.tagName=c.join(""),f;c.push(g)}else{if("timestampTag"!==b)throw"Unknown tokenState "+b;if(">"===g)return d(a,1),f.type="timestampTag",f.name=c.join(""),f;if(""===g)return f.type="timestampTag",f.name=c.join(""),f;c.push(g)}d(a,1)}}function q(a){var b=e(a);if(-1!==b.indexOf("-->"))return void(a.error="Invalid syntax: --> in NOTE line.");for(;;){var c=f(a);if(0===$.trim(c).length)return;if(-1!==c.indexOf("-->"))return void(a.error="Invalid syntax: --> in comment.");e(a)}}function r(a){"﻿"===a.text[0]&&d(a,1)}function s(a){"WEBVTT"===a.text.substring(0,6)?d(a,6):a.error="Invalid signature."}function t(a){a.text.length<3||"-->"!==a.text.substring(0,3)?a.error="Missing -->":d(a,3)}function u(a){for(;"	"===a.text[0]||" "===a.text[0];)d(a,1)}function v(a){for(var b=0;"	"===a.text[0]||" "===a.text[0];)d(a,1),b+=1;0===b&&(a.error="Missing space.")}function w(a){var b=a.text.indexOf("\n");-1===b?a.error="Missing EOL.":d(a,b+1)}function x(a){for(;a.text.length>0;){var b=f(a);if(0!==$.trim(b).length)break;e(a)}}function y(a){for(var b=0;a.text.length>0;){var c=f(a);if(0!==$.trim(c).length)break;e(a),b+=1}0===b&&(a.error="Missing empty line.")}function z(a){var b=i(a.text);if(-1===b)return void a.error("Missing timing.");var c=d(a,b),e=/((\d\d):)?((\d\d):)(\d\d).(\d\d\d)|(\d+).(\d\d\d)/.exec(c);if(!e)return void(a.error="Unable to parse timestamp.");var f=0,g=e[2],h=e[4];if(h){if(parseInt(h,10)>59)return void(a.error="Invalid minute range.");g&&(f+=3600*parseInt(g,10)),f+=60*parseInt(h,10);var j=e[5];if(parseInt(j,10)>59)return void(a.error="Invalid second range.");f+=parseInt(j,10),f+=parseInt(e[6],10)/1e3}else f+=parseInt(e[7],10),f+=parseInt(e[8],10)/1e3;return f}AblePlayer.prototype.parseWebVTT=function(a){a=a.replace(/(\r\n|\n|\r)/g,"\n");var c={text:a,error:null,metadata:{},cues:[],line:1,column:1};try{b(c,g)}catch(d){}return c}}(),function(){AblePlayer.prototype.injectPlayerCode=function(){if(this.$mediaContainer=this.$media.wrap('<div class="able-media-container"></div>').parent(),this.$ableDiv=this.$mediaContainer.wrap('<div class="able"></div>').parent(),this.$mediaContainer.width(this.playerWidth),"video"==this.mediaType&&this.$mediaContainer.height(this.playerHeight),this.$ableDiv.width(this.playerWidth),this.injectOffscreenHeading(),"video"===this.mediaType&&"youtube"!==this.player){this.injectBigPlayButton();var a=$("<div>",{"class":"able-vidcap-container"});this.$vidcapContainer=this.$mediaContainer.wrap(a).parent()}this.injectPlayerControlArea(),this.injectTextDescriptionArea(),this.includeTranscript&&(this.injectTranscriptArea(),this.addTranscriptAreaEvents()),this.injectAlert(),this.injectPlaylist(),this.injectPrefsForm()},AblePlayer.prototype.injectOffscreenHeading=function(){var a,b=this.$ableDiv.parents();if(b.each(function(){var b=$(this),c=b.find("h1, h2, h3, h4, h5, h6"),d=c.length;return d?(a=c.eq(d-1).prop("tagName"),!1):void 0}),"undefined"==typeof a)var a="h1";else{var c=parseInt(a[1]);c+=1,c>6&&(c=6),a="h"+c.toString()}this.playerHeadingLevel=c,this.$headingDiv=$("<"+a+">"),this.$ableDiv.prepend(this.$headingDiv),this.$headingDiv.addClass("able-offscreen"),this.$headingDiv.text(this.tt.playerHeading)},AblePlayer.prototype.injectBigPlayButton=function(){this.$bigPlayButton=$("<button>",{"class":"able-big-play-button icon-play","aria-hidden":!0,tabindex:-1});var a=this;this.$bigPlayButton.click(function(){a.handlePlay()}),this.$mediaContainer.prepend(this.$bigPlayButton)},AblePlayer.prototype.injectPlayerControlArea=function(){this.$playerDiv=$("<div>",{"class":"able-player",role:"region","aria-label":this.mediaType+" player"}),this.$playerDiv.addClass("able-"+this.mediaType),this.$nowPlayingDiv=$("<div>",{"class":"able-now-playing",role:"alert"}),this.$controllerDiv=$("<div>",{"class":"able-controller"}),this.$controllerDiv.addClass("able-"+this.iconColor+"-controls"),this.$statusBarDiv=$("<div>",{"class":"able-status-bar"}),this.$timer=$("<span>",{"class":"able-timer"}),this.$elapsedTimeContainer=$("<span>",{"class":"able-elapsedTime",text:"0:00"}),this.$durationContainer=$("<span>",{"class":"able-duration"}),this.$timer.append(this.$elapsedTimeContainer).append(this.$durationContainer),this.$speed=$("<span>",{"class":"able-speed",role:"alert"}).text("Speed: 1x"),this.$status=$("<span>",{"class":"able-status",role:"alert"}),this.$statusBarDiv.append(this.$timer,this.$speed,this.$status),this.$playerDiv.append(this.$nowPlayingDiv,this.$controllerDiv,this.$statusBarDiv),this.$ableDiv.append(this.$playerDiv)},AblePlayer.prototype.injectTextDescriptionArea=function(){this.$descDiv=$("<div>",{"class":"able-descriptions",role:"alert"}),this.$descDiv.hide(),(0===this.prefClosedDesc||0===this.prefVisibleDesc)&&this.$descDiv.addClass("able-clipped"),this.$ableDiv.append(this.$descDiv)},AblePlayer.prototype.injectTranscriptArea=function(){this.$transcriptArea=$("<div>",{"class":"able-transcript-area"}),this.$transcriptToolbar=$("<div>",{"class":"able-transcript-toolbar"}),this.$transcriptDiv=$("<div>",{"class":"able-transcript"}),this.$autoScrollTranscriptCheckbox=$('<input id="autoscroll-transcript-checkbox" type="checkbox">'),this.$transcriptToolbar.append($('<label for="autoscroll-transcript-checkbox">'+this.tt.autoScroll+": </label>"),this.$autoScrollTranscriptCheckbox),this.$transcriptLanguageSelect=$('<select id="transcript-language-select">'),this.$unknownTranscriptOption=$('<option val="unknown">'+this.tt.unknown+"</option>"),this.$transcriptLanguageSelect.append(this.$unknownTranscriptOption),this.$transcriptLanguageSelect.prop("disabled",!0);var a=$('<div style="float: right;">');this.$transcriptLanguageSelectContainer=a,a.append($('<label for="transcript-language-select">'+this.tt.language+": </label>"),this.$transcriptLanguageSelect),this.$transcriptToolbar.append(a),this.$transcriptArea.append(this.$transcriptToolbar,this.$transcriptDiv),this.transcriptDivLocation?$("#"+this.transcriptDivLocation).append(this.$transcriptArea):(this.$ableColumnLeft=this.$ableDiv.wrap('<div class="able-column-left">').parent(),this.$ableColumnLeft.width(this.playerWidth),this.$transcriptArea.insertAfter(this.$ableColumnLeft),this.$ableColumnRight=this.$transcriptArea.wrap('<div class="able-column-right">').parent(),this.$ableColumnRight.width(this.playerWidth)),this.prefTranscript||this.transcriptDivLocation||this.$transcriptArea.hide()},AblePlayer.prototype.injectAlert=function(){this.alertBox=$('<div role="alert"></div>'),this.alertBox.addClass("able-tooltip"),this.alertBox.appendTo(this.$ableDiv),this.alertBox.css({top:this.$mediaContainer.offset().top})},AblePlayer.prototype.injectPlaylist=function(){if(this.playlistEmbed===!0){var a=this.$playlistDom.clone();a.insertBefore(this.$statusBarDiv),this.$playlist=a.find("li")}this.hasPlaylist&&0===this.$sources.length&&(this.initializing=!0,this.swapSource(0),this.$sources=this.$media.find("source"),this.debug)},AblePlayer.prototype.addTranscriptAreaEvents=function(){var a=this;this.$autoScrollTranscriptCheckbox.click(function(){a.handleTranscriptLockToggle(a.$autoScrollTranscriptCheckbox.prop("checked"))}),this.$transcriptDiv.bind("mousewheel DOMMouseScroll click scroll",function(){a.scrollingTranscript||(a.autoScrollTranscript=!1,a.refreshControls()),a.scrollingTranscript=!1}),this.$transcriptLanguageSelect.change(function(){var b=a.$transcriptLanguageSelect.val();for(var c in a.captions)a.captions[c].language===b&&(a.transcriptCaptions=a.captions[c]);for(var c in a.descriptions)a.descriptions[c].language===b&&(a.transcriptDescriptions=a.descriptions[c]);a.updateTranscript()})},AblePlayer.prototype.createTooltip=function(){var a=this,b=$("<div>");return b.attr("role","tooltip"),b.addClass("able-tooltip"),b.keydown(function(c){9===c.which&&(c.shiftKey?b.find("button").first().is(":focus")&&(a.closeTooltips(),c.preventDefault()):b.find("button").last().is(":focus")&&(a.closeTooltips(),c.preventDefault()))}),this.$ableDiv.append(b),b},AblePlayer.prototype.closeTooltips=function(){this.chaptersTooltip&&this.chaptersTooltip.is(":visible")&&(this.chaptersTooltip.hide(),this.$chaptersButton.focus()),this.captionsTooltip&&this.captionsTooltip.is(":visible")&&(this.captionsTooltip.hide(),this.$ccButton.focus())},AblePlayer.prototype.setupTooltips=function(){this.setupCaptionsTooltip(),this.setupChaptersTooltip()},AblePlayer.prototype.setupCaptionsTooltip=function(){this.captionsTooltip=this.createTooltip();for(var a in this.captions){var b=this.captions[a],c=$("<button>");c.html(b.label||b.language),c.attr("tabindex",0),c.click(this.getCaptionClickFunction(b)),this.captionsTooltip.append(c),this.captionsTooltip.append("<br>")}var d=$("<button>");d.attr("tabindex",0),d.html(this.tt.captionsOff),d.click(this.getCaptionOffFunction()),this.captionsTooltip.append(d)},AblePlayer.prototype.setupChaptersTooltip=function(){var a=this;this.chaptersTooltip=this.createTooltip();for(var b in this.chapters){var c=$("<button>");c.html(this.flattenCueForCaption(this.chapters[b])+" - "+this.formatSecondsAsColonTime(this.chapters[b].start)),c.attr("tabindex",0);var d=function(b){return function(){a.seekTo(b),a.chaptersTooltip.hide(),a.$chaptersButton.focus()}};c.click(d(this.chapters[b].start)),this.chaptersTooltip.append(c),this.chaptersTooltip.append("<br>")}},AblePlayer.prototype.provideFallback=function(){var a,b;a=this.tt.errorNoPlay+" "+this.tt[this.mediaType]+". ",b=$("<div>",{"class":"able-fallback",role:"alert"}),this.$media.before(b),b.text(a)},AblePlayer.prototype.addHelp=function(){var a,b,c,d,e,f,g,h,i;for(a=$("<div></div>",{"class":"able-help-div"}),b=$("<div></div>"),c=$("<p></p>").text(this.tt.helpKeys),d=$("<p></p>").text(this.tt.helpKeysDisclaimer),e="<ul>\n",f=0;f<this.controls.length;f++)"play"===this.controls[f]?(g=this.tt.play+"/"+this.tt.pause,h="p </span><em>"+this.tt.or+'</em><span class="able-help-modifiers"> '+this.tt.spacebar):"stop"===this.controls[f]?(g=this.tt.stop,h="s"):"rewind"===this.controls[f]?(g=this.tt.rewind,h="r"):"forward"===this.controls[f]?(g=this.tt.forward,h="f"):"mute"===this.controls[f]?(g=this.tt.mute,h="m"):"volumeUp"===this.controls[f]?(g=this.tt.volumeUp,h="u </b><em>"+this.tt.or+"</em><b> 1-5"):"volumeDown"===this.controls[f]?(g=this.tt.volumeDown,h="d </b><em>"+this.tt.or+"</em><b> 1-5"):"captions"===this.controls[f]?(g=this.captionsOn?this.tt.hideCaptions:this.tt.showCaptions,h="c"):"descriptions"===this.controls[f]?(g=this.descOn?this.tt.turnOffDescriptions:this.tt.turnOnDescriptions,h="n"):"prefs"===this.controls[f]?(g=this.tt.preferences,h="t"):"help"===this.controls[f]?(g=this.tt.help,h="h"):g=!1,g&&(e+='<li><span class="able-help-modifiers">',1===this.prefAltKey&&(e+=this.tt.prefAltKey+" + "),1===this.prefCtrlKey&&(e+=this.tt.prefCtrlKey+" + "),1===this.prefShiftKey&&(e+=this.tt.prefShiftKey+" + "),e+=h+"</span> = "+g+"</li>\n");e+="</ul>\n",b.append(c),b.append(e),b.append(d),a.append(b),$("body").append(a);var j=new AccessibleDialog(a,"alertdialog",this.tt.helpTitle,b,this.tt.closeButtonLabel,"40em");a.append("<hr>"),i=$("<button>"+this.tt.ok+"</button>"),i.click(function(){j.hide()}),a.append(i),this.helpDialog=j},AblePlayer.prototype.calculateControlLayout=function(){var a={ul:["play","stop"],ur:[],bl:[],br:[]};this.useSlider&&(a.ur.push("rewind"),a.ur.push("seek"),a.ur.push("forward"));var b=[];this.browserSupportsVolume()&&(b.push("mute"),b.push("volume-up"),b.push("volume-down"));var c=[];return"video"===this.mediaType&&(this.hasCaptions&&c.push("captions"),(this.hasOpenDesc||this.hasClosedDesc)&&c.push("descriptions"),this.hasSignLanguage&&c.push("sign")),this.includeTranscript&&this.useTranscriptButton&&c.push("transcript"),this.isPlaybackRateSupported()&&(c.push("slower"),c.push("faster")),"video"===this.mediaType&&this.hasChapters&&c.push("chapters"),b.length>0&&c.length>0?(a.bl=b,a.bl.push("pipe"),a.bl=a.bl.concat(c)):a.bl=b.concat(c),a.br.push("preferences"),a.br.push("help"),"video"===this.mediaType&&"jw"!==this.player&&a.br.push("fullscreen"),a},AblePlayer.prototype.addControls=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=100,n=this.calculateControlLayout(),o={0:"ul",1:"ur",2:"bl",3:"br"};for(a=0;3>=a;a++){for(c=n[o[a]],d=a%2===0?$("<span>",{"class":"able-left-controls"}):$("<span>",{"class":"able-right-controls"}),this.$controllerDiv.append(d),b=0;b<c.length;b++)if(e=c[b],"seek"===e){var p=$('<div class="able-seekbar"></div>');d.append(p),this.seekBar=new AccessibleSeekBar(p,m)}else if("pipe"===e){var q=$("<span>",{tabindex:"-1","aria-hidden":"true"});
if("font"===this.iconType)q.addClass("icon-pipe");else{var r=$("<img>",{src:"../images/"+this.iconColor+"/pipe.png",alt:"",role:"presentation"});q.append(r)}d.append(q)}else{if(g="mute"===e?"../images/"+this.iconColor+"/volume-mute.png":"fullscreen"===e?"../images/"+this.iconColor+"/fullscreen-expand.png":"../images/"+this.iconColor+"/"+e+".png",h=this.getButtonTitle(e),i=$("<button>",{type:"button",tabindex:"0",title:h,"class":"able-button-handler-"+e}),"font"===this.iconType){j="icon-"+e,k=$("<span>",{"class":j,"aria-hidden":"true"});{$("<span>",{"class":"able-clipped"}).text(h)}i.append(k)}else f=$("<img>",{src:g,alt:"",role:"presentation"}),i.append(f);"captions"===e?this.prefCaptions&&1===this.prefCaptions||i.addClass("buttonOff").attr("title",this.tt.showCaptions):"descriptions"===e&&(this.prefDesc&&1===this.prefDesc||i.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions)),d.append(i),"play"===e?this.$playpauseButton=i:"captions"===e?this.$ccButton=i:"descriptions"===e?(this.$descButton=i,this.descOn||this.$descButton.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions)):"mute"===e?this.$muteButton=i:"transcript"===e?this.$transcriptButton=i:"fullscreen"===e?this.$fullscreenButton=i:"chapters"===e&&(this.$chaptersButton=i)}a%2==1&&this.$controllerDiv.append('<div style="clear:both;"></div>')}"video"===this.mediaType&&(l={width:this.playerWidth+"px",height:this.playerHeight+"px"},this.$vidcapContainer&&this.$vidcapContainer.css(l),this.$captionDiv&&this.$captionDiv.css("width",this.playerWidth+"px"),this.$descDiv&&this.$descDiv.css("width",this.playerWidth+"px")),this.controls=[];for(var s in n)this.controls=this.controls.concat(n[s]);this.addHelp(),this.refreshControls()},AblePlayer.prototype.swapSource=function(a){var b,c,d,e,f,g,h,i,j;for(this.$media.find("source").remove(),b=this.$playlist.eq(a),c=b.html(),b.attr("lang")&&(d=b.attr("lang")),e=[],f=0,"audio"===this.mediaType?(b.attr("data-mp3")&&(g=b.attr("data-mp3"),e[f]=new Array("audio/mpeg",g),f++),b.attr("data-webm")&&(e[f]=new Array("audio/webm",b.attr("data-webm")),f++),b.attr("data-webma")&&(e[f]=new Array("audio/webm",b.attr("data-webma")),f++),b.attr("data-ogg")&&(e[f]=new Array("audio/ogg",b.attr("data-ogg")),f++),b.attr("data-oga")&&(e[f]=new Array("audio/ogg",b.attr("data-oga")),f++),b.attr("data-wav")&&(e[f]=new Array("audio/wav",b.attr("data-wav")),f++)):"video"===this.mediaType&&(b.attr("data-mp4")&&(g=b.attr("data-mp4"),e[f]=new Array("video/mp4",g),f++),b.attr("data-webm")&&(e[f]=new Array("video/webm",b.attr("data-webm")),f++),b.attr("data-webmv")&&(e[f]=new Array("video/webm",b.attr("data-webmv")),f++),b.attr("data-ogg")&&(e[f]=new Array("video/ogg",b.attr("data-ogg")),f++),b.attr("data-ogv")&&(e[f]=new Array("video/ogg",b.attr("data-ogv")),f++)),h=0;h<e.length;h++)i=$("<source>",{type:e[h][0],src:e[h][1]}),this.$media.append(i);this.$playlist.removeClass("able-current"),b.addClass("able-current"),this.showNowPlaying===!0&&(j=$("<span>"),"undefined"!=typeof d&&j.attr("lang",d),j.html("<span>Selected track:</span>"+c),this.$nowPlayingDiv.html(j)),this.initializing?this.swappingSrc=!1:(this.swappingSrc=!0,"html5"===this.player?this.media.load():"jw"===this.player?this.jwPlayer.load({file:g}):"youtube"===this.player)},AblePlayer.prototype.getButtonTitle=function(a){return"playpause"===a?this.tt.play:"play"===a?this.tt.play:"pause"===a?this.tt.pause:"stop"===a?this.tt.stop:"rewind"===a?this.tt.rewind:"forward"===a?this.tt.forward:"captions"===a?this.captionsOn?this.tt.hideCaptions:this.tt.showCaptions:"descriptions"===a?this.descOn?this.tt.turnOffDescriptions:this.tt.turnOnDescriptions:"transcript"===a?this.$transcriptDiv.is(":visible")?this.tt.hideTranscript:this.tt.showTranscript:"chapters"===a?this.tt.chapters:"sign"===a?this.tt.sign:"mute"===a?this.getVolume()>0?this.tt.mute:this.tt.unmute:"volume-up"===a?this.tt.volumeUp:"volume-down"===a?this.tt.volumeDown:"faster"===a?this.tt.faster:"slower"===a?this.tt.slower:"preferences"===a?this.tt.preferences:"help"===a?this.tt.help:(this.debug,a.charAt(0).toUpperCase()+a.slice(1))}}(),function(){AblePlayer.prototype.setupTracks=function(){var a=new $.Deferred,b=a.promise();this.$tracks=this.$media.find("track"),this.captions=[],this.descriptions=[],this.meta=[];for(var c=[],d=0;d<this.$tracks.length;d++){var e=this.$tracks[d],f=e.getAttribute("kind"),g=e.getAttribute("src");if(g){var h=this.loadTextObject(g),i=this;c.push(h),h.then(function(a,b){return function(c){var d=i.parseWebVTT(c).cues;"captions"===b||"subtitles"===b?i.setupCaptions(a,d):"descriptions"===b?i.setupDescriptions(a,d):"chapters"===b?i.setupChapters(a,d):"metadata"===b&&i.setupMetadata(a,d)}}(e,f))}}return $.when.apply($,c).then(function(){a.resolve()}),b},AblePlayer.prototype.setupCaptions=function(a,b){var c=a.getAttribute("srclang"),d=a.getAttribute("label")||c;if(this.hasCaptions=!0,"video"===this.mediaType&&(this.$captionDiv||(this.$captionDiv=$("<div>",{"class":"able-captions","aria-hidden":"true"}),this.$vidcapContainer.append(this.$captionDiv))),this.currentCaption=-1,this.captionsOn=1===this.prefCaptions?!0:!1,this.captions.push({cues:b,language:c,label:d}),c&&this.includeTranscript){this.$unknownTranscriptOption&&(this.$unknownTranscriptOption.remove(),this.$unknownTranscriptOption=null);var e=$('<option value="'+c+'">'+d+"</option>");if(void 0!==$(a).attr("default"))e.attr("selected","selected"),this.$transcriptLanguageSelect.prepend(e),this.defaultTrackInsertedToTranscript=1;else{var f=this.$transcriptLanguageSelect.find("option");if(0===f.length)this.$transcriptLanguageSelect.append(e);else{for(var g=!1,h=this.defaultTrackInserted||0;h<f.length;h++)if(d.toLowerCase()<f.eq(h).text().toLowerCase()){e.insertBefore(f.eq(h)),g=!0;break}g||this.$transcriptLanguageSelect.append(e)}}this.$transcriptLanguageSelect.find("option").length>1&&this.$transcriptLanguageSelect.prop("disabled",!1)}},AblePlayer.prototype.setupDescriptions=function(a,b){var c=a.getAttribute("srclang");this.descOn=!1,this.hasClosedDesc=!0,this.currentDescription=-1,1===this.prefDesc&&1===this.prefClosedDesc&&(this.descOn=!0),this.descriptions.push({cues:b,language:c})},AblePlayer.prototype.setupChapters=function(a,b){this.hasChapters=!0,this.chapters=b},AblePlayer.prototype.setupMetadata=function(a,b){this.metaDiv&&$("#"+this.metaDiv)&&(this.$metaDiv=$("#"+this.metaDiv),this.hasMeta=!0),this.meta=b},AblePlayer.prototype.loadTextObject=function(a){var b=new $.Deferred,c=b.promise(),d=this,e=$("<div>",{style:"display:none"});return e.load(a,function(a,c){"error"===c?(d.debug,b.fail()):b.resolve(a),e.remove()}),c}}(),function(){window.AccessibleSeekBar=function(a,b){var c=this;this.position=0,this.tracking=!1,this.trackDevice=null,this.keyTrackPosition=0,this.lastTrackPosition=0,this.nextStep=1,this.inertiaCount=0,this.bodyDiv=$(a),this.loadedDiv=$("<div></div>"),this.playedDiv=$("<div></div>"),this.seekHead=$('<div class="able-seek-head"></div>'),this.seekHead.attr("tabindex","0"),this.seekHead.attr("role","slider"),this.seekHead.attr("aria-value-min",0),this.timeTooltip=$("<div>"),this.bodyDiv.append(this.timeTooltip),this.timeTooltip.attr("role","tooltip"),this.timeTooltip.addClass("able-tooltip"),this.bodyDiv.append(this.loadedDiv),this.bodyDiv.append(this.playedDiv),this.bodyDiv.append(this.seekHead),this.bodyDiv.wrap("<div></div>"),this.wrapperDiv=this.bodyDiv.parent(),this.wrapperDiv.width(b),this.wrapperDiv.css({display:"inline-block","vertical-align":"middle"}),this.bodyDiv.css({position:"relative",height:"0.5em",border:"1px solid","background-color":"#000000",margin:"0 3px","border-style":"solid","border-width":"2px","border-color":"#ffffff"}),this.loadedDiv.width(0),this.loadedDiv.css({display:"inline-block",position:"absolute",left:0,top:0,height:"0.5em","background-color":"#464646","z-index":1}),this.playedDiv.width(0),this.playedDiv.css({display:"inline-block",position:"absolute",left:0,top:0,height:"0.5em","background-color":"#DADADA","z-index":2});var d="0.8em";this.seekHead.css({display:"inline-block",position:"relative",left:0,top:"-0.45em",height:d,width:d,border:"1px solid","background-color":"#FDFDFD","border-radius":d,"-webkit-border-radius":d,"-moz-border-radius":d,"-o-border-radius":d,"z-index":3}),this.setDuration(100),this.seekHead.hover(function(){c.overHead=!0,c.refreshTooltip()},function(a){c.overHead=!1,!c.overBody&&c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(a.pageX)),c.refreshTooltip()}),this.seekHead.mousemove(function(a){c.tracking&&"mouse"===c.trackDevice&&c.trackHeadAtPageX(a.pageX)}),this.bodyDiv.hover(function(){c.overBody=!0,c.refreshTooltip()},function(a){c.overBody=!1,c.overBodyMousePos=null,c.refreshTooltip(),!c.overHead&&c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(a.pageX))}),this.bodyDiv.mousemove(function(a){c.overBodyMousePos={x:a.pageX,y:a.pageY},c.tracking&&"mouse"===c.trackDevice&&c.trackHeadAtPageX(a.pageX),c.refreshTooltip()}),this.bodyDiv.mousedown(function(a){c.startTracking("mouse",c.pageXToPosition(a.pageX)),c.trackHeadAtPageX(a.pageX),c.seekHead.is(":focus")||c.seekHead.focus(),a.preventDefault()}),this.seekHead.mousedown(function(a){c.startTracking("mouse",c.pageXToPosition(c.seekHead.offset()+c.seekHead.width()/2)),c.bodyDiv.is(":focus")||c.bodyDiv.focus(),a.preventDefault()}),this.bodyDiv.mouseup(function(a){c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(a.pageX))}),this.seekHead.mouseup(function(a){c.tracking&&"mouse"===c.trackDevice&&c.stopTracking(c.pageXToPosition(a.pageX))}),this.bodyDiv.keydown(function(a){if(36===a.which)c.trackImmediatelyTo(0);else if(35===a.which)c.trackImmediatelyTo(c.duration);else if(37===a.which||40===a.which)c.arrowKeyDown(-1);else{if(39!==a.which&&38!==a.which)return;c.arrowKeyDown(1)}a.preventDefault()}),this.bodyDiv.keyup(function(a){(35===a.which||36===a.which||37===a.which||38===a.which||39===a.which||40===a.which)&&(c.tracking&&"keyboard"===c.trackDevice&&c.stopTracking(c.keyTrackPosition),a.preventDefault())})},AccessibleSeekBar.prototype.arrowKeyDown=function(a){this.tracking&&"keyboard"===this.trackDevice?(this.keyTrackPosition=this.boundPos(this.keyTrackPosition+this.nextStep*a),this.inertiaCount+=1,20===this.inertiaCount&&(this.inertiaCount=0,this.nextStep*=2),this.trackHeadAtPosition(this.keyTrackPosition)):(this.nextStep=1,this.inertiaCount=0,this.keyTrackPosition=this.boundPos(this.position+this.nextStep*a),this.startTracking("keyboard",this.keyTrackPosition),this.trackHeadAtPosition(this.keyTrackPosition))},AccessibleSeekBar.prototype.pageXToPosition=function(a){var b=a-this.bodyDiv.offset().left,c=this.duration*(b/this.bodyDiv.width());return this.boundPos(c)},AccessibleSeekBar.prototype.boundPos=function(a){return Math.max(0,Math.min(a,this.duration))},AccessibleSeekBar.prototype.setDuration=function(a){a!==this.duration&&(this.duration=a,this.resetHeadLocation(),this.seekHead.attr("aria-value-max",a))},AccessibleSeekBar.prototype.setWidth=function(a){this.wrapperDiv.width(a),this.resizeDivs(),this.resetHeadLocation()},AccessibleSeekBar.prototype.getWidth=function(){return this.wrapperDiv.width()},AccessibleSeekBar.prototype.resizeDivs=function(){this.playedDiv.width(this.bodyDiv.width()*(this.position/this.duration)),this.loadedDiv.width(this.bodyDiv.width()*this.buffered)},AccessibleSeekBar.prototype.resetHeadLocation=function(){var a=this.position/this.duration,b=this.bodyDiv.width()*a;this.seekHead.css("left",b-this.seekHead.width()/2),this.tracking&&this.stopTracking(this.position)},AccessibleSeekBar.prototype.setPosition=function(a,b){this.position=a,this.resetHeadLocation(),this.refreshTooltip(),this.resizeDivs(),this.updateAriaValues(a,b)},AccessibleSeekBar.prototype.setBuffered=function(a){this.buffered=a,this.redrawDivs},AccessibleSeekBar.prototype.startTracking=function(a,b){this.tracking||(this.trackDevice=a,this.tracking=!0,this.bodyDiv.trigger("startTracking",[b]))},AccessibleSeekBar.prototype.stopTracking=function(a){this.trackDevice=null,this.tracking=!1,this.bodyDiv.trigger("stopTracking",[a]),this.setPosition(a,!0)},AccessibleSeekBar.prototype.trackHeadAtPageX=function(a){var b=this.pageXToPosition(a),c=a-this.bodyDiv.offset().left-this.seekHead.width()/2;c=Math.max(0,Math.min(c,this.bodyDiv.width()-this.seekHead.width())),this.lastTrackPosition=b,this.seekHead.css("left",c),this.reportTrackAtPosition(b)},AccessibleSeekBar.prototype.trackHeadAtPosition=function(a){var b=a/this.duration,c=this.bodyDiv.width()*b;this.lastTrackPosition=a,this.seekHead.css("left",c-this.seekHead.width()/2),this.reportTrackAtPosition(a)},AccessibleSeekBar.prototype.reportTrackAtPosition=function(a){this.bodyDiv.trigger("tracking",[a]),this.updateAriaValues(a,!0)},AccessibleSeekBar.prototype.updateAriaValues=function(a,b){var c,d=Math.floor(a/3600),e=Math.floor(a%3600/60),f=Math.floor(a%60),g=1===e?"minute":"minutes",h=1===f?"second":"seconds";c=d>0?d+" "+pHourword+", "+e+" "+g+", "+f+" "+h:e>0?e+" "+g+", "+f+" "+h:f+" "+h,this.liveAriaRegion||(this.liveAriaRegion=$("<span>",{"class":"able-offscreen","aria-live":"polite"}),this.wrapperDiv.append(this.liveAriaRegion)),b&&this.liveAriaRegion.text()!==c&&this.liveAriaRegion.text(c)},AccessibleSeekBar.prototype.trackImmediatelyTo=function(a){this.startTracking("keyboard",a),this.trackHeadAtPosition(a),this.keyTrackPosition=a},AccessibleSeekBar.prototype.refreshTooltip=function(){this.overHead?(this.timeTooltip.show(),this.timeTooltip.text(this.tracking?this.positionToStr(this.lastTrackPosition):this.positionToStr(this.position)),this.setTooltipPosition(this.seekHead.position().left+this.seekHead.width()/2)):this.overBody&&this.overBodyMousePos?(this.timeTooltip.show(),this.timeTooltip.text(this.positionToStr(this.pageXToPosition(this.overBodyMousePos.x))),this.setTooltipPosition(this.overBodyMousePos.x-this.bodyDiv.offset().left)):this.timeTooltip.hide()},AccessibleSeekBar.prototype.setTooltipPosition=function(a){this.timeTooltip.css({left:a-this.timeTooltip.width()/2-10,bottom:this.seekHead.height()+10})},AccessibleSeekBar.prototype.positionToStr=function(a){var b=Math.floor(a/60),c=Math.floor(a%60);return 10>c&&(c="0"+c),b+":"+c}}(),function(){var a="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";window.AccessibleDialog=function(b,c,d,e,f,g,h,i){this.title=d,this.closeButtonLabel=f,this.escapeHook=i,this.baseId=$(b).attr("id")||Math.floor(1e9*Math.random()).toString();var j=this,k=b;if(this.modal=k,k.css({width:g||"50%",top:h?"0":"25%"}),k.addClass("modalDialog"),!h){var l=$("<button>",{"class":"modalCloseButton",title:j.closeButtonLabel,"aria-label":j.closeButtonLabel}).text("X");l.keydown(function(a){32===a.which&&j.hide()}).click(function(){j.hide()});var m=$("<h1></h1>");m.attr("id","modalTitle-"+this.baseId),m.css("text-align","center"),m.text(d),e.attr("id","modalDesc-"+this.baseId),k.attr({"aria-labelledby":"modalTitle-"+this.baseId,"aria-describedby":"modalDesc-"+this.baseId}),k.prepend(m),k.prepend(l)}k.attr({"aria-hidden":"true",role:c}),k.keydown(function(b){if(27===b.which)j.escapeHook?j.escapeHook(b,this):(j.hide(),b.preventDefault());else if(9===b.which){var c=k.find("*"),d=c.filter(a).filter(":visible");if(0===d.length)return;var e=$(":focus"),f=d.index(e);b.shiftKey?0===f&&(d.get(d.length-1).focus(),b.preventDefault()):f===d.length-1&&(d.get(0).focus(),b.preventDefault())}b.stopPropagation()}),$("body > *").not(".modalOverlay").not(".modalDialog").attr("aria-hidden","false")},AccessibleDialog.prototype.show=function(){if(!this.overlay){var b=$("<div></div>").attr({"class":"modalOverlay",tabindex:"-1"});this.overlay=b,$("body").append(b),b.on("mousedown.accessibleModal",function(a){a.preventDefault()})}$("body > *").not(".modalOverlay").not(".modalDialog").attr("aria-hidden","true"),this.overlay.css("display","block"),this.modal.css("display","block"),this.modal.attr({"aria-hidden":"false",tabindex:"-1"}),this.focusedElementBeforeModal=$(":focus");var c=this.modal.find("*").filter(a).filter(":visible");0===c.length&&this.focusedElementBeforeModal.blur();var d=this;setTimeout(function(){d.modal.focus()},300)},AccessibleDialog.prototype.hide=function(){this.overlay&&this.overlay.css("display","none"),this.modal.css("display","none"),this.modal.attr("aria-hidden","true"),$("body > *").not(".modalOverlay").not(".modalDialog").attr("aria-hidden","false"),this.focusedElementBeforeModal.focus()}}(),function(){AblePlayer.prototype.countProperties=function(a){var b,c;b=0;for(c in a)a.hasOwnProperty(c)&&++b;return b},AblePlayer.prototype.formatSecondsAsColonTime=function(a){var b=Math.floor(a/60),c=Math.floor(a%60);return 10>c&&(c="0"+c),b+":"+c}}(),function(){AblePlayer.prototype.initDescription=function(){this.descFile=this.$sources.first().attr("data-desc-src"),this.descFile?(this.debug,this.hasOpenDesc=!0,this.prefDesc&&(this.descOn=!0)):(this.debug,this.hasOpenDesc=!1),this.updateDescription()},AblePlayer.prototype.updateDescription=function(a){var b;this.descOn?this.prefClosedDesc?(b=!1,this.hasClosedDesc&&(this.prefVisibleDesc?(this.$descDiv.show(),this.$descDiv.removeClass("able-clipped")):(this.$descDiv.hide(),this.$descDiv.addClass("able-clipped")),this.showDescription(a||this.getElapsed()))):b=!0:(this.$descDiv.hide(),b=!1),this.hasOpenDesc&&this.usingAudioDescription()!==b&&this.swapDescription()},AblePlayer.prototype.usingAudioDescription=function(){return this.$sources.first().attr("data-desc-src")===this.$sources.first().attr("src")},AblePlayer.prototype.swapDescription=function(){var a,b,c,d,e,f;if(this.usingAudioDescription()){for(a=0;a<this.$sources.length;a++)b=this.$sources[a].getAttribute("data-orig-src"),d=this.$sources[a].getAttribute("type"),b&&this.$sources[a].setAttribute("src",b),"video/mp4"===d&&(e=a);this.swappingSrc=!0}else{for(a=0;a<this.$sources.length;a++)b=this.$sources[a].getAttribute("src"),c=this.$sources[a].getAttribute("data-desc-src"),d=this.$sources[a].getAttribute("type"),c&&(this.$sources[a].setAttribute("src",c),this.$sources[a].setAttribute("data-orig-src",b)),"video/mp4"===d&&(e=a);this.swappingSrc=this.initializing?!1:!0}"html5"===this.player?this.media.load():"jw"===this.player?(f=this.$sources[e].getAttribute("src"),this.jwPlayer.load({file:f})):"youtube"===this.player},AblePlayer.prototype.showDescription=function(a){var b,c,d,e=function(a){var b=[];if("string"===a.type)b.push(a.value);else for(var c in a.children)b.push(e(a.children[c]));return b.join("")};d=this.selectedDescriptions?this.selectedDescriptions.cues:this.descriptions.length>=1?this.descriptions[0].cues:[];for(b in d)if(d[b].start<=a&&d[b].end>a){c=b;break}"undefined"!=typeof c?this.currentDescription!==c&&(this.$descDiv.html(e(d[c].components)),this.prefDescPause&&this.pauseMedia(),this.currentDescription=c,this.$descDiv.is(":hidden")&&this.$descDiv.show()):(this.$descDiv.html(""),this.currentDescription=-1)}}(),function(){AblePlayer.prototype.browserSupportsVolume=function(){var a,b;return a=navigator.userAgent.toLowerCase(),b=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(a),b?"android"===b[0]&&/firefox/.test(a)?!0:!1:!0},AblePlayer.prototype.isUserAgent=function(a){var b;return b=navigator.userAgent.toLowerCase(),this.debug,-1!==b.indexOf(a)?!0:!1},AblePlayer.prototype.isIOS=function(a){var b,c;return b=navigator.userAgent.toLowerCase(),c=/ipad|iphone|ipod/.exec(b),c?"undefined"!=typeof a?-1!==b.indexOf("os "+a)?!0:!1:!0:!1},AblePlayer.prototype.nativeFullscreenSupported=function(){return"jw"===this.player?!1:document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}(),function(){AblePlayer.prototype.seekTo=function(a){if("html5"===this.player){var b;this.startTime=a,b=this.media.seekable,b.length>0&&this.startTime>=b.start(0)&&this.startTime<=b.end(0)&&(this.media.currentTime=this.startTime)}else"jw"===this.player?(this.jwSeekPause=!0,this.jwPlayer.seek(a)):"youtube"===this.player&&this.youtubePlayer.seekTo(a);this.liveUpdatePending=!0,this.refreshControls()},AblePlayer.prototype.getDuration=function(){var a;return"html5"===this.player?a=this.media.duration:"jw"===this.player?a=this.jwPlayer.getDuration():"youtube"===this.player&&(a=this.youtubePlayer.getDuration()),void 0===a||isNaN(a)||-1===a?0:a},AblePlayer.prototype.getElapsed=function(){var a;if("html5"===this.player)a=this.media.currentTime;else if("jw"===this.player){if("IDLE"===this.jwPlayer.getState())return 0;a=this.jwPlayer.getPosition()}else"youtube"===this.player&&(a=this.youtubePlayer.getCurrentTime());return void 0===a||isNaN(a)||-1===a?0:a},AblePlayer.prototype.getPlayerState=function(){if("html5"===this.player)return this.media.paused?0===this.getElapsed()?"stopped":this.media.ended?"ended":"paused":4!==this.media.readyState?"buffering":"playing";if("jw"===this.player){if("PAUSED"===this.jwPlayer.getState()||"IDLE"===this.jwPlayer.getState()||void 0===this.jwPlayer.getState())return 0===this.getElapsed()?"stopped":this.getElapsed()===this.getDuration()?"ended":"paused";if("BUFFERING"===this.jwPlayer.getState())return"buffering";if("PLAYING"===this.jwPlayer.getState())return"playing"}else if("youtube"===this.player){var a=this.youtubePlayer.getPlayerState();if(-1===a||5===a)return"stopped";if(0===a)return"ended";if(1===a)return"playing";if(2===a)return"paused";if(3===a)return"buffering"}},AblePlayer.prototype.isMuted=function(){return this.browserSupportsVolume()?"html5"===this.player?this.media.muted:"jw"===this.player?this.jwPlayer.getMute():"youtube"===this.player?this.youtubePlayer.isMuted():void 0:!1},AblePlayer.prototype.setMute=function(a){this.browserSupportsVolume()&&(a?(this.$muteButton.attr("title",this.tt.unmute),this.$muteButton.find("span.able-clipped").text(this.tt.unmute)):(this.$muteButton.attr("title",this.tt.mute),this.$muteButton.find("span.able-clipped").text(this.tt.mute)),"html5"===this.player?this.media.muted=a:"jw"===this.player?this.jwPlayer.setMute(a):"youtube"===this.player&&(a?this.youtubePlayer.mute():this.youtubePlayer.unMute()),a||this.lastVolume&&this.setVolume(this.lastVolume))},AblePlayer.prototype.setVolume=function(a){this.browserSupportsVolume()&&("html5"===this.player?this.media.volume=a:"jw"===this.player?this.jwPlayer.setVolume(100*a):"youtube"===this.player&&this.youtubePlayer.setVolume(100*a),this.lastVolume=a)},AblePlayer.prototype.getVolume=function(){return this.browserSupportsVolume()?"html5"===this.player?this.media.volume:"jw"===this.player?this.jwPlayer.getVolume()/100:"youtube"===this.player?this.youtubePlayer.getVolume()/100:void 0:1},AblePlayer.prototype.isPlaybackRateSupported=function(){return"html5"===this.player?this.media.playbackRate?!0:!1:"jw"===this.player?!1:"youtube"===this.player?this.youtubePlayer.getAvailablePlaybackRates().length>1:void 0},AblePlayer.prototype.setPlaybackRate=function(a){a=Math.max(.5,a),"html5"===this.player?this.media.playbackRate=a:"youtube"===this.player&&this.youtubePlayer.setPlaybackRate(a),this.$speed.text("Speed: "+a.toFixed(2).toString()+"x")},AblePlayer.prototype.getPlaybackRate=function(){return"html5"===this.player?this.media.playbackRate:"jw"===this.player?1:"youtube"===this.player?this.youtubePlayer.getPlaybackRate():void 0},AblePlayer.prototype.isPaused=function(){var a=this.getPlayerState();return"paused"===a||"stopped"===a||"ended"===a},AblePlayer.prototype.pauseMedia=function(){"html5"===this.player?this.media.pause(!0):"jw"===this.player?this.jwPlayer.pause(!0):"youtube"===this.player&&this.youtubePlayer.pauseVideo()},AblePlayer.prototype.playMedia=function(){"html5"===this.player?this.media.play(!0):"jw"===this.player?this.jwPlayer.play(!0):"youtube"===this.player&&this.youtubePlayer.playVideo(),this.startedPlaying=!0},AblePlayer.prototype.refreshControls=function(){var a=this,b=this.getDuration(),c=this.getElapsed();if(this.useFixedSeekInterval===!1&&this.seekIntervalCalculated===!1&&b>0&&b>0&&(this.seekInterval=Math.max(this.seekInterval,b/10),this.seekIntervalCalculated=!0),this.seekBar&&(this.seekBar.setDuration(b),!this.seekBar.tracking)){var d=this.liveUpdatePending||this.seekBar.seekHead.is($(document.activeElement));this.liveUpdatePending=!1,this.seekBar.setPosition(c,d)}var e;e=this.seekBar.tracking?this.seekBar.lastTrackPosition:c,this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(b)),this.$elapsedTimeContainer.text(this.formatSecondsAsColonTime(e));var f={stopped:this.tt.statusStopped,paused:this.tt.statusPaused,playing:this.tt.statusPlaying,buffering:this.tt.statusBuffering,ended:this.tt.statusEnd};if(this.$status.text()===f[this.getPlayerState()]||this.seekBar.tracking)this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null;else{var g=(new Date).getTime();this.statusDebounceStart?g-this.statusDebounceStart>250&&(this.$status.text(f[this.getPlayerState()]),this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null):(this.statusDebounceStart=g,this.statusTimeout=setTimeout(function(){a.refreshControls()},300))}if(this.seekBar.tracking||(this.isPaused()?(this.$playpauseButton.attr("title",this.tt.play),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):this.$playpauseButton.find("img").attr("src",this.playButtonImg)):(this.$playpauseButton.attr("title",this.tt.pause),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-play").addClass("icon-pause"),this.$playpauseButton.find("span.able-clipped").text(this.tt.pause)):this.$playpauseButton.find("img").attr("src",this.pauseButtonImg))),this.seekBar){var h=0,i=this.seekBar.wrapperDiv.parent().prev();i.children().each(function(){h+=$(this).width()});for(var j=this.seekBar.wrapperDiv.prev();j.length>0;)h+=j.width(),j=j.prev();for(var k=this.seekBar.wrapperDiv.next();k.length>0;)h+=k.width(),k=k.next();var l=this.$playerDiv.width()-h-20;Math.abs(l-this.seekBar.getWidth())>5&&this.seekBar.setWidth(l)}if(this.$descButton&&(this.descOn?(this.$descButton.removeClass("buttonOff").attr("title",this.tt.turnOffDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOffDescriptions)):(this.$descButton.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOnDescriptions))),this.$ccButton&&(this.captionsOn?(this.$ccButton.removeClass("buttonOff"),1===this.captions.length&&(this.$ccButton.attr("title",this.tt.hideCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.hideCaptions))):(this.$ccButton.addClass("buttonOff"),1===this.captions.length&&(this.$ccButton.attr("title",this.tt.showCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.showCaptions))),this.captions.length>1&&(this.$ccButton.attr("title",this.tt.showCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.showCaptions))),this.$muteButton&&(this.isMuted()?"font"===this.iconType?(this.$muteButton.find("span").first().removeClass("icon-volume-loud").addClass("icon-volume-mute"),this.$muteButton.find("span.able-clipped").text(this.tt.unmute)):this.$muteButton.find("img").attr("src",this.volumeMuteButtonImg):"font"===this.iconType?(this.$muteButton.find("span").first().removeClass("icon-volume-mute").addClass("icon-volume-loud"),this.$muteButton.find("span.able-clipped").text(this.tt.mute)):this.$muteButton.find("img").attr("src",this.volumeLoudButtonImg)),this.$fullscreenButton&&(this.isFullscreen()?(this.$fullscreenButton.attr("title",this.tt.exitFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-expand").addClass("icon-fullscreen-collapse"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullScreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenCollapseButtonImg)):(this.$fullscreenButton.attr("title",this.tt.enterFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-collapse").addClass("icon-fullscreen-expand"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullScreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenExpandButtonImg))),"undefined"!=typeof this.$bigPlayButton&&(this.isPaused()&&!this.seekBar.tracking?(this.$bigPlayButton.show(),this.$bigPlayButton.width(this.$mediaContainer.width()),this.$bigPlayButton.height(this.$mediaContainer.height())):this.$bigPlayButton.hide()),this.includeTranscript&&(this.autoScrollTranscript!==this.$autoScrollTranscriptCheckbox.prop("checked")&&this.$autoScrollTranscriptCheckbox.prop("checked",this.autoScrollTranscript),this.autoScrollTranscript&&this.currentHighlight)){var m=Math.floor($(".able-transcript").scrollTop()+$(this.currentHighlight).position().top-$(".able-transcript").height()/2+$(this.currentHighlight).height()/2);m!==Math.floor($(".able-transcript").scrollTop())&&(this.scrollingTranscript=!0,$(".able-transcript").scrollTop(m))}"html5"===this.player?this.media.buffered.length>0&&this.seekBar.setBuffered(this.media.buffered.end(0)/this.getDuration()):"jw"===this.player?this.seekBar.setBuffered(this.jwPlayer.getBuffer()/100):"youtube"===this.player&&this.seekBar.setBuffered(this.youtubePlayer.getVideoLoadedFraction())},AblePlayer.prototype.handlePlay=function(){this.isPaused()?this.playMedia():this.pauseMedia(),this.refreshControls()},AblePlayer.prototype.handleStop=function(){"html5"==this.player?(this.pauseMedia(),this.seekTo(0)):"jw"==this.player&&this.jwPlayer.stop(),this.refreshControls()},AblePlayer.prototype.handleRewind=function(){var a=this.getElapsed()-this.seekInterval;this.seekTo(0>a?0:a)},AblePlayer.prototype.handleFastForward=function(){var a=this.getElapsed()+this.seekInterval;this.seekTo(a>this.getDuration()?this.getDuration():a)},AblePlayer.prototype.handleMute=function(){this.setMute(this.isMuted()?!1:!0)},AblePlayer.prototype.handleVolume=function(a){var b;this.isMuted()&&this.setMute(!1),b=this.getVolume(),"up"===a?b=.9>b?Math.round(10*(b+.1))/10:1:"down"===a?b=b>.1?Math.round(10*(b-.1))/10:0:(a>=49||53>=a)&&(b=.2*(a-48)),this.setVolume(b),0===b&&this.setMute(!0)},AblePlayer.prototype.handleRateIncrease=function(){this.changeRate(1)},AblePlayer.prototype.handleRateDecrease=function(){this.changeRate(-1)},AblePlayer.prototype.changeRate=function(a){if("html5"===this.player)this.setPlaybackRate(this.getPlaybackRate()+.25*a);else if("youtube"===this.player){var b=this.youtubePlayer.getAvailablePlaybackRates(),c=this.getPlaybackRate(),d=b.indexOf(c);-1===d||(d+=a,d<b.length&&d>=0&&this.setPlaybackRate(b[d]))}},AblePlayer.prototype.handleCaptionToggle=function(){1===this.captions.length?(this.captionsOn===!0?(this.captionsOn=!1,this.$captionDiv.hide()):(this.captionsOn=!0,this.$captionDiv.show(),this.selectedCaptions=this.captions[0],this.descriptions.length>=0&&(this.selectedDescriptions=this.descriptions[0])),this.refreshControls()):this.captionsTooltip.is(":visible")?(this.captionsTooltip.hide(),this.$ccButton.focus()):(this.closeTooltips(),this.captionsTooltip.show(),this.captionsTooltip.css("top",this.$ccButton.offset().top-this.captionsTooltip.outerHeight()),this.captionsTooltip.css("left",this.$ccButton.offset().left),this.captionsTooltip.children().first().focus())},AblePlayer.prototype.handleChapters=function(){this.chaptersTooltip.is(":visible")?(this.chaptersTooltip.hide(),this.$chaptersButton.focus()):(this.closeTooltips(),this.chaptersTooltip.show(),this.chaptersTooltip.css("top",this.$chaptersButton.offset().top-this.chaptersTooltip.outerHeight()),this.chaptersTooltip.css("left",this.$chaptersButton.offset().left),this.chaptersTooltip.children().first().focus())},AblePlayer.prototype.handleDescriptionToggle=function(){this.descOn=!this.descOn,this.updateDescription(),this.refreshControls()
},AblePlayer.prototype.handlePrefsClick=function(){this.setFullscreen(!1),this.prefsDialog.show()},AblePlayer.prototype.handleHelpClick=function(){this.setFullscreen(!1),this.helpDialog.show()},AblePlayer.prototype.handleTranscriptToggle=function(){this.$transcriptDiv.is(":visible")?(this.$transcriptArea.hide(),this.$transcriptButton.addClass("buttonOff").attr("title",this.tt.showTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.showTranscript)):(this.$transcriptArea.show(),this.$transcriptButton.removeClass("buttonOff").attr("title",this.tt.hideTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.hideTranscript))},AblePlayer.prototype.isFullscreen=function(){return this.nativeFullscreenSupported()?document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement?!0:!1:this.modalFullscreenActive?!0:!1},AblePlayer.prototype.setFullscreen=function(a){if(this.isFullscreen()!=a){var b=this,c=this.$ableDiv,d=c[0];if(this.nativeFullscreenSupported())a?d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{if(!this.fullscreenDialog){var e=$("<div>");this.fullscreenDialog=new AccessibleDialog(e,"Fullscreen dialog","Fullscreen video player","100%",!0,function(){b.handleFullscreenToggle()}),$("body").append(e)}var f=this.isPaused();if(a){this.modalFullscreenActive=!0,this.fullscreenDialog.show(),this.$modalFullscreenPlaceholder=$('<div class="placeholder">'),this.$modalFullscreenPlaceholder.insertAfter(c),c.appendTo(this.fullscreenDialog.modal),c===this.$ableColumnLeft&&c.width("100%");var g=$(window).height()-this.$playerDiv.height();this.$descDiv.is(":hidden")||(g-=b.$descDiv.height()),this.resizePlayer($(window).width(),g)}else this.modalFullscreenActive=!1,c===this.$ableColumnLeft&&c.width("50%"),c.insertAfter(this.$modalFullscreenPlaceholder),this.$modalFullscreenPlaceholder.remove(),this.fullscreenDialog.hide(),this.resizePlayer(this.playerWidth,this.playerHeight);!f&&this.isPaused()&&this.playMedia()}this.refreshControls()}},AblePlayer.prototype.handleFullscreenToggle=function(){this.setFullscreen(!this.isFullscreen())},AblePlayer.prototype.handleTranscriptLockToggle=function(a){this.autoScrollTranscript=a,this.refreshControls()},AblePlayer.prototype.showAlert=function(a){var b=this;this.alertBox.show(),this.alertBox.text(a),this.alertBox.css({left:this.$playerDiv.offset().left+this.$playerDiv.width()/2-this.alertBox.width()/2}),setTimeout(function(){b.alertBox.fadeOut(300)},3e3)},AblePlayer.prototype.resizePlayer=function(a,b){this.$media.height(b),this.$media.width(a),this.$captionDiv&&(this.$captionDiv.width(a),b!==this.playerHeight?this.$captionDiv.css("font-size",b/this.playerHeight*18):this.$captionDiv.css("font-size","")),this.$descDiv&&this.$descDiv.width(a),this.$vidcapContainer&&(this.$vidcapContainer.height(b),this.$vidcapContainer.width(a)),this.$ableDiv.width(a),this.jwPlayer?this.jwPlayer.resize(a,b):this.youtubePlayer&&this.youtubePlayer.setSize(a,b),this.refreshControls()}}(),function(){AblePlayer.prototype.updateCaption=function(a){this.captionsOn?(this.$captionDiv.show(),this.showCaptions(a||this.getElapsed())):this.$captionDiv&&this.$captionDiv.hide()},AblePlayer.prototype.getCaptionClickFunction=function(a){var b=this;return function(){b.captionsOn=!0,b.selectedCaptions=a,b.currentCaption=-1;for(var c in b.descriptions)b.descriptions[c].language===a.language&&(b.selectedDescriptions=b.descriptions[c],b.currentDescription=-1);b.captionsTooltip.hide(),b.$ccButton.focus(),b.refreshControls(),b.updateCaption(),b.updateDescription()}},AblePlayer.prototype.getCaptionOffFunction=function(){var a=this;return function(){a.captionsOn=!1,a.currentCaption=-1,a.captionsTooltip.hide(),a.$ccButton.focus(),a.refreshControls(),a.updateCaption()}},AblePlayer.prototype.showCaptions=function(a){var b,c,d;d=this.selectedCaptions?this.selectedCaptions.cues:this.captions.length>=1?this.captions[0].cues:[];for(b in d)if(d[b].start<=a&&d[b].end>a){c=b;break}"undefined"!=typeof c?this.currentCaption!==c&&(this.$captionDiv.html(this.flattenCueForCaption(d[c]).replace("\n","<br>")),this.currentCaption=c):(this.$captionDiv.html(""),this.currentCaption=-1)},AblePlayer.prototype.flattenCueForCaption=function(a){var b=[],c=function(a){var b=[];if("string"===a.type)b.push(a.value);else if("v"===a.type){b.push("["+a.value+"]");for(var d in a.children)b.push(c(a.children[d]))}else for(var d in a.children)b.push(c(a.children[d]));return b.join("")};for(var d in a.components.children)b.push(c(a.components.children[d]));return b.join("")}}(),function(){AblePlayer.prototype.updateMeta=function(a){this.hasMeta&&(this.$metaDiv.show(),this.showMeta(a||this.getElapsed()))},AblePlayer.prototype.showMeta=function(a){var b,c,d;d=this.meta.length>=1?this.meta:[];for(b in d)if(d[b].start<=a&&d[b].end>a){c=b;break}"undefined"!=typeof c?this.currentMeta!==c&&(this.$metaDiv.html(this.flattenCueForMeta(d[c]).replace("\n","<br>")),this.currentMeta=c):(this.$metaDiv.html(""),this.currentMeta=-1)},AblePlayer.prototype.flattenCueForMeta=function(a){var b=[],c=function(a){var b=[];if("string"===a.type)b.push(a.value);else if("v"===a.type){b.push("["+a.value+"]");for(var d in a.children)b.push(c(a.children[d]))}else for(var d in a.children)b.push(c(a.children[d]));return b.join("")};for(var d in a.components.children)b.push(c(a.components.children[d]));return b.join("")}}(),function(){AblePlayer.prototype.getSupportedLangs=function(){var a=["en","de"];return a},AblePlayer.prototype.getTranslationText=function(){var a,b,c,d;return a=$.Deferred(),this.forceLang||($("body").attr("lang")?b=$("body").attr("lang"):$("html").attr("lang")&&(b=$("html").attr("lang")),b!==this.lang&&(d="Language of web page ("+b+") ",-1!==$.inArray(b,this.getSupportedLangs())?(d+=" has a translation table available.",this.lang=b):d+=" is not currently supported. Using default language ("+this.lang+")",this.debug)),c=this,$.getJSON(this.translationPath+this.lang+".js",function(a,b){return"success"!==b?!1:(c.tt=a,void c.debug)}).then(function(){a.resolve()},function(){return!1}),a.promise()}}(),function(){AblePlayer.prototype.updateTranscript=function(){if(this.includeTranscript){var a,b,c;if(this.transcriptCaptions?(c=this.transcriptCaptions.language,a=this.transcriptCaptions.cues):this.captions.length>0&&(c=this.captions[0].language,a=this.captions[0].cues),this.transcriptDescriptions)b=this.transcriptDescriptions.cues;else if(this.descriptions.length>0){if(c)for(var d in this.descriptions)this.descriptions[d].language===c&&(b=this.descriptions[d].cues);b||(b=this.descriptions[0].cues)}var e=this.generateTranscript(a||[],b||[]);this.$transcriptDiv.html(e);var f=this;1===this.prefTabbable&&$(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"),$(".able-transcript").length>0&&$(".able-transcript span.able-transcript-seekpoint").click(function(){var a=parseFloat($(this).attr("data-start"));a+=.01,f.seekTo(a)})}},AblePlayer.prototype.highlightTranscript=function(a){if(this.includeTranscript){var b,c,d=this;a=parseFloat(a),$(".able-transcript span.able-transcript-caption").each(function(){return b=parseFloat($(this).attr("data-start")),c=parseFloat($(this).attr("data-end")),a>=b&&c>=a?($(".able-highlight").removeClass("able-highlight"),$(this).addClass("able-highlight"),!1):void 0}),d.currentHighlight=$(".able-highlight"),0===d.currentHighlight.length&&(d.currentHighlight=null)}},AblePlayer.prototype.generateTranscript=function(a,b){var c=this,d=$('<div class="able-transcript-container"></div>'),e="Transcript";if("undefined"!=typeof this.transcriptTitle?e=this.transcriptTitle:this.lyricsMode&&(e="Lyrics"),"undefined"==typeof this.transcriptDivLocation&&""!=e){var f=this.playerHeadingLevel;f+=1,f>6&&(f=6);var g="h"+f.toString(),h="<"+g+' class="able-transcript-heading">';h+=e,h+="</"+g+">",d.append(h)}for(var i=0,j=0,k=function(a,b){var c=$('<div class="able-desc"><span class="hidden">Description: </span></div>'),d=function(a){var b=[];if("string"===a.type)b.push(a.value);else for(var c in a.children)b=b.concat(d(a.children[c]));return b},e=$('<span class="able-transcript-seekpoint"></span>');for(var f in b.components.children){var g=d(b.components.children[f]);for(var h in g)e.append(g[h])}e.attr("data-start",b.start.toString()),e.attr("data-end",b.end.toString()),c.append(e),a.append(c)},l=function(a,b){var d=$('<span class="able-transcript-seekpoint able-transcript-caption"></span>'),e=function(a){var b=[],c=function(a){var b=[];if(""===a)return b;var d=a.indexOf("["),e=a.indexOf("]"),f=a.indexOf("("),g=a.indexOf(")"),h=-1!==d&&-1!==e,i=-1!==f&&-1!==g;return i&&h&&f>d||h?(b=b.concat(c(a.substring(0,d))),b.push($('<div></div><span class="able-unspoken">'+a.substring(d,e+1)+"</span>")),b=b.concat(c(a.substring(e+1)))):i?(b=b.concat(c(a.substring(0,f))),b.push($('<div></div><span class="able-unspoken">'+a.substring(f,g+1)+"</span>")),b=b.concat(c(a.substring(g+1)))):b.push(a),b};if("string"===a.type)b=b.concat(c(a.value));else if("v"===a.type){var d=$('<div></div><span class="able-unspoken">['+a.value+"]</span>");b.push(d);for(var f in a.children){var g=e(a.children[f]);for(var h in g)b.push(g[h])}}else for(var f in a.children)b=b.concat(e(a.children[f]));return b};for(var f in b.components.children){var g=e(b.components.children[f]);for(var h in g){var i=g[h];"string"==typeof i&&c.lyricsMode&&(i=i.replace("\n","<br>")+"<br>"),d.append(i)}}d.attr("data-start",b.start.toString()),d.attr("data-end",b.end.toString()),a.append(d),a.append("\n")};i<a.length||j<b.length;)i<a.length&&j<b.length?b[j].start<=a[i].start?(k(d,b[j]),j+=1):(l(d,a[i]),i+=1):i<a.length?(l(d,a[i]),i+=1):j<b.length&&(k(d,b[j]),j+=1);return d}}(),function(){AblePlayer.prototype.showSearchResults=function(){var a=this;if(this.searchDiv&&this.searchString&&$("#"+this.SearchDiv)){var b=this.searchFor(this.searchString);if(b.length>0){var c=$("<p>",{"class":"able-search-results-summary"}),d="Found <strong>"+b.length+"</strong> matching items. ";d+="Click the time associated with any item ",d+="to play the video from that point.",c.html(d);var e=$("<ul>");for(var f in b){var g=$("<li>",{}),h=this.secondsToTime(b[f].start),i=$("<span>",{"class":"able-search-results-time","data-start":b[f].start,title:h.title,tabindex:"0"});i.text(h.value),i.click(function(){var b=parseFloat($(this).attr("data-start"));b+=.01,a.seeking=!0,a.seekTo(b)});var j=$("<span>",{"class":"able-search-result-text"});j.html("..."+b[f].caption+"..."),g.append(i,j),e.append(g)}$("#"+this.searchDiv).append(c,e)}else{var k=$("<p>").text("No results found.");$("#"+this.searchDiv).append(k)}}},AblePlayer.prototype.searchFor=function(a){var b,c,d,e,f,g,h,i=a.split(" ");if(this.captions.length>0&&(b=this.captions[0].language,c=this.captions[0].cues,c.length>0)){var d=[];f=0;for(g in c)if("string"===c[g].components.children[0].type){e=c[g].components.children[0].value;for(h in i)if(-1!==e.indexOf(i[h])){d[f]=[],d[f].start=c[g].start,d[f].caption=this.highlightSearchTerm(i,h,e),f++;break}}}return d},AblePlayer.prototype.highlightSearchTerm=function(a,b,c){var d,e,f,g,h,i,j;for(d=b;d<a.length;d++)e=a[d],f=c.indexOf(e),-1!==f&&(g=e.length,g>0?(h=c.substring(0,f),i='<span class="able-search-term">'+e+"</span>",j=c.substring(f+g),c=h+i+j):(h='<span class="able-search-term">'+e+"</span>",i=c.substring(f+g),c=h+i));return c},AblePlayer.prototype.secondsToTime=function(a){var a=Math.floor(a),b=parseInt(a/3600)%24,c=parseInt(a/60)%60,d=a%60,e="",f="";b>0&&(e+=b+":"),10>c?(e+="0"+c+":",c>0&&(f+=c+" minutes ")):(e+=c+":",f+=c+" minutes "),10>d?(e+="0"+d,d>0&&(f+=d+" seconds ")):(e+=d,f+=d+" seconds ");var g=[];return g.value=e,g.title=f,g}}(),function(){AblePlayer.prototype.onMediaUpdateTime=function(){this.startedPlaying||(this.startTime?this.startTime===this.media.currentTime?(this.autoplay||this.seeking)&&(this.playMedia(),this.seeking=!1):this.seekTo(this.startTime):this.autoplay&&this.playMedia()),1===this.prefHighlight&&this.highlightTranscript(this.getElapsed()),this.updateCaption(),this.updateDescription(),this.updateMeta(),this.refreshControls()},AblePlayer.prototype.onMediaPause=function(){this.debug},AblePlayer.prototype.onMediaComplete=function(){this.hasPlaylist&&(this.playlistIndex===this.$playlist.length-1?this.loop&&(this.playlistIndex=0,this.swapSource(0)):(this.playlistIndex++,this.swapSource(this.playlistIndex))),this.refreshControls()},AblePlayer.prototype.onMediaNewSourceLoad=function(){if(this.swappingSrc===!0){if("jw"===this.player){var a=this.jwPlayer;setTimeout(function(){a.play(!0)},500)}else this.playMedia();this.swappingSrc=!1,this.refreshControls()}},AblePlayer.prototype.onWindowResize=function(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||this.modalFullscreenActive){var a=$(window).height()-this.$playerDiv.height();this.$descDiv.is(":hidden")||(a-=this.$descDiv.height()),this.resizePlayer($(window).width(),a)}else this.resizePlayer(this.playerWidth,this.playerHeight)},AblePlayer.prototype.addSeekbarListeners=function(){var a=this;this.seekBar.bodyDiv.on("startTracking",function(){a.pausedBeforeTracking=a.isPaused(),a.pauseMedia()}).on("tracking",function(b,c){a.highlightTranscript(c),a.updateCaption(c),a.updateDescription(c),a.updateMeta(c),a.refreshControls()}).on("stopTracking",function(b,c){a.seekTo(c),a.pausedBeforeTracking||setTimeout(function(){a.playMedia()},200)})},AblePlayer.prototype.onClickPlayerButton=function(a){var b=$(a).attr("class").split(" ")[0].substr(20);"play"===b?this.handlePlay():"stop"===b?this.handleStop():"rewind"===b?this.handleRewind():"forward"===b?this.handleFastForward():"mute"===b?this.handleMute():"volume-up"===b?this.handleVolume("up"):"volume-down"===b?this.handleVolume("down"):"faster"===b?this.handleRateIncrease():"slower"===b?this.handleRateDecrease():"captions"===b?this.handleCaptionToggle():"chapters"===b?this.handleChapters():"descriptions"===b?this.handleDescriptionToggle():"sign"===b.substr(0,4)||("preferences"===b?this.handlePrefsClick():"help"===b?this.handleHelpClick():"transcript"===b?this.handleTranscriptToggle():"fullscreen"===b&&this.handleFullscreenToggle())},AblePlayer.prototype.okToHandleKeyPress=function(){var a=$(document.activeElement).prop("tagName");return"INPUT"===a?!1:!0},AblePlayer.prototype.onPlayerKeyPress=function(a){if(!this.okToHandleKeyPress())return!1;var b=a.which;if(b>=65&&90>=b&&(b+=32),27===b)this.closeTooltips();else if(32===b)$(".able-controller button").is(":focus")||this.handlePlay();else if(112===b)this.usingModifierKeys(a)&&this.handlePlay();else if(115===b)this.usingModifierKeys(a)&&this.handleStop();else if(109===b)this.usingModifierKeys(a)&&this.handleMute();else if(117===b)this.usingModifierKeys(a)&&this.handleVolume("up");else if(100===b)this.usingModifierKeys(a)&&this.handleVolume("down");else if(b>=49&&53>=b)this.usingModifierKeys(a)&&this.handleVolume(b);else if(99===b)this.usingModifierKeys(a)&&this.handleCaptionToggle();else if(102===b)this.usingModifierKeys(a)&&this.handleFastForward();else if(114===b)this.usingModifierKeys(a)&&this.handleRewind();else if(110===b)this.usingModifierKeys(a)&&this.handleDescriptionToggle();else if(104===b)this.usingModifierKeys(a)&&this.handleHelpClick();else if(116===b)this.usingModifierKeys(a)&&this.handlePrefsClick();else if(104===b)this.usingModifierKeys(a)&&this.handleHelpClick();else if(13===b){var c=$(document.activeElement);"SPAN"===c.prop("tagName")?c.click():"LI"===c.prop("tagName")&&c.click()}},AblePlayer.prototype.addHtml5MediaListeners=function(){var a=this;this.$media.on("emptied",function(){a.debug}).on("loadedmetadata",function(){a.debug,a.onMediaNewSourceLoad()}).on("canplay",function(){a.debug,a.startTime&&!a.startedPlaying&&a.seekTo(a.startTime)}).on("canplaythrough",function(){a.debug,a.startTime&&!a.startedPlaying&&a.seekTo(a.startTime)}).on("playing",function(){a.refreshControls()}).on("ended",function(){a.onMediaComplete()}).on("progress",function(){a.refreshControls()}).on("waiting",function(){a.refreshControls()}).on("durationchange",function(){a.refreshControls()}).on("timeupdate",function(){a.onMediaUpdateTime()}).on("play",function(){a.debug}).on("pause",function(){a.onMediaPause()}).on("ratechange",function(){a.debug}).on("volumechange",function(){a.debug}).on("error",function(){if(a.debug)switch(a.media.error.code){case 1:break;case 2:break;case 3:break;case 4:}})},AblePlayer.prototype.addJwMediaListeners=function(){var a=this;this.jwPlayer.onTime(function(){a.onMediaUpdateTime()}).onComplete(function(){a.onMediaComplete()}).onReady(function(){a.debug,$("#"+a.jwId).removeAttr("tabindex"),a.startTime>0&&!a.startedPlaying&&(a.seekTo(a.startTime),a.startedPlaying=!0),a.refreshControls()}).onSeek(function(b){a.debug&&console.log("Seeking to "+b.position+"; target: "+b.offset),a.jwSeekPause&&(a.jwSeekPause=!1,a.playMedia()),setTimeout(function(){a.refreshControls()},300)}).onPlay(function(){a.debug,a.refreshControls()}).onPause(function(){a.onMediaPause()}).onBuffer(function(){a.debug,a.refreshControls()}).onBufferChange(function(){a.refreshControls()}).onIdle(function(){a.debug,a.refreshControls()}).onMeta(function(){a.debug}).onPlaylist(function(){a.debug,a.onMediaNewSourceLoad()})},AblePlayer.prototype.addEventListeners=function(){var a;a=this,$(window).resize(function(){a.onWindowResize()}),this.addSeekbarListeners(),this.$controllerDiv.find("button").click(function(){a.onClickPlayerButton(this)}),this.$ableDiv.keydown(function(b){AblePlayer.nextIndex>1&&a.onPlayerKeyPress(b)}),this.$playlist&&this.$playlist.click(function(){a.playlistIndex=$(this).index(),a.swapSource(a.playlistIndex)}),this.$media.click(function(){a.handlePlay()}),"html5"===this.player?this.addHtml5MediaListeners():"jw"===this.player?this.addJwMediaListeners():"youtube"===this.player&&setInterval(function(){a.onMediaUpdateTime()},300)}}();