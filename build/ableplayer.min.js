/*! ableplayer V3.0.26 */

"use strict";!function(t){t(document).ready(function(){t("video, audio").each(function(e,i){void 0!==t(i).data("able-player")&&new AblePlayer(t(this),t(i))})}),window.onYouTubeIframeAPIReady=function(){AblePlayer.youtubeIframeAPIReady=!0,t("body").trigger("youtubeIframeAPIReady",[])},t(window).keydown(function(t){1===AblePlayer.nextIndex&&AblePlayer.lastCreated.onPlayerKeyPress(t)}),window.AblePlayer=function(e){if(AblePlayer.lastCreated=this,this.media=e,0!==t(e).length){if(void 0!==t(e).attr("autoplay")&&"false"!==t(e).attr("autoplay")?this.autoplay=!0:this.autoplay=!1,void 0!==t(e).attr("loop")&&"false"!==t(e).attr("loop")?this.loop=!0:this.loop=!1,void 0!==t(e).data("start-time")&&""!==t(e).data("start-time")?this.startTime=t(e).data("start-time"):this.startTime=0,void 0!==t(e).data("debug")&&"false"!==t(e).data("debug")?this.debug=!0:this.debug=!1,void 0!==t(e).data("root-path")?this.rootPath=t(e).data("root-path").replace(/\/?$/,"/"):this.rootPath=this.getRootPath(),this.defaultVolume=7,void 0!==t(e).data("volume")&&""!==t(e).data("volume")){var i=t(e).data("volume");i>=0&&i<=10&&(this.defaultVolume=i)}if(this.volume=this.defaultVolume,void 0!==t(e).data("use-chapters-button")&&!1===t(e).data("use-chapters-button")?this.useChaptersButton=!1:this.useChaptersButton=!0,void 0!==t(e).data("use-descriptions-button")&&!1===t(e).data("use-descriptions-button")?this.useDescriptionsButton=!1:this.useDescriptionsButton=!0,this.transcriptType=null,void 0!==t(e).data("transcript-src")?(this.transcriptSrc=t(e).data("transcript-src"),this.transcriptSrcHasRequiredParts()?this.transcriptType="manual":this.transcriptType=null):e.find('track[kind="captions"], track[kind="subtitles"]').length>0&&(void 0!==t(e).data("transcript-div")&&""!==t(e).data("transcript-div")?(this.transcriptDivLocation=t(e).data("transcript-div"),this.transcriptType="external"):void 0!==t(e).data("include-transcript")?!1!==t(e).data("include-transcript")&&(this.transcriptType="popup"):this.transcriptType="popup"),void 0!==t(e).data("lyrics-mode")&&"false"!==t(e).data("lyrics-mode")?this.lyricsMode=!0:this.lyricsMode=!1,void 0!==t(e).data("transcript-title")&&""!==t(e).data("transcript-title")&&(this.transcriptTitle=t(e).data("transcript-title")),"overlay"===t(e).data("captions-position")?this.defaultCaptionsPosition="overlay":this.defaultCaptionsPosition="below",void 0!==t(e).data("chapters-div")&&""!==t(e).data("chapters-div")&&(this.chaptersDivLocation=t(e).data("chapters-div")),void 0!==t(e).data("chapters-title")&&(this.chaptersTitle=t(e).data("chapters-title")),void 0!==t(e).data("chapters-default")&&""!==t(e).data("chapters-default")?this.defaultChapter=t(e).data("chapters-default"):this.defaultChapter=null,"chapter"===t(e).data("prevnext-unit")||"chapters"===t(e).data("prevnext-unit")?this.prevNextUnit="chapter":"playlist"===t(e).data("prevnext-unit")?this.prevNextUnit="playlist":this.prevNextUnit=!1,"animals"===t(e).data("speed-icons")?this.speedIcons="animals":this.speedIcons="arrows","chapter"===t(e).data("seekbar-scope")||"chapters"===t(e).data("seekbar-scope")?this.seekbarScope="chapter":this.seekbarScope="video",void 0!==t(e).data("youtube-id")&&""!==t(e).data("youtube-id")&&(this.youTubeId=t(e).data("youtube-id")),void 0!==t(e).data("youtube-desc-id")&&""!==t(e).data("youtube-desc-id")&&(this.youTubeDescId=t(e).data("youtube-desc-id")),this.iconType="font",this.forceIconType=!1,void 0!==t(e).data("icon-type")&&""!==t(e).data("icon-type")){var s=t(e).data("icon-type");"font"!==s&&"image"!=s&&"svg"!=s||(this.iconType=s,this.forceIconType=!0)}if(void 0!==t(e).data("allow-fullscreen")&&!1===t(e).data("allow-fullscreen")?this.allowFullScreen=!1:this.allowFullScreen=!0,this.defaultSeekInterval=10,this.useFixedSeekInterval=!1,void 0!==t(e).data("seek-interval")&&""!==t(e).data("seek-interval")){var a=t(e).data("seek-interval");/^[1-9][0-9]*$/.test(a)&&(this.seekInterval=a,this.useFixedSeekInterval=!0)}if(void 0!==t(e).data("show-now-playing")&&"false"===t(e).data("show-now-playing")?this.showNowPlaying=!1:this.showNowPlaying=!0,this.fallback=null,this.fallbackPath=null,this.testFallback=!1,void 0!==t(e).data("fallback")&&""!==t(e).data("fallback")){var n=t(e).data("fallback");"jw"===n&&(this.fallback=n)}if("jw"===this.fallback&&(void 0!==t(e).data("fallback-path")&&"false"!==t(e).data("fallback-path")?this.fallbackPath=t(e).data("fallback-path"):this.fallbackPath=this.rootPath+"thirdparty/",void 0!==t(e).data("test-fallback")&&"false"!==t(e).data("test-fallback")&&(this.testFallback=!0)),this.lang="en",void 0!==t(e).data("lang")&&""!==t(e).data("lang")){var r=t(e).data("lang");2==r.length&&(this.lang=r)}void 0!==t(e).data("force-lang")&&"false"!==t(e).data("force-lang")?this.forceLang=!0:this.forceLang=!1,void 0!==t(e).data("meta-type")&&""!==t(e).data("meta-type")&&(this.metaType=t(e).data("meta-type")),void 0!==t(e).data("meta-div")&&""!==t(e).data("meta-div")&&(this.metaDiv=t(e).data("meta-div")),void 0!==t(e).data("search")&&""!==t(e).data("search")&&void 0!==t(e).data("search-div")&&""!==t(e).data("search-div")&&(this.searchString=t(e).data("search"),this.searchDiv=t(e).data("search-div")),this.setDefaults(),this.ableIndex=AblePlayer.nextIndex,AblePlayer.nextIndex+=1,this.title=t(e).attr("title"),this.tt={};var o=this;t.when(this.getTranslationText()).then(function(){o.countProperties(o.tt)>50?o.setup():o.provideFallback("ERROR: Failed to load translation table")})}else this.provideFallback("ERROR: No media specified.")},AblePlayer.nextIndex=0,AblePlayer.prototype.setup=function(){var t=this;this.reinitialize().then(function(){t.player?t.setupInstance().then(function(){t.recreatePlayer()}):t.provideFallback("Unable to play media")})},AblePlayer.getActiveDOMElement=function(){for(var t=document.activeElement;t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t},AblePlayer.localGetElementById=function(e,i){return t(e.getRootNode?e.getRootNode().querySelector("#"+i):document.getElementById(i))},AblePlayer.youtubeIframeAPIReady=!1,AblePlayer.loadingYoutubeIframeAPI=!1}(jQuery),function(t){AblePlayer.prototype.setDefaults=function(){this.playing=!1,this.getUserAgent(),this.setIconColor(),this.setButtonImages()},AblePlayer.prototype.getRootPath=function(){var t,e,i,s,a,n;for(t=document.getElementsByTagName("script"),e=0;e<t.length;e++)if(i=t[e].src,-1!==i.substr(i.lastIndexOf("/")).indexOf("ableplayer")){s=i.split("?")[0];break}return a=s.split("/").slice(0,-1).join("/"),n=a.lastIndexOf("/"),a.substring(0,n)+"/"},AblePlayer.prototype.setIconColor=function(){var e,i,s,a,n;for(e=["controller","toolbar"],i=0;i<e.length;i++)"controller"==e[i]?s=t("<div>",{class:"able-controller"}).hide():"toolbar"===e[i]&&(s=t("<div>",{class:"able-window-toolbar"}).hide()),t("body").append(s),n=.2126*(a=s.css("background-color").replace(/[^\d,]/g,"").split(","))[0]+.7152*a[1]+.0722*a[2]<125?"white":"black","controller"===e[i]?this.iconColor=n:"toolbar"===e[i]&&(this.toolbarIconColor=n),s.remove()},AblePlayer.prototype.setButtonImages=function(){this.imgPath=this.rootPath+"button-icons/"+this.iconColor+"/",this.playButtonImg=this.imgPath+"play.png",this.pauseButtonImg=this.imgPath+"pause.png",this.restartButtonImg=this.imgPath+"restart.png",this.rewindButtonImg=this.imgPath+"rewind.png",this.forwardButtonImg=this.imgPath+"forward.png",this.previousButtonImg=this.imgPath+"previous.png",this.nextButtonImg=this.imgPath+"next.png","arrows"===this.speedIcons?(this.fasterButtonImg=this.imgPath+"slower.png",this.slowerButtonImg=this.imgPath+"faster.png"):"animals"===this.speedIcons&&(this.fasterButtonImg=this.imgPath+"rabbit.png",this.slowerButtonImg=this.imgPath+"turtle.png"),this.captionsButtonImg=this.imgPath+"captions.png",this.chaptersButtonImg=this.imgPath+"chapters.png",this.signButtonImg=this.imgPath+"sign.png",this.transcriptButtonImg=this.imgPath+"transcript.png",this.descriptionsButtonImg=this.imgPath+"descriptions.png",this.fullscreenExpandButtonImg=this.imgPath+"fullscreen-expand.png",this.fullscreenCollapseButtonImg=this.imgPath+"fullscreen-collapse.png",this.prefsButtonImg=this.imgPath+"preferences.png",this.helpButtonImg=this.imgPath+"help.png"},AblePlayer.prototype.reinitialize=function(){var e,i,s;if(e=new t.Deferred,i=e.promise(),this,window.console||(this.debug=!1),this.startedPlaying=!1,this.autoScrollTranscript=!0,this.$media=t(this.media).first(),this.media=this.$media[0],this.$media.is("audio"))this.mediaType="audio";else{if(!this.$media.is("video"))return this.mediaType=this.$media.get(0).tagName,s="Media player initialized with "+this.mediaType+"#"+this.mediaId+". ",s+="Expecting an HTML5 audio or video element.",this.provideFallback(s),e.fail(),i;this.mediaType="video"}return this.$sources=this.$media.find("source"),this.player=this.getPlayer(),this.player||this.provideFallback(this.error),this.setIconType(),this.setDimensions(),e.resolve(),i},AblePlayer.prototype.setDimensions=function(){this.$media.attr("width")&&this.$media.attr("height")?(this.playerMaxWidth=parseInt(this.$media.attr("width"),10),this.playerMaxHeight=parseInt(this.$media.attr("height"),10)):(this.playerMaxWidth=this.$media.parent().width(),this.playerMaxHeight=this.getMatchingHeight(this.playerMaxWidth)),this.$media.css({width:"100%",height:"auto"})},AblePlayer.prototype.getMatchingHeight=function(e){var i,s,a,n,r;return i=[3840,2560,1920,1280,854,640,426],s=[2160,1440,1080,720,480,360,240],a=null,n=null,t.each(i,function(t){(null==a||Math.abs(this-e)<Math.abs(a-e))&&(a=this,n=t)}),r=s[n],this.aspectRatio=a/r,Math.round(e/this.aspectRatio)},AblePlayer.prototype.setIconType=function(){var e,i,s;if(this.forceIconType)return!1;window.getComputedStyle?(t("span.icon-play").length?i=t("span.icon-play"):(e=t("<span>",{class:"icon-play able-clipped"}),t("body").append(e),i=e),void 0!==(s=window.getComputedStyle(i.get(0),null).getPropertyValue("font-family"))&&-1!==s.indexOf("able")?this.iconType="font":this.iconType="image"):this.iconType="image",this.debug,void 0!==e&&e.remove()},AblePlayer.prototype.setupInstance=function(){var e=new t.Deferred,i=e.promise();return this.$media.attr("id")?this.mediaId=this.$media.attr("id"):(this.mediaId="ableMediaId_"+this.ableIndex,this.$media.attr("id",this.mediaId)),this.setupInstancePlaylist(),e.resolve(),i},AblePlayer.prototype.setupInstancePlaylist=function(){var e=this;if(this.hasPlaylist=!1,t(".able-playlist").each(function(){if(t(this).data("player")===e.mediaId){e.hasPlaylist=!0,e.$playlist=t(this).find("li"),t(this).find("li").attr("tabindex","0"),e.playlistIndex=0;var i=t(this).data("embedded");e.playlistEmbed=void 0!==i&&!1!==i}}),this.hasPlaylist&&this.playlistEmbed){var i=this.$playlist.parent();this.$playlistDom=i.clone(),i.remove()}},AblePlayer.prototype.recreatePlayer=function(){var t,e,i;t=this,this.player?(this.loadCurrentPreferences(),this.injectPlayerCode(),this.initSignLanguage(),this.setupTracks().then(function(){t.setMediaAttributes(),t.setupAltCaptions().then(function(){"external"!==t.transcriptType&&"popup"!==t.transcriptType||t.captions.length<=1&&t.$transcriptLanguageSelect.parent().remove(),t.initDescription(),t.initDefaultCaption(),t.initPlayer().then(function(){for(t.initializing=!1,e=t.getPreferencesGroups(),i=0;i<e.length;i++)t.injectPrefsForm(e[i]);t.setupPopups(),t.updateCaption(),t.updateTranscript(),t.chaptersDivLocation&&t.populateChaptersDiv(),t.showSearchResults()},function(){t.provideFallback(this.error)})})})):console.log("Can't create player; no appropriate player type detected.")},AblePlayer.prototype.initPlayer=function(){var e,i=this;"html5"===this.player?e=this.initHtml5Player():"jw"===this.player?e=this.initJwPlayer():"youtube"===this.player&&(e=this.initYouTubePlayer());var s=new t.Deferred,a=s.promise();return e.done(function(){!1===i.useFixedSeekInterval&&i.setSeekInterval(),i.addControls(),i.addEventListeners(),i.Volume&&i.setMute(!1),i.setFullscreen(!1),i.setVolume(i.defaultVolume),i.refreshControls(),"html5"===i.player&&i.isIOS()&&i.$media[0].load(),s.resolve()}).fail(function(){s.reject()}),a},AblePlayer.prototype.setSeekInterval=function(){var t;this.seekInterval=this.defaultSeekInterval,void 0===(t=this.useChapterTimes?this.chapterDuration:this.getDuration())||t<1?this.seekIntervalCalculated=!1:(this.seekInterval=t<=20?5:t<=30?6:t<=40?8:t<=100?10:t/10,this.seekIntervalCalculated=!0)},AblePlayer.prototype.initDefaultCaption=function(){var t,e;if((t=this.usingYouTubeCaptions?this.ytCaptions:this.captions).length>0){for(e=0;e<t.length;e++)!0===t[e].def&&(this.captionLang=t[e].language,this.selectedCaptions=t[e]);if(void 0===this.captionLang)for(e=0;e<t.length;e++)t[e].language===this.lang&&(this.captionLang=t[e].language,this.selectedCaptions=t[e]);void 0===this.captionLang&&(this.captionLang=t[0].language,this.selectedCaptions=t[0]),void 0!==this.captionLang&&(this.$transcriptLanguageSelect&&this.$transcriptLanguageSelect.find("option[lang="+this.captionLang+"]").prop("selected",!0),this.syncTrackLanguages("init",this.captionLang))}},AblePlayer.prototype.initHtml5Player=function(){var e=new t.Deferred,i=e.promise();return e.resolve(),i},AblePlayer.prototype.initJwPlayer=function(){var e,i=this,s=new t.Deferred,a=s.promise();return t.ajax({async:!1,url:this.fallbackPath+"jwplayer.js",dataType:"script",success:function(a,n,r){i.jwId=i.mediaId+"_fallback",i.$mediaContainer.attr("id",i.jwId),e="audio"===i.mediaType?0:i.playerHeight;var o=[];t.each(i.$sources,function(e,i){o.push({file:t(i).attr("src")})});var l=i.fallbackPath+"jwplayer.flash.swf",h=i.fallbackPath+"jwplayer.html5.js";"video"===i.mediaType?i.jwPlayer=jwplayer(i.jwId).setup({playlist:[{image:i.$media.attr("poster"),sources:o}],flashplayer:l,html5player:h,controls:!1,volume:100*i.defaultVolume,width:"100%",fallback:!1,primary:"flash",wmode:"transparent"}):i.jwPlayer=jwplayer(i.jwId).setup({playlist:[{sources:o}],flashplayer:l,html5player:h,controls:!1,volume:100*this.defaultVolume,height:0,width:"100%",fallback:!1,primary:"flash"}),i.$media.remove(),s.resolve()},error:function(t,e,i){this.error="Failed to load JW Player.",s.reject()}}),a},AblePlayer.prototype.setMediaAttributes=function(){this.$media.attr("tabindex",-1);var t=this.$media.get(0).textTracks;if(t)for(var e=0;e<t.length;)t[e].mode="disabled",e+=1},AblePlayer.prototype.getPlayer=function(){return this.youTubeId?"video"!==this.mediaType?(this.error="To play a YouTube video, use the &lt;video&gt; tag.",null):"youtube":this.testFallback||(this.isUserAgent("msie 7")||this.isUserAgent("msie 8")||this.isUserAgent("msie 9"))&&"video"===this.mediaType||this.isIOS()&&(this.isIOS(4)||this.isIOS(5)||this.isIOS(6))?"jw"===this.fallback&&this.jwCanPlay()?"jw":(this.error="The fallback player (JW Player) is unable to play the available media file.",null):this.media.canPlayType?"html5":(this.error="This browser does not support the available media file.",null)},AblePlayer.prototype.jwCanPlay=function(){var e,i,s;if(this.$sources.length>0)for(e=0;e<this.$sources.length;e++)if(i=this.$sources[e].getAttribute("type"),"video"===this.mediaType&&"video/mp4"===i||"audio"===this.mediaType&&"audio/mpeg"===i)return!0;if(t(".able-playlist")&&(s=t(".able-playlist").eq(0).find("li").eq(0),"audio"===this.mediaType)){if(s.attr("data-mp3"))return!0;if("video"===this.mediaType&&s.attr("data-mp4"))return!0}return!1}}(jQuery),function(t){AblePlayer.prototype.setCookie=function(t){Cookies.set("Able-Player",t,{expires:90})},AblePlayer.prototype.getCookie=function(){var t,e={preferences:{},sign:{},transcript:{}};try{t=Cookies.getJSON("Able-Player")}catch(i){Cookies.getJSON(e),t=e}return t||e},AblePlayer.prototype.updateCookie=function(t){var e,i,s,a,n,r;if(e=this.getCookie(),"transcript"===t||"sign"===t)"transcript"===t?(s=(i=this.$transcriptArea).position(),void 0===e.transcript&&(e.transcript={}),e.transcript.position=i.css("position"),e.transcript.zindex=i.css("z-index"),e.transcript.top=s.top,e.transcript.left=s.left,e.transcript.width=i.width(),e.transcript.height=i.height()):"sign"===t&&(s=(i=this.$signWindow).position(),void 0===e.sign&&(e.sign={}),e.sign.position=i.css("position"),e.sign.zindex=i.css("z-index"),e.sign.top=s.top,e.sign.left=s.left,e.sign.width=i.width(),e.sign.height=i.height());else for(a=this.getAvailablePreferences(),n=0;n<a.length;n++)(r=a[n].name)==t&&(e.preferences[r]=this[r]);this.setCookie(e)},AblePlayer.prototype.getPreferencesGroups=function(){if("video"===this.mediaType)return["captions","descriptions","keyboard","transcript"];if("audio"===this.mediaType){var t=[];return t.push("keyboard"),this.lyricsMode&&t.push("transcript"),t}},AblePlayer.prototype.getAvailablePreferences=function(){var t=[];return t.push({name:"prefAltKey",label:this.tt.prefAltKey,group:"keyboard",default:1}),t.push({name:"prefCtrlKey",label:this.tt.prefCtrlKey,group:"keyboard",default:1}),t.push({name:"prefShiftKey",label:this.tt.prefShiftKey,group:"keyboard",default:0}),t.push({name:"prefTranscript",label:null,group:"transcript",default:0}),t.push({name:"prefHighlight",label:this.tt.prefHighlight,group:"transcript",default:1}),t.push({name:"prefAutoScrollTranscript",label:null,group:"transcript",default:1}),t.push({name:"prefTabbable",label:this.tt.prefTabbable,group:"transcript",default:0}),"video"===this.mediaType&&(t.push({name:"prefCaptions",label:null,group:"captions",default:1}),t.push({name:"prefCaptionsPosition",label:this.tt.prefCaptionsPosition,group:"captions",default:this.defaultCaptionsPosition}),t.push({name:"prefCaptionsFont",label:this.tt.prefCaptionsFont,group:"captions",default:this.tt.sans}),t.push({name:"prefCaptionsSize",label:this.tt.prefCaptionsSize,group:"captions",default:"100%"}),t.push({name:"prefCaptionsColor",label:this.tt.prefCaptionsColor,group:"captions",default:"white"}),t.push({name:"prefCaptionsBGColor",label:this.tt.prefCaptionsBGColor,group:"captions",default:"black"}),t.push({name:"prefCaptionsOpacity",label:this.tt.prefCaptionsOpacity,group:"captions",default:"100%"}),t.push({name:"prefDesc",label:null,group:"descriptions",default:0}),t.push({name:"prefDescFormat",label:this.tt.prefDescFormat,group:"descriptions",default:"video"}),t.push({name:"prefDescPause",label:this.tt.prefDescPause,group:"descriptions",default:0}),t.push({name:"prefVisibleDesc",label:this.tt.prefVisibleDesc,group:"descriptions",default:1}),t.push({name:"prefSign",label:null,group:null,default:0})),t},AblePlayer.prototype.loadCurrentPreferences=function(){for(var t=this.getAvailablePreferences(),e=this.getCookie(),i=0;i<t.length;i++){var s=t[i].name,a=t[i].default;void 0!==e.preferences[s]?this[s]=e.preferences[s]:(e.preferences[s]=a,this[s]=a)}this.setCookie(e)},AblePlayer.prototype.injectPrefsForm=function(e){var i,s,a,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,w,P,C,k,T,$,A,D,x,S,B,N,I,M,O,F,j,L,W,H,R,z,E,V,K,Y,X,U,G,q,Q;s=this,i=this.getAvailablePreferences();var _="able-prefs-form-"+e;if((a=t("<div>",{class:"able-prefs-form "})).addClass(_),"captions"==e)n=this.tt.prefTitleCaptions,r=this.tt.prefIntroCaptions,J=t("<p>",{text:r}),a.append(J);else if("descriptions"==e){n=this.tt.prefTitleDescriptions;var J=t("<p>",{text:this.tt.prefIntroDescription1}),Z=t("<ul>"),tt=t("<li>",{text:this.tt.prefDescFormatOption1}),et=t("<li>",{text:this.tt.prefDescFormatOption2});Z.append(tt,et),this.hasOpenDesc&&this.hasClosedDesc?(z=this.tt.prefIntroDescription2+" ",z+="<strong>"+this.tt.prefDescFormatOption1b+"</strong>",z+=" <em>"+this.tt.and+"</em> <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):this.hasOpenDesc?(z=this.tt.prefIntroDescription2,z+=" <strong>"+this.tt.prefDescFormatOption1b+"</strong>."):this.hasClosedDesc?(z=this.tt.prefIntroDescription2,z+=" <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):z=this.tt.prefIntroDescriptionNone,o=t("<p>",{html:z}),l=this.tt.prefIntroDescription3,(this.hasOpenDesc||this.hasClosedDesc)&&(l+=" "+this.tt.prefIntroDescription4),h=t("<p>",{text:l}),a.append(J,Z,o,h)}else"keyboard"==e?(n=this.tt.prefTitleKeyboard,r=this.tt.prefIntroKeyboard1,r+=" "+this.tt.prefIntroKeyboard2,r+=" "+this.tt.prefIntroKeyboard3,J=t("<p>",{text:r}),a.append(J)):"transcript"==e&&(n=this.tt.prefTitleTranscript,r=this.tt.prefIntroTranscript,J=t("<p>",{text:r}),a.append(J));for("descriptions"===e?(g=t("<fieldset>"),d="able-prefs-"+e+"1",f=this.mediaId+"-prefs-"+e+"1",g.addClass(d).attr("id",f),m=t("<legend>"+this.tt.prefDescFormat+"</legend>"),g.append(m),v=t("<fieldset>"),d="able-prefs-"+e+"2",f=this.mediaId+"-prefs-"+e+"2",v.addClass(d).attr("id",f),y=t("<legend>"+this.tt.prefHeadingTextDescription+"</legend>"),v.append(y)):(u=t("<fieldset>"),d="able-prefs-"+e,f=this.mediaId+"-prefs-"+e,u.addClass(d).attr("id",f),"keyboard"===e&&(b=t("<legend>"+this.tt.prefHeadingKeyboard1+"</legend>"),u.append(b))),p=0;p<i.length;p++)if(i[p].group==e&&i[p].label){if(w=i[p].name,C="able-"+w,k=this.mediaId+"_"+w,"prefDescFormat"!==w&&(P=t("<div>").addClass(C)),"prefDescFormat"==w)A=t("<div>"),D=k+"_1",S=t("<label>").attr("for",D).text(this.capitalizeFirstLetter(this.tt.prefDescFormatOption1)),x=t("<input>",{type:"radio",name:w,id:D,value:"video"}),"video"===this.prefDescFormat&&x.prop("checked",!0),A.append(x,S),B=t("<div>"),N=k+"_2",M=t("<label>").attr("for",N).text(this.capitalizeFirstLetter(this.tt.prefDescFormatOption2)),I=t("<input>",{type:"radio",name:w,id:N,value:"text"}),"text"===this.prefDescFormat&&I.prop("checked",!0),B.append(I,M);else if("captions"===e){for(T=t('<label for="'+k+'"> '+i[p].label+"</label>"),$=t("<select>",{name:w,id:k}),"prefCaptions"!==w&&"prefCaptionsStyle"!==w&&$.change(function(){W=t(this).attr("name"),s.stylizeCaptions(s.$sampleCapsDiv,W)}),O=this.getCaptionsOptions(w),c=0;c<O.length;c++)"prefCaptionsPosition"===w?"overlay"===(j=O[c])?L=this.tt.captionsPositionOverlay:"below"===j&&(j=O[c],L=this.tt.captionsPositionBelow):"prefCaptionsColor"===w||"prefCaptionsBGColor"===w?(j=O[c][0],L=O[c][1]):"prefCaptionsOpacity"===w?(j=O[c],L=O[c],"0%"===j?L+=" ("+this.tt.transparent+")":"100%"===j&&(L+=" ("+this.tt.solid+")")):(j=O[c],L=O[c]),F=t("<option>",{value:j,text:L}),this[w]===j&&F.prop("selected",!0),$.append(F);P.append(T,$)}else T=t('<label for="'+k+'"> '+i[p].label+"</label>"),$=t("<input>",{type:"checkbox",name:w,id:k,value:"true"}),1===this[w]&&$.prop("checked",!0),"keyboard"===e&&$.change(function(){"prefAltKey"===(W=t(this).attr("name"))?(H=".able-modkey-alt",R=s.tt.prefAltKey+" + "):"prefCtrlKey"===W?(H=".able-modkey-ctrl",R=s.tt.prefCtrlKey+" + "):"prefShiftKey"===W&&(H=".able-modkey-shift",R=s.tt.prefShiftKey+" + "),t(this).is(":checked")?t(H).text(R):t(H).text("")}),P.append($,T);"descriptions"===e?"prefDescFormat"===w?g.append(A,B):v.append(P):u.append(P)}if("descriptions"===e?a.append(g,v):a.append(u),"captions"===e)"video"===this.mediaType&&(this.$sampleCapsDiv=t("<div>",{class:"able-captions-sample"}).text(this.tt.sampleCaptionText),a.append(this.$sampleCapsDiv),this.stylizeCaptions(this.$sampleCapsDiv));else if("keyboard"===e){for(E=t("<h2>",{text:this.tt.prefHeadingKeyboard2}),V=t("<ul>"),K=[],Y=[],p=0;p<this.controls.length;p++)"play"===this.controls[p]?(K.push(this.tt.play+"/"+this.tt.pause),Y.push("p</span> <em>"+this.tt.or+'</em> <span class="able-help-modifiers"> '+this.tt.spacebar)):"restart"===this.controls[p]?(K.push(this.tt.restart),Y.push("s")):"rewind"===this.controls[p]?(K.push(this.tt.rewind),Y.push("r")):"forward"===this.controls[p]?(K.push(this.tt.forward),Y.push("f")):"volume"===this.controls[p]?(K.push(this.tt.volume),Y.push("v</span> <em>"+this.tt.or+'</em> <span class="able-modkey">1-9'),K.push(this.tt.mute+"/"+this.tt.unmute),Y.push("m")):"captions"===this.controls[p]?(this.captions.length>1?K.push(this.tt.captions):this.captionsOn?K.push(this.tt.hideCaptions):K.push(this.tt.showCaptions),Y.push("c")):"descriptions"===this.controls[p]?(this.descOn?K.push(this.tt.turnOffDescriptions):K.push(this.tt.turnOnDescriptions),Y.push("d")):"prefs"===this.controls[p]?(K.push(this.tt.preferences),Y.push("e")):"help"===this.controls[p]&&(K.push(this.tt.help),Y.push("h"));for(p=0;p<Y.length;p++)X='<span class="able-modkey-alt">',1===this.prefAltKey&&(X+=this.tt.prefAltKey+" + "),X+="</span>",X+='<span class="able-modkey-ctrl">',1===this.prefCtrlKey&&(X+=this.tt.prefCtrlKey+" + "),X+="</span>",X+='<span class="able-modkey-shift">',1===this.prefShiftKey&&(X+=this.tt.prefShiftKey+" + "),X+="</span>",X+='<span class="able-modkey">'+Y[p]+"</span>",X+=" = "+K[p],U=t("<li>",{html:X}),V.append(U);X='<span class="able-modkey">'+this.tt.escapeKey+"</span>",X+=" = "+this.tt.escapeKeyFunction,U=t("<li>",{html:X}),V.append(U),a.append(E,V)}t("body").append(a),G=new AccessibleDialog(a,this.$prefsButton,"dialog",n,J,s.tt.closeButtonLabel,"32em"),a.append("<hr>"),q=t('<button class="modal-button">'+this.tt.save+"</button>"),Q=t('<button class="modal-button">'+this.tt.cancel+"</button>"),q.click(function(){G.hide(),s.savePrefsFromForm()}),Q.click(function(){G.hide(),s.resetPrefsForm()}),a.append(q),a.append(Q),"captions"===e?this.captionPrefsDialog=G:"descriptions"===e?this.descPrefsDialog=G:"keyboard"===e?this.keyboardPrefsDialog=G:"transcript"===e&&(this.transcriptPrefsDialog=G),t("div.able-prefs-form button.modalCloseButton").click(function(){s.resetPrefsForm()}),t("div.able-prefs-form").keydown(function(t){27===t.which&&s.resetPrefsForm()})},AblePlayer.prototype.resetPrefsForm=function(){var e,i,s,a;for(this,e=this.getCookie(),i=this.getAvailablePreferences(),s=0;s<i.length;s++)"prefDescFormat"===(a=i[s].name)?"text"===this[a]?t('input[value="text"]').prop("checked",!0):t('input[value="video"]').prop("checked",!0):-1!==a.indexOf("Captions")&&"prefCaptions"!==a?t('select[name="'+a+'"]').val(e.preferences[a]):1===this[a]?t('input[name="'+a+'"]').prop("checked",!0):t('input[name="'+a+'"]').prop("checked",!1);this.stylizeCaptions(this.$sampleCapsDiv)},AblePlayer.prototype.savePrefsFromForm=function(){var e,i,s,a,n;e=0,i=0,s=!1;for(var r=this.getCookie(),o=this.getAvailablePreferences(),l=0;l<o.length;l++)if(o[l].label){var h=o[l].name;"prefDescFormat"==h?(this.prefDescFormat=t('input[name="'+h+'"]:checked').val(),this.prefDescFormat!==r.preferences.prefDescFormat&&(r.preferences.prefDescFormat=this.prefDescFormat,e++)):-1!==h.indexOf("Captions")&&"prefCaptions"!==h?(n=t('select[name="'+h+'"]').val(),r.preferences[h]!==n&&(r.preferences[h]=n,this[h]=n,e++,i++),"prefCaptionsSize"===h&&(s=!0,a=n)):t('input[name="'+h+'"]').is(":checked")?(r.preferences[h]=1,1===this[h]||(this[h]=1,e++)):(r.preferences[h]=0,1===this[h]&&(this[h]=0,e++))}e>0?(this.setCookie(r),this.showAlert(this.tt.prefSuccess)):this.showAlert(this.tt.prefNoChange),"youtube"===this.player&&void 0!==this.usingYouTubeCaptions&&this.usingYouTubeCaptions&&s&&this.youTubePlayer.setOption(this.ytCaptionModule,"fontSize",this.translatePrefs("size",a,"youtube")),this.updatePrefs(),i>0&&(this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv&&this.stylizeCaptions(this.$descDiv))},AblePlayer.prototype.updatePrefs=function(){var e;e=1===this.prefAltKey?"Alt + ":"",1===this.prefCtrlKey&&(e+="Control + "),1===this.prefShiftKey&&(e+="Shift + "),t(".able-help-modifiers").text(e),1===this.prefTabbable?t(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"):t(".able-transcript span.able-transcript-seekpoint").removeAttr("tabindex"),0===this.prefHighlight&&t(".able-transcript span").removeClass("able-highlight"),this.updateCaption(),this.refreshingDesc=!0,this.initDescription()},AblePlayer.prototype.usingModifierKeys=function(t){return!(1===this.prefAltKey&&!t.altKey)&&(!(1===this.prefCtrlKey&&!t.ctrlKey)&&!(1===this.prefShiftKey&&!t.shiftKey))}}(jQuery),function(t){function e(t,e){for(var s=[],a=0;a<e.length;a++)s.push(i(t,e[a]));return s}function i(t,e){var i=e(t);if(null!==t.error)throw t.error;return i}function s(t,e){for(var i=0;i<e.length;i++)"\n"===e[i]?(t.column=1,t.line+=1):t.column+=1}function a(t,e){var i=t.text.substring(0,e);return s(t,i),t.text=t.text.substring(e),i}function n(t,e){var i,a=t.text.indexOf("\n");return-1===a?(s(t,i=t.text),t.text=""):(s(t,(i=t.text.substring(0,a))+"\n"),t.text=t.text.substring(a+1)),i}function r(t){var e=t.text.indexOf("\n");return-1===e?t.text:t.text.substring(0,e)}function o(t){e(t,[y,b]);var i=t.text[0];" "===i||"\t"===i||"\n"===i?e(t,[k,l,$,u]):t.error="WEBVTT signature not followed by whitespace."}function l(t){for(;;){var e=r(t);if(-1!==e.indexOf("--\x3e"))return;if(0===e.length)return;var s=i(t,p);t.metadata[s[0]]=s[1],i(t,k)}}function h(t){var e=[],i=t.indexOf(" ");i>=0&&e.push(i);var s=t.indexOf("\t");s>=0&&e.push(s);var a=t.indexOf("\n");return a>=0&&e.push(a),Math.min.apply(null,e)}function p(t){var e=a(t,t.text.indexOf("\n")),i=e.indexOf(":");return-1===i?void(t.error="Missing colon."):[e.substring(0,i),e.substring(i+1)]}function c(t){var e=a(t,h(t.text)),i=e.indexOf(":");return-1===i?void(t.error="Missing colon."):[e.substring(0,i),e.substring(i+1)]}function u(s){for(;;){var a=r(s);if(0!==a.indexOf("NOTE")||4!==a.length&&" "!==a[4]&&"\t"!==a[4])if(0===t.trim(a).length&&s.text.length>0)i(s,T);else{if(!(t.trim(a).length>0))return;i(s,d)}else e(s,[v,T])}}function d(t){var s,o,l=r(t);if(-1===l.indexOf("--\x3e")&&(s=n(t),-1===(l=r(t)).indexOf("--\x3e")))return o="Invalid WebVTT file: "+t.src+"\n",o+="Line: "+t.line+", ",o+="Column: "+t.column+"\n",o+="Expected cue timing for cueId '"+s+"' but found: "+l+"\n",void(console.warn||console.log);var h=e(t,[A,C,w,C,A]),p=h[0],c=h[4];if(p>=c)t.error="Start time is not sooner than end time.";else{i(t,P);var u=i(t,f);a(t,1);var d=i(t,g);void 0===s&&(s=t.cues.length+1),t.cues.push({id:s,start:p,end:c,settings:u,components:d})}}function f(t){for(var e={};t.text.length>0&&"\n"!==t.text[0];){var s=i(t,c);e[s[0]]=s[1],i(t,P)}return e}function g(e){for(var s={type:"internal",tagName:"",value:"",classes:[],annotation:"",parent:null,children:[],language:""},n=s,o=[];e.text.length>0;){var l=r(e);if(-1!==l.indexOf("--\x3e")||/^\s*$/.test(l))break;if(e.text.length>=2&&"\n"===e.text[0]&&"\n"===e.text[1]){a(e,2);break}var h=m(e);if("string"===h.type)n.children.push(h);else if("startTag"===h.type)h.type=h.tagName,h.parent=n,-1!==t.inArray(h.tagName,["i","b","u","ruby"])?(o.length>0&&(n.language=o[o.length-1]),n.children.push(h),n=h):"rt"===h.tagName&&"ruby"===n.tagName?(o.length>0&&(n.language=o[o.length-1]),n.children.push(h),n=h):"c"===h.tagName?(h.value=h.annotation,o.length>0&&(n.language=o[o.length-1]),n.children.push(h),n=h):"v"===h.tagName?(h.value=h.annotation,o.length>0&&(n.language=o[o.length-1]),n.children.push(h),n=h):"lang"===h.tagName&&(o.push(h.annotation),o.length>0&&(n.language=o[o.length-1]),n.children.push(h),n=h);else if("endTag"===h.type)h.tagName===n.type&&-1!==t.inArray(h.tagName,["c","i","b","u","ruby","rt","v"])?n=n.parent:"lang"===h.tagName&&"lang"===n.type?(n=n.parent,o.pop()):"ruby"===h.tagName&&"rt"===n.type&&(n=n.parent.parent);else if("timestampTag"===h.type){var p={text:h.value,error:null,metadata:{},cues:[],line:1,column:1};try{var c=i(p,A);0===p.text.length&&(h.value=c,n.push(h))}catch(t){}}}return s}function m(e){for(var i="data",s=[],n="",r={type:"",tagName:"",value:"",classes:[],annotation:"",children:[]};;){var o;if(o=e.text.length>=2&&"\n"===e.text[0]&&"\n"===e.text[1]?"":e.text.length>0?e.text[0]:"","data"===i)if("&"===o)n="&",i="escape";else if("<"===o){if(0!==s.length)return r.type="string",r.value=s.join(""),r;i="tag"}else{if(""===o)return{type:"string",value:s.join("")};s.push(o)}else if("escape"===i)if("&"===o)s.push(n),n="&";else if(o.match(/[0-9a-z]/))n+=o;else if(";"===o)"&amp"===n?s.push("&"):"&lt"===n?s.push("<"):"&gt"===n?s.push(">"):"&lrm"===n?s.push("‎"):"&rlm"===n?s.push("‏"):"&nbsp"===n?s.push(" "):(s.push(n),s.push(";")),i="data";else{if("<"===o||""===o)return s.push(n),r.type="string",r.value=s.join(""),r;if("\t"===o||"\n"===o||"\f"===o||" "===o)return s.push(n),r.type="string",r.value=s.join(""),r;s.push(n),i="data"}else if("tag"===i)if("\t"===o||"\n"===o||"\f"===o||" "===o)i="startTagAnnotation";else if("."===o)i="startTagClass";else if("/"===o)i="endTag";else if(o.match("[0-9]"))i="timestampTag",s.push(o);else{if(">"===o){a(e,1);break}if(""===o)return r.tagName="",r.type="startTag",r;s.push(o),i="startTag"}else if("startTag"===i)if("\t"===o||"\f"===o||" "===o)i="startTagAnnotation";else if("\n"===o)n=o,i="startTagAnnotation";else if("."===o)i="startTagClass";else{if(">"===o)return a(e,1),r.tagName=s.join(""),r.type="startTag",r;if(""===o)return r.tagName=s.join(""),r.type="startTag",r;s.push(o)}else if("startTagClass"===i)if("\t"===o||"\f"===o||" "===o)r.classes.push(n),n="",i="startTagAnnotation";else if("\n"===o)r.classes.push(n),n=o,i="startTagAnnotation";else if("."===o)r.classes.push(n),n="";else{if(">"===o)return a(e,1),r.classes.push(n),r.type="startTag",r.tagName=s.join(""),r;if(""===o)return r.classes.push(n),r.type="startTag",r.tagName=s.join(""),r;n+="c"}else if("startTagAnnotation"===i){if(">"===o)return a(e,1),n=t.trim(n).replace(/ +/," "),r.type="startTag",r.tagName=s.join(""),r.annotation=n,r;if(""===o)return n=t.trim(n).replace(/ +/," "),r.type="startTag",r.tagName=s.join(""),r.annotation=n,r;n+=o}else if("endTag"===i){if(">"===o)return a(e,1),r.type="endTag",r.tagName=s.join(""),r;if(""===o)return r.type="endTag",r.tagName=s.join(""),r;s.push(o)}else{if("timestampTag"!==i)throw"Unknown tokenState "+i;if(">"===o)return a(e,1),r.type="timestampTag",r.name=s.join(""),r;if(""===o)return r.type="timestampTag",r.name=s.join(""),r;s.push(o)}a(e,1)}}function v(e){if(-1===n(e).indexOf("--\x3e"))for(;;){var i=r(e);if(0===t.trim(i).length)return;if(-1!==i.indexOf("--\x3e"))return void(e.error="Invalid syntax: --\x3e in comment.");n(e)}else e.error="Invalid syntax: --\x3e in NOTE line."}function y(t){"\ufeff"===t.text[0]&&a(t,1)}function b(t){"WEBVTT"===t.text.substring(0,6)?a(t,6):t.error="Invalid signature."}function w(t){t.text.length<3||"--\x3e"!==t.text.substring(0,3)?t.error="Missing --\x3e":a(t,3)}function P(t){for(;"\t"===t.text[0]||" "===t.text[0];)a(t,1)}function C(t){for(var e=0;"\t"===t.text[0]||" "===t.text[0];)a(t,1),e+=1;0===e&&(t.error="Missing space.")}function k(t){var e=t.text.indexOf("\n");-1===e?t.error="Missing EOL.":a(t,e+1)}function T(e){for(;e.text.length>0;){var i=r(e);if(0!==t.trim(i).length)break;n(e)}}function $(e){for(var i=0;e.text.length>0;){var s=r(e);if(0!==t.trim(s).length)break;n(e),i+=1}0===i&&(e.error="Missing empty line.")}function A(t){var e=h(t.text);if(-1!==e){var i=a(t,e),s=/((\d\d):)?((\d\d):)(\d\d).(\d\d\d)|(\d+).(\d\d\d)/.exec(i);if(s){var n=0,r=s[2],o=s[4];if(o){if(parseInt(o,10)>59)return void(t.error="Invalid minute range");r&&(n+=3600*parseInt(r,10)),n+=60*parseInt(o,10);var l=s[5];if(parseInt(l,10)>59)return void(t.error="Invalid second range");n+=parseInt(l,10),n+=parseInt(s[6],10)/1e3}else n+=parseInt(s[7],10),n+=parseInt(s[8],10)/1e3;return n}t.error="Unable to parse timestamp"}else t.error("Missing timing.")}AblePlayer.prototype.parseWebVTT=function(t,e){var s={src:t,text:e=e.replace(/(\r\n|\n|\r)/g,"\n"),error:null,metadata:{},cues:[],line:1,column:1};try{i(s,o)}catch(t){"Line: "+s.line+", ","Column: "+s.column+"\n",t,console.warn||console.log}return s}}(jQuery),function(t){AblePlayer.prototype.injectPlayerCode=function(){var e;this.$mediaContainer=this.$media.wrap('<div class="able-media-container"></div>').parent(),this.$ableDiv=this.$mediaContainer.wrap('<div class="able"></div>').parent(),this.$ableWrapper=this.$ableDiv.wrap('<div class="able-wrapper"></div>').parent(),"youtube"!==this.player&&this.$ableWrapper.css({"max-width":this.playerMaxWidth+"px"}),this.injectOffscreenHeading(),"video"===this.mediaType&&("font"==this.iconType&&"youtube"!==this.player&&this.injectBigPlayButton(),e=t("<div>",{class:"able-vidcap-container"}),this.$vidcapContainer=this.$mediaContainer.wrap(e).parent()),this.injectPlayerControlArea(),this.injectTextDescriptionArea(),this.transcriptType&&("popup"===this.transcriptType||"external"===this.transcriptType?this.injectTranscriptArea():"manual"===this.transcriptType&&this.setupManualTranscript(),this.addTranscriptAreaEvents()),this.injectAlert(),this.injectPlaylist()},AblePlayer.prototype.injectOffscreenHeading=function(){var e;this.playerHeadingLevel=this.getNextHeadingLevel(this.$ableDiv),e="h"+this.playerHeadingLevel.toString(),this.$headingDiv=t("<"+e+">"),this.$ableDiv.prepend(this.$headingDiv),this.$headingDiv.addClass("able-offscreen"),this.$headingDiv.text(this.tt.playerHeading)},AblePlayer.prototype.injectBigPlayButton=function(){this.$bigPlayButton=t("<button>",{class:"able-big-play-button icon-play","aria-hidden":!0,tabindex:-1});var e=this;this.$bigPlayButton.click(function(){e.handlePlay()}),this.$mediaContainer.append(this.$bigPlayButton)},AblePlayer.prototype.injectPlayerControlArea=function(){this.$playerDiv=t("<div>",{class:"able-player",role:"region","aria-label":this.mediaType+" player"}),this.$playerDiv.addClass("able-"+this.mediaType),this.$nowPlayingDiv=t("<div>",{class:"able-now-playing","aria-live":"assertive","aria-atomic":"true"}),this.$controllerDiv=t("<div>",{class:"able-controller"}),this.$controllerDiv.addClass("able-"+this.iconColor+"-controls"),this.$statusBarDiv=t("<div>",{class:"able-status-bar"}),this.$timer=t("<span>",{class:"able-timer"}),this.$elapsedTimeContainer=t("<span>",{class:"able-elapsedTime",text:"0:00"}),this.$durationContainer=t("<span>",{class:"able-duration"}),this.$timer.append(this.$elapsedTimeContainer).append(this.$durationContainer),this.$speed=t("<span>",{class:"able-speed","aria-live":"assertive"}).text(this.tt.speed+": 1x"),this.$status=t("<span>",{class:"able-status","aria-live":"polite"}),this.$statusBarDiv.append(this.$timer,this.$speed,this.$status),this.$playerDiv.append(this.$nowPlayingDiv,this.$controllerDiv,this.$statusBarDiv),this.$ableDiv.append(this.$playerDiv)},AblePlayer.prototype.injectTextDescriptionArea=function(){this.$descDiv=t("<div>",{class:"able-descriptions","aria-live":"assertive","aria-atomic":"true"}),this.$descDiv.hide(),this.$ableDiv.append(this.$descDiv)},AblePlayer.prototype.getDefaultWidth=function(t){return"transcript"===t?450:"sign"===t?400:void 0},AblePlayer.prototype.positionDraggableWindow=function(e,i){var s,a,n,r;s=this.getCookie(),"transcript"===e?(n=this.$transcriptArea,void 0!==s.transcript&&(a=s.transcript)):"sign"===e&&(n=this.$signWindow,void 0!==s.transcript&&(a=s.sign)),void 0===a||t.isEmptyObject(a)?(r=this.getOptimumPosition(e,i),void 0===i&&(i=this.getDefaultWidth(e)),n.css({position:r[0],width:i,"z-index":r[3]}),"absolute"===r[0]&&n.css({top:r[1]+"px",left:r[2]+"px"})):(n.css({position:a.position,width:a.width,"z-index":a.zindex}),"absolute"===a.position&&n.css({top:a.top,left:a.left}),this.updateZIndex(e))},AblePlayer.prototype.getOptimumPosition=function(e,i){var s,a,n,r,o,l;return void 0===i&&(i=this.getDefaultWidth(e)),5,s=[],a=this.$ableDiv.width(),this.$ableDiv.height(),n=this.$ableDiv.offset(),n.top,r=n.left,o=t(window).width(),l=0,"transcript"===e?void 0!==this.$signWindow&&this.$signWindow.is(":visible")&&(l=this.$signWindow.width()+5):"sign"===e&&void 0!==this.$transcriptArea&&this.$transcriptArea.is(":visible")&&(l=this.$transcriptArea.width()+5),i<o-(r+a+5+l)?(s[0]="absolute",s[1]=0,s[2]=a+l+5):i+5<r?(s[0]="absolute",s[1]=0,s[2]=r-i-5):s[0]="relative",s},AblePlayer.prototype.injectPoster=function(e,i){var s,a,n;"youtube"===i?void 0!==this.ytWidth?(a=this.ytWidth,n=this.ytHeight):void 0!==this.playerMaxWidth?(a=this.playerMaxWidth,n=this.playerMaxHeight):void 0!==this.playerWidth&&(a=this.playerWidth,n=this.playerHeight):"fallback"===i&&(a="100%",n="auto"),this.$media.attr("poster")&&(s=this.$media.attr("poster"),this.$posterImg=t("<img>",{class:"able-poster",src:s,alt:"",role:"presentation",width:a,height:n}),e.append(this.$posterImg))},AblePlayer.prototype.injectAlert=function(){var e;this.$alertBox=t('<div role="alert"></div>'),this.$alertBox.addClass("able-alert"),this.$alertBox.hide(),this.$alertBox.appendTo(this.$ableDiv),e="audio"==this.mediaType?-10:Math.round(10*this.$mediaContainer.offset().top)/10,this.$alertBox.css({top:e+"px"}),this.$srAlertBox=t('<div role="alert"></div>'),this.$srAlertBox.addClass("able-screenreader-alert"),this.$srAlertBox.appendTo(this.$ableDiv)},AblePlayer.prototype.injectPlaylist=function(){if(!0===this.playlistEmbed){var t=this.$playlistDom.clone();t.insertBefore(this.$statusBarDiv),this.$playlist=t.find("li")}this.hasPlaylist&&0===this.$sources.length&&(this.initializing=!0,this.swapSource(0),this.$sources=this.$media.find("source"))},AblePlayer.prototype.createPopup=function(e){var i,s,a,n,r,o;return i=this,s=t("<div>",{id:this.mediaId+"-"+e+"-menu",class:"able-popup"}).hide(),"chapters"!==e&&"prefs"!==e&&"sign-window"!==e&&"transcript-window"!==e||s.addClass("able-popup-no-radio"),s.on("keydown",function(e){a=t(this).find("input:focus"),(n=a.parent()).is(":first-child")?(r=t(this).find("input").last(),o=n.next().find("input")):n.is(":last-child")?(r=n.prev().find("input"),o=t(this).find("input").first()):(r=n.prev().find("input"),o=n.next().find("input")),9===e.which?e.shiftKey?(n.removeClass("able-focus"),r.focus(),r.parent().addClass("able-focus")):(n.removeClass("able-focus"),o.focus(),o.parent().addClass("able-focus")):40===e.which||39===e.which?(n.removeClass("able-focus"),o.focus(),o.parent().addClass("able-focus")):38==e.which||37===e.which?(n.removeClass("able-focus"),r.focus(),r.parent().addClass("able-focus")):32===e.which||13===e.which?n.find("input:focus").click():27===e.which&&(n.removeClass("able-focus"),i.closePopups()),e.preventDefault()}),this.$controllerDiv.append(s),s},AblePlayer.prototype.closePopups=function(){this.chaptersPopup&&this.chaptersPopup.is(":visible")&&(this.chaptersPopup.hide(),this.$chaptersButton.focus()),this.captionsPopup&&this.captionsPopup.is(":visible")&&(this.captionsPopup.hide(),this.$ccButton.focus()),this.prefsPopup&&this.prefsPopup.is(":visible")&&(this.prefsPopup.hide(),this.$prefsButton.focus()),this.$windowPopup&&this.$windowPopup.is(":visible")&&(this.$windowPopup.hide(),this.$windowButton.show().focus()),this.$volumeSlider&&this.$volumeSlider.is(":visible")&&(this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeAlert.text(this.tt.volumeSliderClosed),this.$volumeButton.focus())},AblePlayer.prototype.setupPopups=function(e){var i,s,a,n,r,o,l,h,p,c,u,d,f,g;if(i=[],void 0===e&&i.push("prefs"),"captions"!==e&&void 0!==e||(void 0!==this.ytCaptions?this.ytCaptions.length&&i.push("ytCaptions"):this.captions.length>0&&i.push("captions")),"chapters"!==e&&void 0!==e||this.chapters.length>0&&this.useChaptersButton&&i.push("chapters"),i.length>0){s=this;for(var m=0;m<i.length;m++){var v=i[m];a=!1,"prefs"==v?this.prefsPopup=this.createPopup("prefs"):"captions"==v?(void 0===this.captionsPopup&&(this.captionsPopup=this.createPopup("captions")),r=this.captions):"chapters"==v?(void 0===this.chaptersPopup&&(this.chaptersPopup=this.createPopup("chapters")),r=this.selectedChapters?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[]):"ytCaptions"==v&&(void 0===this.captionsPopup&&(this.captionsPopup=this.createPopup("captions")),r=this.ytCaptions);var y=t("<ul></ul>");if(h=this.mediaId+"-"+v+"-choice","prefs"===v){for(d=this.getPreferencesGroups(),n=0;n<d.length;n++)o=t("<li></li>"),"captions"===(f=d[n])?g=this.tt.prefMenuCaptions:"descriptions"===f?g=this.tt.prefMenuDescriptions:"keyboard"===f?g=this.tt.prefMenuKeyboard:"transcript"===f&&(g=this.tt.prefMenuTranscript),p=this.mediaId+"-"+v+"-"+n,c=t("<input>",{type:"radio",val:f,name:h,id:p}),(u=t("<label>",{for:p})).text(g),c.click(function(e){var i=t(this).attr("value");s.setFullscreen(!1),"captions"===i?s.captionPrefsDialog.show():"descriptions"===i?s.descPrefsDialog.show():"keyboard"===i?s.keyboardPrefsDialog.show():"transcript"===i&&s.transcriptPrefsDialog.show(),s.closePopups()}),o.append(c,u),y.append(o);this.prefsPopup.append(y)}else{for(n=0;n<r.length;n++){if(o=t("<li></li>"),l=r[n],p=this.mediaId+"-"+v+"-"+n,c=t("<input>",{type:"radio",val:n,name:h,id:p}),l.def&&(c.prop("checked",!0),a=!0),u=t("<label>",{for:p}),"undefined"!==l.language&&c.attr("lang",l.language),"captions"==v||"ytCaptions"==v)u.text(l.label||l.language),c.click(this.getCaptionClickFunction(l));else if("chapters"==v){u.text(this.flattenCueForCaption(l)+" - "+this.formatSecondsAsColonTime(l.start));c.on("click keypress",function(t){return function(){s.seekTo(t),s.hidingPopup=!0,s.chaptersPopup.hide(),setTimeout(function(){s.hidingPopup=!1},100),s.$chaptersButton.focus()}}(l.start))}o.append(c,u),y.append(o)}"captions"!=v&&"ytCaptions"!=v||(p=this.mediaId+"-captions-off",o=t("<li></li>"),c=t("<input>",{type:"radio",name:h,id:p}),(u=t("<label>",{for:p})).text(this.tt.captionsOff),0===this.prefCaptions&&c.prop("checked",!0),c.click(this.getCaptionOffFunction()),o.append(c,u),y.append(o)),a||("captions"!=v&&"ytCaptions"!=v||!y.find("input:radio[lang="+this.captionLang+"]")?y.find("input").first().prop("checked",!0):y.find("input:radio[lang="+this.captionLang+"]").prop("checked",!0)),"captions"===v||"ytCaptions"===v?this.captionsPopup.html(y):"chapters"===v&&this.chaptersPopup.html(y)}}}},AblePlayer.prototype.provideFallback=function(e){var i,s,a,n,r,o,l,h,p,c;if(o=!1,i=t("<div>",{class:"able-fallback",role:"alert"}),s=void 0!==this.playerMaxWidth?this.playerMaxWidth+"px":this.$media.attr("width")?parseInt(this.$media.attr("width"),10)+"px":"100%",i.css("max-width",s),a=this.$media.clone(),t("source, track",a).remove(),(n=a.html().trim()).length?i.html(n):"NO SUPPORT"==e?(r=this.tt.fallbackError1+" "+this.tt[this.mediaType]+". ",r+=this.tt.fallbackError2+":",n=t("<p>").text(r),i.html(n),o=!0):i.text(e),o){for(c=t("<ul>"),l=this.getSupportingBrowsers(),h=0;h<l.length;h++)(p=t("<li>")).text(l[h].name+" "+l[h].minVersion+" "+this.tt.orHigher),c.append(p);i.append(c)}this.injectPoster(i,"fallback"),void 0!==this.$ableWrapper?(this.$ableWrapper.before(i),this.$ableWrapper.remove()):void 0!==this.$media?(this.$media.before(i),this.$media.remove()):t("body").prepend(i)},AblePlayer.prototype.getSupportingBrowsers=function(){var t=[];return t[0]={name:"Chrome",minVersion:"31"},t[1]={name:"Firefox",minVersion:"34"},t[2]={name:"Internet Explorer",minVersion:"10"},t[3]={name:"Opera",minVersion:"26"},t[4]={name:"Safari for Mac OS X",minVersion:"7.1"},t[5]={name:"Safari for iOS",minVersion:"7.1"},t[6]={name:"Android Browser",minVersion:"4.1"},t[7]={name:"Chrome for Android",minVersion:"40"},t},AblePlayer.prototype.calculateControlLayout=function(){var t={ul:["play","restart","rewind","forward"],ur:["seek"],bl:[],br:[]};this.browserSupportsVolume()?(this.volumeButton="volume-"+this.getVolumeName(this.volume),t.ur.push("volume")):this.volume=!1;var e=[],i=[];return this.isPlaybackRateSupported()&&(e.push("slower"),e.push("faster")),"video"===this.mediaType&&(this.hasCaptions&&e.push("captions"),this.hasSignLanguage&&e.push("sign"),(this.hasOpenDesc||this.hasClosedDesc)&&this.useDescriptionsButton&&e.push("descriptions")),"popup"===this.transcriptType&&e.push("transcript"),"video"===this.mediaType&&this.hasChapters&&this.useChaptersButton&&e.push("chapters"),t.br.push("preferences"),"video"===this.mediaType&&this.allowFullScreen&&"jw"!==this.player&&t.br.push("fullscreen"),e.length>0&&i.length>0?(t.bl=e,t.bl.push("pipe"),t.bl=t.bl.concat(i)):t.bl=e.concat(i),t},AblePlayer.prototype.addControls=function(){var e,i,s,a,n,r,o,l,h,p,c,u,d,f,g,m=this,v=this.calculateControlLayout(),y={0:"ul",1:"ur",2:"bl",3:"br"};for(n=this.mediaId+"-tooltip",this.$tooltipDiv=t("<div>",{id:n,class:"able-tooltip"}).hide(),this.$controllerDiv.append(this.$tooltipDiv),e=0;e<=3;e++){for(s=v[y[e]],a=e%2==0?t("<div>",{class:"able-left-controls"}):t("<div>",{class:"able-right-controls"}),this.$controllerDiv.append(a),i=0;i<s.length;i++){if("seek"===(r=s[i])){var b=t('<div class="able-seekbar"></div>'),w=this.mediaType+" "+this.tt.seekbarLabel;a.append(b);var P=this.getDuration();0==P&&(P=100),this.seekBar=new AccessibleSlider(this.mediaType,b,"horizontal",100,0,P,this.seekInterval,w,"seekbar",!0,"visible")}else if("pipe"===r){var C=t("<span>",{tabindex:"-1","aria-hidden":"true"});if("font"===this.iconType)C.addClass("icon-pipe");else{var k=t("<img>",{src:this.rootPath+"button-icons/"+this.iconColor+"/pipe.png",alt:"",role:"presentation"});C.append(k)}a.append(C)}else{l="volume"===r?this.rootPath+"button-icons/"+this.iconColor+"/"+this.volumeButton+".png":"fullscreen"===r?this.rootPath+"button-icons/"+this.iconColor+"/fullscreen-expand.png":"slower"===r?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/turtle.png":this.rootPath+"button-icons/"+this.iconColor+"/slower.png":"faster"===r?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/rabbit.png":this.rootPath+"button-icons/"+this.iconColor+"/faster.png":this.rootPath+"button-icons/"+this.iconColor+"/"+r+".png",h=this.getButtonTitle(r),p=t("<button>",{type:"button",tabindex:"0","aria-label":h,class:"able-button-handler-"+r}),"volume"!==r&&"preferences"!==r||("preferences"==r?g=this.mediaId+"-prefs-menu":"volume"===r&&(g=this.mediaId+"-volume-slider"),p.attr({"aria-controls":g})),"font"===this.iconType?(c="volume"===r?"icon-"+this.volumeButton:"slower"===r?"animals"===this.speedIcons?"icon-turtle":"icon-slower":"faster"===r?"animals"===this.speedIcons?"icon-rabbit":"icon-faster":"icon-"+r,u=t("<span>",{class:c,"aria-hidden":"true"}),p.append(u)):"svg"===this.iconType?(c="volume"===r?"svg-"+this.volumeButton:"fullscreen"===r?"svg-fullscreen-expand":"slower"===r?"animals"===this.speedIcons?"svg-turtle":"svg-slower":"faster"===r?"animals"===this.speedIcons?"svg-rabbit":"svg-faster":"svg-"+r,u=t("<svg>",{class:c}),d=t("<use>",{"xlink:href":this.rootPath+"icons/able-icons.svg#"+c}),u.append(d),p.html(u),p.html(p.html())):(o=t("<img>",{src:l,alt:"",role:"presentation"}),p.append(o));var T=t("<span>",{class:"able-clipped"}).text(h);p.append(T),p.on("mouseenter focus",function(e){var i=t(this).attr("aria-label"),s=t(this).position(),a=t(this).height(),r=(t(this).width(),s.top-a-15),o=!0;if(t(this).closest("div").hasClass("able-right-controls")){if(t(this).closest("div").find("button:last").get(0)==t(this).get(0)){o=!1;c={left:"",right:(h=0)+"px",top:r+"px"}}}else if(t(this).is(":first-child")){o=!1;c={left:(h=s.left)+"px",right:"",top:r+"px"}}if(o)var l=AblePlayer.localGetElementById(p[0],n).text(i).width(),h=s.left-l/2,c={left:h+"px",right:"",top:r+"px"};var u=AblePlayer.localGetElementById(p[0],n).text(i).css(c);m.showTooltip(u),t(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(p[0],n).text("").hide()})}),"captions"===r?this.prefCaptions&&1===this.prefCaptions||(f=this.captions.length>1?this.tt.captions:this.tt.showCaptions,p.addClass("buttonOff").attr("title",f)):"descriptions"===r&&(this.prefDesc&&1===this.prefDesc||p.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions)),a.append(p),"play"===r?this.$playpauseButton=p:"captions"===r?this.$ccButton=p:"sign"===r?(this.$signButton=p,this.$signWindow.is(":visible")||this.$signButton.addClass("buttonOff")):"descriptions"===r?this.$descButton=p:"mute"===r?this.$muteButton=p:"transcript"===r?(this.$transcriptButton=p,this.$transcriptDiv.is(":visible")||this.$transcriptButton.addClass("buttonOff").attr("title",this.tt.showTranscript)):"fullscreen"===r?this.$fullscreenButton=p:"chapters"===r?this.$chaptersButton=p:"preferences"===r?this.$prefsButton=p:"volume"===r&&(this.$volumeButton=p)}"volume"===r&&this.addVolumeSlider(a)}e%2==1&&this.$controllerDiv.append('<div style="clear:both;"></div>')}"video"===this.mediaType&&(void 0!==this.$captionsDiv&&this.stylizeCaptions(this.$captionsDiv),void 0!==this.$descDiv&&this.stylizeCaptions(this.$descDiv)),this.controls=[];for(var $ in v)v.hasOwnProperty($)&&(this.controls=this.controls.concat(v[$]));this.refreshControls()},AblePlayer.prototype.useSvg=function(){var t,e,i=Object.create(null),s=function(){clearTimeout(e),e=setTimeout(t,100)},a=function(){},n=function(){var t;window.addEventListener("resize",s,!1),window.addEventListener("orientationchange",s,!1),window.MutationObserver?((t=new MutationObserver(s)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),a=function(){try{t.disconnect(),window.removeEventListener("resize",s,!1),window.removeEventListener("orientationchange",s,!1)}catch(t){}}):(document.documentElement.addEventListener("DOMSubtreeModified",s,!1),a=function(){document.documentElement.removeEventListener("DOMSubtreeModified",s,!1),window.removeEventListener("resize",s,!1),window.removeEventListener("orientationchange",s,!1)})},r="http://www.w3.org/1999/xlink";t=function(){function t(){0===(g-=1)&&n()}function e(e){return function(){e.onerror=null,e.ontimeout=null,t()}}var s,o,l,h,p,c,u,d,f,g=0;if(window.XMLHttpRequest&&(p=void 0!==(p=new XMLHttpRequest).withCredentials?XMLHttpRequest:XDomainRequest||void 0),void 0!==p){for(a(),d=document.getElementsByTagName("use"),h=0;h<d.length;h+=1){try{o=d[h].getBoundingClientRect()}catch(t){o=!1}s=(u=d[h].getAttributeNS(r,"href").split("#"))[0],l=u[1],c=o&&0===o.left&&0===o.right&&0===o.top&&0===o.bottom,o&&0===o.width&&0===o.height&&!c?s.length&&(!0!==(f=i[s])&&setTimeout(function(t){return function(){!0!==i[t.base]&&t.useEl.setAttributeNS(r,"xlink:href","#"+t.hash)}}({useEl:d[h],base:s,hash:l}),0),void 0===f&&(f=new p,i[s]=f,f.onload=function(e){return function(){var i,s=document.body,a=document.createElement("x");e.onload=null,a.innerHTML=e.responseText,(i=a.getElementsByTagName("svg")[0])&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",s.insertBefore(i,s.firstChild)),t()}}(f),f.onerror=e(f),f.ontimeout=e(f),f.open("GET",s),f.send(),g+=1)):c||(void 0===i[s]?i[s]=!0:i[s].onload&&(i[s].abort(),i[s].onload=void 0,i[s]=!0))}d="",g+=1,t()}}},AblePlayer.prototype.swapSource=function(e){var i,s,a,n,r,o,l,h,p;for(this.$media.find("source").remove(),s=(i=this.$playlist.eq(e)).html(),i.attr("lang")&&(a=i.attr("lang")),n=[],r=0,"audio"===this.mediaType?(i.attr("data-mp3")&&(o=i.attr("data-mp3"),n[r]=new Array("audio/mpeg",o),r++),i.attr("data-webm")&&(n[r]=new Array("audio/webm",i.attr("data-webm")),r++),i.attr("data-webma")&&(n[r]=new Array("audio/webm",i.attr("data-webma")),r++),i.attr("data-ogg")&&(n[r]=new Array("audio/ogg",i.attr("data-ogg")),r++),i.attr("data-oga")&&(n[r]=new Array("audio/ogg",i.attr("data-oga")),r++),i.attr("data-wav")&&(n[r]=new Array("audio/wav",i.attr("data-wav")),r++)):"video"===this.mediaType&&(i.attr("data-mp4")&&(o=i.attr("data-mp4"),n[r]=new Array("video/mp4",o),r++),i.attr("data-webm")&&(n[r]=new Array("video/webm",i.attr("data-webm")),r++),i.attr("data-webmv")&&(n[r]=new Array("video/webm",i.attr("data-webmv")),r++),i.attr("data-ogg")&&(n[r]=new Array("video/ogg",i.attr("data-ogg")),r++),i.attr("data-ogv")&&(n[r]=new Array("video/ogg",i.attr("data-ogv")),r++)),l=0;l<n.length;l++)h=t("<source>",{type:n[l][0],src:n[l][1]}),this.$media.append(h);this.$playlist.removeClass("able-current"),i.addClass("able-current"),!0===this.showNowPlaying&&(p=t("<span>"),void 0!==a&&p.attr("lang",a),p.html("<span>Selected track:</span>"+s),this.$nowPlayingDiv.html(p)),this.initializing?this.swappingSrc=!1:(this.swappingSrc=!0,"html5"===this.player?this.media.load():"jw"===this.player?this.jwPlayer.load({file:o}):this.player)},AblePlayer.prototype.getButtonTitle=function(t){return"playpause"===t?this.tt.play:"play"===t?this.tt.play:"pause"===t?this.tt.pause:"restart"===t?this.tt.restart:"rewind"===t?this.tt.rewind:"forward"===t?this.tt.forward:"captions"===t?(this.usingYouTubeCaptions?this.ytCaptions.length:this.captions.length)>1?this.tt.captions:this.captionsOn?this.tt.hideCaptions:this.tt.showCaptions:"descriptions"===t?this.descOn?this.tt.turnOffDescriptions:this.tt.turnOnDescriptions:"transcript"===t?this.$transcriptDiv.is(":visible")?this.tt.hideTranscript:this.tt.showTranscript:"chapters"===t?this.tt.chapters:"sign"===t?this.tt.sign:"volume"===t?this.tt.volume:"faster"===t?this.tt.faster:"slower"===t?this.tt.slower:"preferences"===t?this.tt.preferences:"help"!==t?(this.debug,t.charAt(0).toUpperCase()+t.slice(1)):void 0}}(jQuery),function(t){AblePlayer.prototype.setupTracks=function(){var e=this,i=new t.Deferred,s=i.promise();this.$tracks=this.$media.find("track"),this.captions=[],this.captionLabels=[],this.descriptions=[],this.chapters=[],this.meta=[];for(var a=[],n=0;n<this.$tracks.length;n++){var r=this.$tracks[n],o=r.getAttribute("kind"),l=r.getAttribute("src");r.getAttribute("default");if(l){var h=this.loadTextObject(l);a.push(h),h.then(function(t,i){return function(s,a){var n=e.parseWebVTT(s,a).cues;"captions"===i||"subtitles"===i?e.setupCaptions(t,n):"descriptions"===i?e.setupDescriptions(t,n):"chapters"===i?e.setupChapters(t,n):"metadata"===i&&e.setupMetadata(t,n)}}(r,o))}}return t.when.apply(t,a).then(function(){i.resolve()}),s},AblePlayer.prototype.setupCaptions=function(e,i){this.hasCaptions=!0;var s=e.getAttribute("srclang")||this.lang,a=e.getAttribute("label")||this.getLanguageName(s);if("string"==typeof e.getAttribute("default")){n=!0;e.removeAttribute("default")}else var n=!1;if("video"===this.mediaType&&(this.$captionsDiv||(this.$captionsDiv=t("<div>",{class:"able-captions"}),this.$captionsWrapper=t("<div>",{class:"able-captions-wrapper","aria-hidden":"true"}).hide(),"below"===this.prefCaptionsPosition?this.$captionsWrapper.addClass("able-captions-below"):this.$captionsWrapper.addClass("able-captions-overlay"),this.$captionsWrapper.append(this.$captionsDiv),this.$vidcapContainer.append(this.$captionsWrapper))),this.currentCaption=-1,1===this.prefCaptions?this.captionsOn=!0:this.captionsOn=!1,"external"===this.transcriptType||"popup"===this.transcriptType){this.$unknownTranscriptOption&&(this.$unknownTranscriptOption.remove(),this.$unknownTranscriptOption=null);var r=t("<option></option>",{value:s,lang:s}).text(a)}if("external"===this.transcriptType||"popup"===this.transcriptType)var o=this.$transcriptLanguageSelect.find("option");if(0===this.captions.length)this.captions.push({cues:i,language:s,label:a,def:n}),"external"!==this.transcriptType&&"popup"!==this.transcriptType||(n&&r.prop("selected",!0),this.$transcriptLanguageSelect.append(r)),this.captionLabels.push(a);else{for(var l=!1,h=0;h<this.captions.length;h++){this.captionLabels[h];if(a.toLowerCase()<this.captionLabels[h].toLowerCase()){this.captions.splice(h,0,{cues:i,language:s,label:a,def:n}),"external"!==this.transcriptType&&"popup"!==this.transcriptType||(n&&r.prop("selected",!0),r.insertBefore(o.eq(h))),this.captionLabels.splice(h,0,a),l=!0;break}}l||(this.captions.push({cues:i,language:s,label:a,def:n}),"external"!==this.transcriptType&&"popup"!==this.transcriptType||(n&&r.prop("selected",!0),this.$transcriptLanguageSelect.append(r)),this.captionLabels.push(a))}"external"!==this.transcriptType&&"popup"!==this.transcriptType||this.$transcriptLanguageSelect.find("option").length>1&&this.$transcriptLanguageSelect.prop("disabled",!1)},AblePlayer.prototype.setupDescriptions=function(t,e){var i=t.getAttribute("srclang")||this.lang;this.hasClosedDesc=!0,this.currentDescription=-1,this.descriptions.push({cues:e,language:i})},AblePlayer.prototype.setupChapters=function(t,e){var i=t.getAttribute("srclang")||this.lang;this.hasChapters=!0,this.chapters.push({cues:e,language:i})},AblePlayer.prototype.setupMetadata=function(e,i){"text"===this.metaType?this.metaDiv&&t("#"+this.metaDiv)&&(this.$metaDiv=t("#"+this.metaDiv),this.hasMeta=!0,this.meta=i):"selector"===this.metaType&&(this.hasMeta=!0,this.visibleSelectors=[],this.meta=i)},AblePlayer.prototype.loadTextObject=function(e){var i=new t.Deferred,s=i.promise(),a=this,n=t("<div>",{style:"display:none"});return n.load(e,function(t,s,r){"error"===s?(a.debug,i.fail()):i.resolve(e,t),n.remove()}),s},AblePlayer.prototype.setupAltCaptions=function(){var e=new t.Deferred,i=e.promise();return 0===this.captions.length&&"youtube"===this.player&&"undefined"!=typeof youTubeDataAPIKey?this.setupYouTubeCaptions().done(function(){e.resolve()}):e.resolve(),i}}(jQuery),function(t){AblePlayer.prototype.initYouTubePlayer=function(){var e,i,s,a;return e=this,i=new t.Deferred,s=i.promise(),a=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,this.activeYouTubeId=a,AblePlayer.youtubeIframeAPIReady?this.finalizeYoutubeInit().then(function(){i.resolve()}):(AblePlayer.loadingYoutubeIframeAPI||t.getScript("https://www.youtube.com/iframe_api").fail(function(){i.fail()}),t("body").on("youtubeIframeAPIReady",function(){e.finalizeYoutubeInit().then(function(){i.resolve()})})),s},AblePlayer.prototype.finalizeYoutubeInit=function(){var e,i,s,a,n,r;return e=new t.Deferred,i=e.promise(),s=this,a=this.mediaId+"_youtube",this.$mediaContainer.prepend(t("<div>").attr("id",a)),this.youTubeCaptionsReady=!1,s.captions.length?(n=0,this.usingYouTubeCaptions=!1):n=this.captionsOn?1:0,(r=this.getYouTubeDimensions(this.activeYouTubeId,a))?(this.ytWidth=r[0],this.ytHeight=r[1],this.aspectRatio=s.ytWidth/s.ytHeight):(this.ytWidth=null,this.ytHeight=null),this.youTubePlayer=new YT.Player(a,{videoId:this.activeYouTubeId,width:this.ytWidth,height:this.ytHeight,playerVars:{enablejsapi:1,start:this.startTime,controls:0,cc_load_policy:n,hl:this.lang,modestbranding:1,rel:0,html5:1},events:{onReady:function(){s.swappingSrc&&(s.swappingSrc=!1,s.playing&&s.playMedia()),void 0===s.aspectRatio&&s.resizeYouTubePlayer(s.activeYouTubeId,a),e.resolve()},onError:function(t){e.fail()},onStateChange:function(t){var e=s.getPlayerState(t.data);"playing"===e?(s.playing=!0,s.startedPlaying=!0):s.playing=!1,s.stoppingYouTube&&"paused"===e&&(void 0!==s.$posterImg&&s.$posterImg.show(),s.stoppingYouTube=!1,s.seeking=!1,s.playing=!1)},onPlaybackQualityChange:function(){},onApiChange:function(t){s.initYouTubeCaptionModule()}}}),s.injectPoster(s.$mediaContainer,"youtube"),s.$media.remove(),i},AblePlayer.prototype.getYouTubeDimensions=function(e,i){var s,a,n,r;return s=[],void 0!==this.playerMaxWidth?(s[0]=this.playerMaxWidth,void 0!==this.playerMaxHeight&&(s[1]=this.playerMaxHeight),s):void 0!==t("#"+i)&&(a=t("#"+i),n=a.width(),r=a.height(),n>0&&r>0)&&(s[0]=n,s[1]=r,s)},AblePlayer.prototype.resizeYouTubePlayer=function(t,e){var i,s,a;void 0!==this.aspectRatio?this.restoringAfterFullScreen?(this.youTubePlayer&&this.youTubePlayer.setSize(this.ytWidth,this.ytHeight),this.restoringAfterFullScreen=!1):(s=this.$ableWrapper.parent().width(),a=Math.round(s/this.aspectRatio),this.$ableWrapper.css({"max-width":s+"px",width:""}),this.youTubePlayer.setSize(s,a),this.isFullscreen()?this.youTubePlayer.setSize(s,a):this.youTubePlayer.setSize(this.ytWidth,this.ytHeight)):(i=this.getYouTubeDimensions(t,e))&&(s=i[0],a=i[1],s>0&&a>0&&(this.aspectRatio=s/a,this.ytWidth=s,this.ytHeight=a,s!==this.$ableWrapper.width()&&(s=this.$ableWrapper.width(),a=Math.round(s/this.aspectRatio),this.youTubePlayer&&this.youTubePlayer.setSize(s,a))))},AblePlayer.prototype.setupYouTubeCaptions=function(){var e,i,s=new t.Deferred,a=s.promise();return e=this,this.ytCaptions=[],i=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,t.doWhen({when:function(){return googleApiReady},interval:100,attempts:1e3}).done(function(){e.getYouTubeCaptionData(i).done(function(){s.resolve()})}).fail(function(){}),a},AblePlayer.prototype.getYouTubeCaptionData=function(e){var i,s,a,n,r,o,l,h,p=new t.Deferred,c=p.promise();return i=this,gapi.client.setApiKey(youTubeDataAPIKey),gapi.client.load("youtube","v3").then(function(){gapi.client.youtube.captions.list({part:"id, snippet",videoId:e}).then(function(t){if(t.result.items.length){for(i.hasCaptions=!0,i.usingYouTubeCaptions=!0,1===i.prefCaptions?i.captionsOn=!0:i.captionsOn=!1,s=0;s<t.result.items.length;s++)a=t.result.items[s].id,r=t.result.items[s].snippet.name,n=t.result.items[s].snippet.language,o=t.result.items[s].snippet.trackKind,l=t.result.items[s].snippet.isDraft,"ASR"===o||l||(""===r&&(r=i.getLanguageName(n)),h=n===i.lang,i.ytCaptions.push({language:n,label:r,def:h}));i.setupPopups("captions"),p.resolve()}else i.hasCaptions=!1,i.usingYouTubeCaptions=!1,p.resolve()},function(t){})}),c},AblePlayer.prototype.initYouTubeCaptionModule=function(){var t;if((t=this.youTubePlayer.getOptions()).length){for(var e=0;e<t.length;e++){if("cc"==t[e]){this.ytCaptionModule="cc",this.hasCaptions||(this.hasCaptions=!0,this.usingYouTubeCaptions=!0);break}if("captions"==t[e]){this.ytCaptionModule="captions",this.hasCaptions||(this.hasCaptions=!0,this.usingYouTubeCaptions=!0);break}}void 0!==this.ytCaptionModule&&(this.usingYouTubeCaptions?(this.youTubePlayer.setOption(this.ytCaptionModule,"track",{languageCode:this.captionLang}),this.youTubePlayer.setOption(this.ytCaptionModule,"fontSize",this.translatePrefs("size",this.prefCaptionsSize,"youtube"))):this.youTubePlayer.unloadModule(this.ytCaptionModule))}else this.hasCaptions=!1,this.usingYouTubeCaptions=!1;this.refreshControls()}}(jQuery),function(t){window.AccessibleSlider=function(e,i,s,a,n,r,o,l,h,p,c){var u;u=this,this.position=0,this.tracking=!1,this.trackDevice=null,this.keyTrackPosition=0,this.lastTrackPosition=0,this.nextStep=1,this.inertiaCount=0,this.bodyDiv=t(i),p&&(this.loadedDiv=t("<div></div>"),this.playedDiv=t("<div></div>")),this.seekHead=t("<div>",{orientation:s,class:"able-"+h+"-head"}),"visible"===c?this.seekHead.attr("tabindex","0"):this.seekHead.attr("tabindex","-1"),this.seekHead.attr({role:"slider","aria-label":l,"aria-valuemin":n,"aria-valuemax":r}),this.timeTooltip=t("<div>"),this.bodyDiv.append(this.timeTooltip),this.timeTooltip.attr("role","tooltip"),this.timeTooltip.addClass("able-tooltip"),this.timeTooltip.hide(),this.bodyDiv.append(this.loadedDiv),this.bodyDiv.append(this.playedDiv),this.bodyDiv.append(this.seekHead),this.bodyDiv.wrap("<div></div>"),this.wrapperDiv=this.bodyDiv.parent(),"horizontal"===s?(this.wrapperDiv.width(a),this.loadedDiv.width(0)):(this.wrapperDiv.height(a),this.loadedDiv.height(0)),this.wrapperDiv.addClass("able-"+h+"-wrapper"),p&&(this.loadedDiv.addClass("able-"+h+"-loaded"),this.playedDiv.width(0),this.playedDiv.addClass("able-"+h+"-played"),this.setDuration(r)),this.seekHead.hover(function(t){u.overHead=!0,u.refreshTooltip()},function(t){u.overHead=!1,!u.overBody&&u.tracking&&"mouse"===u.trackDevice&&u.stopTracking(u.pageXToPosition(t.pageX)),u.refreshTooltip()}),this.seekHead.mousemove(function(t){u.tracking&&"mouse"===u.trackDevice&&u.trackHeadAtPageX(t.pageX)}),this.seekHead.focus(function(t){u.overHead=!0,u.refreshTooltip()}),this.seekHead.blur(function(t){u.overHead=!1,u.refreshTooltip()}),this.bodyDiv.hover(function(){u.overBody=!0,u.refreshTooltip()},function(t){u.overBody=!1,u.overBodyMousePos=null,u.refreshTooltip(),!u.overHead&&u.tracking&&"mouse"===u.trackDevice&&u.stopTracking(u.pageXToPosition(t.pageX))}),this.bodyDiv.mousemove(function(t){u.overBodyMousePos={x:t.pageX,y:t.pageY},u.tracking&&"mouse"===u.trackDevice&&u.trackHeadAtPageX(t.pageX),u.refreshTooltip()}),this.bodyDiv.mousedown(function(t){u.startTracking("mouse",u.pageXToPosition(t.pageX)),u.trackHeadAtPageX(t.pageX),u.seekHead.is(":focus")||u.seekHead.focus(),t.preventDefault()}),this.seekHead.mousedown(function(t){u.startTracking("mouse",u.pageXToPosition(u.seekHead.offset()+u.seekHead.width()/2)),u.bodyDiv.is(":focus")||u.bodyDiv.focus(),t.preventDefault()}),this.bodyDiv.mouseup(function(t){u.tracking&&"mouse"===u.trackDevice&&u.stopTracking(u.pageXToPosition(t.pageX))}),this.seekHead.mouseup(function(t){u.tracking&&"mouse"===u.trackDevice&&u.stopTracking(u.pageXToPosition(t.pageX))}),this.bodyDiv.keydown(function(t){if(36===t.which)u.trackImmediatelyTo(0);else if(35===t.which)u.trackImmediatelyTo(u.duration);else if(37===t.which||40===t.which)u.arrowKeyDown(-1);else if(39===t.which||38===t.which)u.arrowKeyDown(1);else if(33===t.which&&o>0)u.arrowKeyDown(o);else{if(!(34===t.which&&o>0))return;u.arrowKeyDown(-o)}t.preventDefault()}),this.bodyDiv.keyup(function(t){t.which>=33&&t.which<=40&&(u.tracking&&"keyboard"===u.trackDevice&&u.stopTracking(u.keyTrackPosition),t.preventDefault())})},AccessibleSlider.prototype.arrowKeyDown=function(t){this.tracking&&"keyboard"===this.trackDevice?(this.keyTrackPosition=this.boundPos(this.keyTrackPosition+this.nextStep*t),this.inertiaCount+=1,20===this.inertiaCount&&(this.inertiaCount=0,this.nextStep*=2),this.trackHeadAtPosition(this.keyTrackPosition)):(this.nextStep=1,this.inertiaCount=0,this.keyTrackPosition=this.boundPos(this.position+this.nextStep*t),this.startTracking("keyboard",this.keyTrackPosition),this.trackHeadAtPosition(this.keyTrackPosition))},AccessibleSlider.prototype.pageXToPosition=function(t){var e=t-this.bodyDiv.offset().left,i=this.duration*(e/this.bodyDiv.width());return this.boundPos(i)},AccessibleSlider.prototype.boundPos=function(t){return Math.max(0,Math.min(t,this.duration))},AccessibleSlider.prototype.setDuration=function(t){t!==this.duration&&(this.duration=t,this.resetHeadLocation(),this.seekHead.attr("aria-valuemax",t))},AccessibleSlider.prototype.setWidth=function(t){this.wrapperDiv.width(t),this.resizeDivs(),this.resetHeadLocation()},AccessibleSlider.prototype.getWidth=function(){return this.wrapperDiv.width()},AccessibleSlider.prototype.resizeDivs=function(){this.playedDiv.width(this.bodyDiv.width()*(this.position/this.duration)),this.loadedDiv.width(this.bodyDiv.width()*this.buffered)},AccessibleSlider.prototype.resetHeadLocation=function(){var t=this.position/this.duration,e=this.bodyDiv.width()*t;this.seekHead.css("left",e-this.seekHead.width()/2),this.tracking&&this.stopTracking(this.position)},AccessibleSlider.prototype.setPosition=function(t,e){this.position=t,this.resetHeadLocation(),this.refreshTooltip(),this.resizeDivs(),this.updateAriaValues(t,e)},AccessibleSlider.prototype.setBuffered=function(t){this.buffered=t,this.redrawDivs},AccessibleSlider.prototype.startTracking=function(t,e){this.tracking||(this.trackDevice=t,this.tracking=!0,this.bodyDiv.trigger("startTracking",[e]))},AccessibleSlider.prototype.stopTracking=function(t){this.trackDevice=null,this.tracking=!1,this.bodyDiv.trigger("stopTracking",[t]),this.setPosition(t,!0)},AccessibleSlider.prototype.trackHeadAtPageX=function(t){var e=this.pageXToPosition(t),i=t-this.bodyDiv.offset().left-this.seekHead.width()/2;i=Math.max(0,Math.min(i,this.bodyDiv.width()-this.seekHead.width())),this.lastTrackPosition=e,this.seekHead.css("left",i),this.reportTrackAtPosition(e)},AccessibleSlider.prototype.trackHeadAtPosition=function(t){var e=t/this.duration,i=this.bodyDiv.width()*e;this.lastTrackPosition=t,this.seekHead.css("left",i-this.seekHead.width()/2),this.reportTrackAtPosition(t)},AccessibleSlider.prototype.reportTrackAtPosition=function(t){this.bodyDiv.trigger("tracking",[t]),this.updateAriaValues(t,!0)},AccessibleSlider.prototype.updateAriaValues=function(e,i){var s,a=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60),o=1===a?"hour":"hours",l=1===n?"minute":"minutes",h=1===r?"second":"seconds";s=a>0?a+" "+o+", "+n+" "+l+", "+r+" "+h:n>0?n+" "+l+", "+r+" "+h:r+" "+h,this.liveAriaRegion||(this.liveAriaRegion=t("<span>",{class:"able-offscreen","aria-live":"polite"}),this.wrapperDiv.append(this.liveAriaRegion)),i&&this.liveAriaRegion.text()!==s&&this.liveAriaRegion.text(s),this.seekHead.attr("aria-valuetext",s),this.seekHead.attr("aria-valuenow",Math.floor(e).toString())},AccessibleSlider.prototype.trackImmediatelyTo=function(t){this.startTracking("keyboard",t),this.trackHeadAtPosition(t),this.keyTrackPosition=t},AccessibleSlider.prototype.refreshTooltip=function(){this.overHead?(this.timeTooltip.show(),this.tracking?this.timeTooltip.text(this.positionToStr(this.lastTrackPosition)):this.timeTooltip.text(this.positionToStr(this.position)),this.setTooltipPosition(this.seekHead.position().left+this.seekHead.width()/2)):this.overBody&&this.overBodyMousePos?(this.timeTooltip.show(),this.timeTooltip.text(this.positionToStr(this.pageXToPosition(this.overBodyMousePos.x))),this.setTooltipPosition(this.overBodyMousePos.x-this.bodyDiv.offset().left)):this.timeTooltip.hide()},AccessibleSlider.prototype.setTooltipPosition=function(t){this.timeTooltip.css({left:t-this.timeTooltip.width()/2-10,bottom:this.seekHead.height()+10})},AccessibleSlider.prototype.positionToStr=function(t){var e=Math.floor(t/3600),i=Math.floor(t/60)%60,s=Math.floor(t%60);return s<10&&(s="0"+s),e>0?(i<10&&(i="0"+i),e+":"+i+":"+s):i+":"+s}}(jQuery),function(t){AblePlayer.prototype.addVolumeSlider=function(e){var i,s,a,n,r,o;i=this,s=this.mediaId+"-volume-slider",a=this.mediaId+"-volume-help",this.volumeTrackHeight=50,this.volumeHeadHeight=7,this.volumeTickHeight=this.volumeTrackHeight/10,this.$volumeSlider=t("<div>",{id:s,class:"able-volume-slider","aria-hidden":"true"}).hide(),this.$volumeSliderTooltip=t("<div>",{class:"able-tooltip",role:"tooltip"}).hide(),this.$volumeSliderTrack=t("<div>",{class:"able-volume-track"}),this.$volumeSliderTrackOn=t("<div>",{class:"able-volume-track able-volume-track-on"}),this.$volumeSliderHead=t("<div>",{class:"able-volume-head",role:"slider","aria-orientation":"vertical","aria-label":this.tt.volumeUpDown,"aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":this.volume,tabindex:-1}),this.$volumeSliderTrack.append(this.$volumeSliderTrackOn,this.$volumeSliderHead),this.$volumeAlert=t("<div>",{class:"able-offscreen","aria-live":"assertive","aria-atomic":"true"}),o=parseInt(i.volume)/10*100,this.$volumeHelp=t("<div>",{id:a,class:"able-volume-help"}).text(o+"%, "+this.tt.volumeHelp),this.$volumeButton.attr({"aria-describedby":a}),this.$volumeSlider.append(this.$volumeSliderTooltip,this.$volumeSliderTrack,this.$volumeAlert,this.$volumeHelp),e.append(this.$volumeSlider),this.refreshVolumeSlider(this.volume),this.$volumeSliderHead.on("mousedown",function(e){e.preventDefault(),i.draggingVolume=!0,i.volumeHeadPositionTop=t(this).offset().top}),this.$mediaContainer.on("mouseover",function(t){"youtube"==i.player&&(i.draggingVolume=!1)}),t(document).on("mouseup",function(t){i.draggingVolume=!1}),t(document).on("mousemove",function(t){i.draggingVolume&&(n=t.pageX,r=t.pageY,i.moveVolumeHead(r))}),this.$volumeSliderHead.on("keydown",function(t){if(37===t.which||40===t.which)i.handleVolume("down");else if(39===t.which||38===t.which)i.handleVolume("up");else{if(27!==t.which&&13!==t.which)return;i.$volumeSlider.is(":visible")?i.hideVolumePopup():i.showVolumePopup()}t.preventDefault()})},AblePlayer.prototype.refreshVolumeSlider=function(t){var e,i;i=(e=t/10*100)+"%";var s,a,n;s=t*this.volumeTickHeight,n=(a=this.volumeTrackHeight-s)-this.volumeHeadHeight,this.$volumeSliderTrackOn.css({height:s+"px",top:a+"px"}),this.$volumeSliderHead.attr({"aria-valuenow":t,"aria-valuetext":i}),this.$volumeSliderHead.css({top:n+"px"}),this.$volumeAlert.text(e+"%")},AblePlayer.prototype.refreshVolumeButton=function(t){var e,i,s,a,n;e=this.getVolumeName(t),i=t/10*100,s=this.tt.volume+" "+i+"%","font"===this.iconType?(a="icon-volume-"+e,this.$volumeButton.find("span").first().removeClass().addClass(a),this.$volumeButton.find("span.able-clipped").text(s)):(n=this.imgPath+"volume-"+e+".png",this.$volumeButton.find("img").attr("src",n))},AblePlayer.prototype.moveVolumeHead=function(t){var e,i,s,a=this.volumeHeadPositionTop-t;if(Math.abs(a)>this.volumeTickHeight){if("up"==(e=a>0?"up":"down")&&10==this.volume)return;if("down"==e&&0==this.volume)return;i=Math.round(Math.abs(a)/this.volumeTickHeight),"up"==e?(s=this.volume+i)>10&&(s=10):(s=this.volume-i)<0&&(s=0),this.setVolume(s),this.refreshVolumeSlider(s),this.refreshVolumeButton(s),this.volumeHeadPositionTop=t}},AblePlayer.prototype.handleVolume=function(t){var e;void 0!==t?(t>=49&&t<=57?e=t-48:(e=this.getVolume(),"up"===t&&e<10?e+=1:"down"===t&&e>0&&(e-=1)),this.isMuted()&&e>0?this.setMute(!1):0===e?this.setMute(!0):(this.setVolume(e),this.refreshVolumeSlider(e),this.refreshVolumeButton(e))):this.$volumeSlider.is(":visible")?this.hideVolumePopup():this.showVolumePopup()},AblePlayer.prototype.handleMute=function(){this.isMuted()?this.setMute(!1):this.setMute(!0)},AblePlayer.prototype.showVolumePopup=function(){this.closePopups(),this.$tooltipDiv.hide(),this.$volumeSlider.show().attr("aria-hidden","false"),this.$volumeSliderHead.attr("tabindex","0").focus()},AblePlayer.prototype.hideVolumePopup=function(){this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeSliderHead.attr("tabindex","-1"),this.$volumeButton.focus()},AblePlayer.prototype.isMuted=function(){return"html5"===this.player?this.media.muted:"jw"===this.player&&this.jwPlayer?this.jwPlayer.getMute():"youtube"===this.player?this.youTubePlayer.isMuted():void 0},AblePlayer.prototype.setMute=function(t){t?(this.lastVolume=this.volume,this.volume=0):void 0!==this.lastVolume&&(this.volume=this.lastVolume),"html5"===this.player?this.media.muted=t:"jw"===this.player&&this.jwPlayer?this.jwPlayer.setMute(t):"youtube"===this.player&&(t?this.youTubePlayer.mute():this.youTubePlayer.unMute()),this.refreshVolumeSlider(this.volume),this.refreshVolumeButton(this.volume)},AblePlayer.prototype.setVolume=function(t){"html5"===this.player?(this.media.volume=t/10,this.hasSignLanguage&&this.signVideo&&(this.signVideo.volume=0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.setVolume(10*t):"youtube"===this.player&&(this.youTubePlayer.setVolume(10*t),this.volume=t),this.lastVolume=t},AblePlayer.prototype.getVolume=function(t){return"html5"===this.player?10*this.media.volume:"jw"===this.player&&this.jwPlayer?this.jwPlayer.getVolume()/10:"youtube"===this.player?this.youTubePlayer.getVolume()/10:void 0},AblePlayer.prototype.getVolumeName=function(t){return 0==t?"mute":10==t?"loud":t<5?"soft":"medium"}}(jQuery),function(t){var e="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";window.AccessibleDialog=function(i,s,a,n,r,o,l,h,p){this.title=n,this.closeButtonLabel=o,this.focusedElementBeforeModal=s,this.escapeHook=p,this.baseId=t(i).attr("id")||Math.floor(1e9*Math.random()).toString();var c=this,u=i;if(this.modal=u,u.css({width:l||"50%",top:h?"0":"5%"}),u.addClass("able-modal-dialog"),!h){var d=t("<button>",{class:"modalCloseButton",title:c.closeButtonLabel,"aria-label":c.closeButtonLabel}).text("X");d.keydown(function(t){32===t.which&&c.hide()}).click(function(){c.hide()});var f=t("<h1></h1>");f.attr("id","modalTitle-"+this.baseId),f.css("text-align","center"),f.text(n),r.attr("id","modalDesc-"+this.baseId),u.attr({"aria-labelledby":"modalTitle-"+this.baseId,"aria-describedby":"modalDesc-"+this.baseId}),u.prepend(f),u.prepend(d)}u.attr({"aria-hidden":"true",role:a}),u.keydown(function(i){if(27===i.which)c.escapeHook?c.escapeHook(i,this):(c.hide(),i.preventDefault());else if(9===i.which){var s=u.find("*").filter(e).filter(":visible");if(0===s.length)return;var a=t(":focus"),n=s.index(a);i.shiftKey?0===n&&(s.get(s.length-1).focus(),i.preventDefault()):n===s.length-1&&(s.get(0).focus(),i.preventDefault())}i.stopPropagation()}),t("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","false")},AccessibleDialog.prototype.show=function(){if(!this.overlay){var i=t("<div></div>").attr({class:"able-modal-overlay",tabindex:"-1"});this.overlay=i,t("body").append(i),i.on("mousedown.accessibleModal",function(t){t.preventDefault()})}t("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","true"),this.overlay.css("display","block"),this.modal.css("display","block"),this.modal.attr({"aria-hidden":"false",tabindex:"-1"}),0===this.modal.find("*").filter(e).filter(":visible").length&&this.focusedElementBeforeModal.blur();var s=this;setTimeout(function(){s.modal.focus()},300)},AccessibleDialog.prototype.hide=function(){this.overlay&&this.overlay.css("display","none"),this.modal.css("display","none"),this.modal.attr("aria-hidden","true"),t("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","false"),this.focusedElementBeforeModal.focus()}}(jQuery),function(t){AblePlayer.prototype.getNextHeadingLevel=function(e){var i,s,a,n;return e.parents().each(function(){if(i=t(this).children(":header"),s=i.length)return a=i.eq(s-1).prop("tagName"),!1}),void 0===a?n=1:(n=parseInt(a[1]),(n+=1)>6&&(n=6)),n},AblePlayer.prototype.countProperties=function(t){var e,i;e=0;for(i in t)t.hasOwnProperty(i)&&++e;return e},AblePlayer.prototype.formatSecondsAsColonTime=function(t){var e=Math.floor(t/3600),i=Math.floor(t/60)%60,s=Math.floor(t%60);return s<10&&(s="0"+s),e>0?(i<10&&(i="0"+i),e+":"+i+":"+s):i+":"+s},AblePlayer.prototype.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}(jQuery),jQuery,AblePlayer.prototype.initDescription=function(){this.refreshingDesc||(this.descFile=this.$sources.first().attr("data-desc-src"),void 0!==this.descFile?this.hasOpenDesc=!0:this.youTubeDescId?this.hasOpenDesc=!0:this.hasOpenDesc=!1),this.prefDesc?this.hasOpenDesc&&this.hasClosedDesc?(this.useDescFormat=this.prefDescFormat,this.descOn=!0):this.hasOpenDesc?(this.useDescFormat="video",this.descOn=!0):this.hasClosedDesc&&(this.useDescFormat="text",this.descOn=!0):this.refreshingDesc?(this.prevDescFormat=this.useDescFormat,this.useDescFormat=!1,this.descOn=!1):this.useDescFormat=!1,this.descOn?"video"===this.useDescFormat?(this.usingAudioDescription()||this.swapDescription(),this.$descDiv.hide(),this.$descDiv.removeClass("able-clipped")):"text"===this.useDescFormat&&(this.$descDiv.show(),this.prefVisibleDesc?this.$descDiv.removeClass("able-clipped"):this.$descDiv.addClass("able-clipped"),this.swappingSrc||this.showDescription(this.getElapsed())):"video"===this.prevDescFormat?this.usingAudioDescription()&&this.swapDescription():"text"===this.prevDescFormat&&(this.$descDiv.hide(),this.$descDiv.removeClass("able-clipped")),this.refreshingDesc=!1},AblePlayer.prototype.usingAudioDescription=function(){return"youtube"===this.player?this.activeYouTubeId===this.youTubeDescId:this.$sources.first().attr("data-desc-src")===this.$sources.first().attr("src")},AblePlayer.prototype.swapDescription=function(){var t,e,i,s,a,n,r;if(t=this,this.swapTime=this.getElapsed(),this.descOn?this.showAlert(this.tt.alertDescribedVersion):this.showAlert(this.tt.alertNonDescribedVersion),"html5"===this.player){if(this.usingAudioDescription()){for(e=0;e<this.$sources.length;e++)i=this.$sources[e].getAttribute("data-orig-src"),a=this.$sources[e].getAttribute("type"),i&&this.$sources[e].setAttribute("src",i),"video/mp4"===a&&(n=e);this.swappingSrc=!0}else{for(e=0;e<this.$sources.length;e++)i=this.$sources[e].getAttribute("src"),s=this.$sources[e].getAttribute("data-desc-src"),a=this.$sources[e].getAttribute("type"),s&&(this.$sources[e].setAttribute("src",s),this.$sources[e].setAttribute("data-orig-src",i)),"video/mp4"===a&&(n=e);this.swappingSrc=!0}"html5"===this.player?this.media.load():"youtube"===this.player||"jw"===this.player&&this.jwPlayer&&(r=this.$sources[n].getAttribute("src"),this.jwPlayer.load({file:r}))}else"youtube"===this.player&&(this.usingAudioDescription()?(this.activeYouTubeId=this.youTubeId,this.showAlert(this.tt.alertNonDescribedVersion)):(this.activeYouTubeId=this.youTubeDescId,this.showAlert(this.tt.alertDescribedVersion)),void 0!==this.youTubePlayer&&this.setupAltCaptions().then(function(){t.playing?t.youTubePlayer.loadVideoById(t.activeYouTubeId,t.swapTime):t.youTubePlayer.cueVideoById(t.activeYouTubeId,t.swapTime)}))},AblePlayer.prototype.showDescription=function(t){if(!this.swappingSrc){var e,i,s,a=function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e.push(a(t.children[i]));return e.join("")};for(s=this.selectedDescriptions?this.selectedDescriptions.cues:this.descriptions.length>=1?this.descriptions[0].cues:[],e=0;e<s.length;e++)if(s[e].start<=t&&s[e].end>t){i=e;break}void 0!==i?this.currentDescription!==i&&(this.$status.removeAttr("aria-live"),this.$descDiv.html(a(s[i].components)),this.prefDescPause&&this.pauseMedia(),this.currentDescription=i):(this.$descDiv.html(""),this.currentDescription=-1,this.$status.attr("aria-live","polite"))}},jQuery,AblePlayer.prototype.getUserAgent=function(){this.userAgent={},this.userAgent.browser={},/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Firefox",this.userAgent.browser.version=RegExp.$1):/MSIE (\d+\.\d+);/.test(navigator.userAgent)?(this.userAgent.browser.name="Internet Explorer",this.userAgent.browser.version=RegExp.$1):/Trident.*rv[ :]*(\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Internet Explorer",this.userAgent.browser.version=RegExp.$1):/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Edge",this.userAgent.browser.version=RegExp.$1):/OPR\/(\d+\.\d+)/i.test(navigator.userAgent)?(this.userAgent.browser.name="Opera",this.userAgent.browser.version=RegExp.$1):/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?(this.userAgent.browser.name="Chrome",/Chrome[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(this.userAgent.browser.version=RegExp.$1)):/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(this.userAgent.browser.name="Safari",/Version[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(this.userAgent.browser.version=RegExp.$1)):(this.userAgent.browser.name="Unknown",this.userAgent.browser.version="Unknown"),-1!=window.navigator.userAgent.indexOf("Windows NT 6.2")?this.userAgent.os="Windows 8":-1!=window.navigator.userAgent.indexOf("Windows NT 6.1")?this.userAgent.os="Windows 7":-1!=window.navigator.userAgent.indexOf("Windows NT 6.0")?this.userAgent.os="Windows Vista":-1!=window.navigator.userAgent.indexOf("Windows NT 5.1")?this.userAgent.os="Windows XP":-1!=window.navigator.userAgent.indexOf("Windows NT 5.0")?this.userAgent.os="Windows 2000":-1!=window.navigator.userAgent.indexOf("Mac")?this.userAgent.os="Mac/iOS":-1!=window.navigator.userAgent.indexOf("X11")?this.userAgent.os="UNIX":-1!=window.navigator.userAgent.indexOf("Linux")&&(this.userAgent.os="Linux"),this.debug},AblePlayer.prototype.isUserAgent=function(t){var e=navigator.userAgent.toLowerCase();return this.debug,-1!==e.indexOf(t.toLowerCase())},AblePlayer.prototype.isIOS=function(t){var e;return e=navigator.userAgent.toLowerCase(),!!/ipad|iphone|ipod/.exec(e)&&(void 0===t||-1!==e.indexOf("os "+t))},AblePlayer.prototype.browserSupportsVolume=function(){var t,e;return t=navigator.userAgent.toLowerCase(),!(e=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(t))||!("android"!==e[0]||!/firefox/.test(t))},AblePlayer.prototype.nativeFullscreenSupported=function(){return"jw"!==this.player&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},function(t){AblePlayer.prototype.seekTo=function(t){if(this.seeking=!0,this.liveUpdatePending=!0,"html5"===this.player){var e;this.startTime=t,(e=this.media.seekable).length>0&&this.startTime>=e.start(0)&&this.startTime<=e.end(0)&&(this.media.currentTime=this.startTime,this.hasSignLanguage&&this.signVideo&&(this.signVideo.currentTime=this.startTime))}else"jw"===this.player&&this.jwPlayer?(this.jwSeekPause=!0,this.jwPlayer.seek(t)):"youtube"===this.player&&(this.youTubePlayer.seekTo(t,!0),t>0&&void 0!==this.$posterImg&&this.$posterImg.hide());this.refreshControls()},AblePlayer.prototype.getDuration=function(){var t;return"html5"===this.player?t=this.media.duration:"jw"===this.player&&this.jwPlayer?t=this.jwPlayer.getDuration():"youtube"===this.player&&this.youTubePlayer&&(t=this.youTubePlayer.getDuration()),void 0===t||isNaN(t)||-1===t?0:t},AblePlayer.prototype.getElapsed=function(){var t;if("html5"===this.player)t=this.media.currentTime;else if("jw"===this.player&&this.jwPlayer){if("IDLE"===this.jwPlayer.getState())return 0;t=this.jwPlayer.getPosition()}else"youtube"===this.player&&this.youTubePlayer&&(t=this.youTubePlayer.getCurrentTime());return void 0===t||isNaN(t)||-1===t?0:t},AblePlayer.prototype.getPlayerState=function(){if(!this.swappingSrc){if("html5"===this.player)return this.media.paused?0===this.getElapsed()?"stopped":this.media.ended?"ended":"paused":4!==this.media.readyState?"buffering":"playing";if("jw"===this.player&&this.jwPlayer){if("PAUSED"===this.jwPlayer.getState()||"IDLE"===this.jwPlayer.getState()||void 0===this.jwPlayer.getState())return 0===this.getElapsed()?"stopped":this.getElapsed()===this.getDuration()?"ended":"paused";if("BUFFERING"===this.jwPlayer.getState())return"buffering";if("PLAYING"===this.jwPlayer.getState())return"playing"}else if("youtube"===this.player&&this.youTubePlayer){var t=this.youTubePlayer.getPlayerState();if(-1===t||5===t)return"stopped";if(0===t)return"ended";if(1===t)return"playing";if(2===t)return"paused";if(3===t)return"buffering"}}},AblePlayer.prototype.isPlaybackRateSupported=function(){return"html5"===this.player?!!this.media.playbackRate:("jw"!==this.player||!this.jwPlayer)&&("youtube"===this.player?this.youTubePlayer.getAvailablePlaybackRates().length>1:void 0)},AblePlayer.prototype.setPlaybackRate=function(t){t=Math.max(.5,t),"html5"===this.player?this.media.playbackRate=t:"youtube"===this.player&&this.youTubePlayer.setPlaybackRate(t),this.hasSignLanguage&&this.signVideo&&(this.signVideo.playbackRate=t),this.$speed.text(this.tt.speed+": "+t.toFixed(2).toString()+"x")},AblePlayer.prototype.getPlaybackRate=function(){return"html5"===this.player?this.media.playbackRate:"jw"===this.player&&this.jwPlayer?1:"youtube"===this.player?this.youTubePlayer.getPlaybackRate():void 0},AblePlayer.prototype.isPaused=function(){var t=this.getPlayerState();return"paused"===t||"stopped"===t||"ended"===t},AblePlayer.prototype.pauseMedia=function(){"html5"===this.player?(this.media.pause(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.pause(!0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.pause(!0):"youtube"===this.player&&this.youTubePlayer.pauseVideo()},AblePlayer.prototype.playMedia=function(){"html5"===this.player?(this.media.play(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.play(!0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.play(!0):"youtube"===this.player&&(this.youTubePlayer.playVideo(),void 0!==this.$posterImg&&this.$posterImg.hide(),this.stoppingYouTube=!1),this.startedPlaying=!0},AblePlayer.prototype.refreshControls=function(){var e,i,s,a,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b;e=this,this.swappingSrc||(i=this.getDuration(),s=this.getElapsed(),this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.chapterElapsed=this.getChapterElapsed()),!1===this.useFixedSeekInterval&&!1===this.seekIntervalCalculated&&i>0&&this.setSeekInterval(),this.seekBar&&(this.useChapterTimes?(a=this.selectedChapters.cues.length-1,this.selectedChapters.cues[a]==this.currentChapter&&this.currentChapter.end!==i?this.seekBar.setDuration(i-this.currentChapter.start):this.seekBar.setDuration(this.chapterDuration)):this.seekBar.setDuration(i),this.seekBar.tracking||(r=this.liveUpdatePending||this.seekBar.seekHead.is(t(document.activeElement)),this.liveUpdatePending=!1,this.useChapterTimes?this.seekBar.setPosition(this.chapterElapsed,r):this.seekBar.setPosition(s,r)),n=this.seekBar.tracking?this.seekBar.lastTrackPosition:this.useChapterTimes?this.chapterElapsed:s),this.useChapterTimes?this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.chapterDuration)):this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(i)),this.$elapsedTimeContainer.text(this.formatSecondsAsColonTime(n)),o={stopped:this.tt.statusStopped,paused:this.tt.statusPaused,playing:this.tt.statusPlaying,buffering:this.tt.statusBuffering,ended:this.tt.statusEnd},this.stoppingYouTube?(this.$status.text()!==this.tt.statusStopped&&this.$status.text(this.tt.statusStopped),this.$playpauseButton.find("span").first().hasClass("icon-pause")&&("font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):"svg"===this.iconType||this.$playpauseButton.find("img").attr("src",this.playButtonImg))):void 0!==this.$status&&void 0!==this.seekBar&&(this.$status.text()===o[this.getPlayerState()]||this.seekBar.tracking?(this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null):(l=(new Date).getTime(),this.statusDebounceStart?l-this.statusDebounceStart>250&&(this.$status.text(o[this.getPlayerState()]),this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null):(this.statusDebounceStart=l,this.statusTimeout=setTimeout(function(){e.refreshControls()},300))),this.seekBar.tracking||this.stoppingYouTube||(this.isPaused()?(this.$playpauseButton.attr("aria-label",this.tt.play),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):"svg"===this.iconType?(this.$playpauseButton.find("svg").removeClass("svg-pause").addClass("svg-play"),v=this.$playpauseButton.find("use").attr("xlink:href").replace("svg-pause","svg-play"),this.$playpauseButton.find("use").attr(v),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):this.$playpauseButton.find("img").attr("src",this.playButtonImg)):(this.$playpauseButton.attr("aria-label",this.tt.pause),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-play").addClass("icon-pause"),this.$playpauseButton.find("span.able-clipped").text(this.tt.pause)):"svg"===this.iconType?(this.$playpauseButton.find("svg").removeClass("svg-play").addClass("svg-pause"),v=this.$playpauseButton.find("use").attr("xlink:href").replace("svg-play","svg-pause"),this.$playpauseButton.find("use").attr(v),this.$playpauseButton.find("span.able-clipped").text(this.tt.pause)):this.$playpauseButton.find("img").attr("src",this.pauseButtonImg)))),this.seekBar&&(h=0,d=40,c=(p=this.seekBar.wrapperDiv.parent().prev("div.able-left-controls")).next("div.able-right-controls"),p.children().each(function(){"BUTTON"==t(this).prop("tagName")&&(h+=t(this).width())}),c.children().each(function(){"BUTTON"==t(this).prop("tagName")&&(h+=t(this).width())}),u=this.isFullscreen()?t(window).width()-h-d:this.$ableWrapper.width()-h-d,Math.abs(u-this.seekBar.getWidth())>5&&this.seekBar.setWidth(u)),this.isFullscreen()||(b=300,y=this.$statusBarDiv.height(),this.$statusBarDiv.find("span.able-speed").height()>y+5?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):(this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1),this.$statusBarDiv.width()<b?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1))),this.$descButton&&(this.descOn?(this.$descButton.removeClass("buttonOff").attr("aria-label",this.tt.turnOffDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOffDescriptions)):(this.$descButton.addClass("buttonOff").attr("aria-label",this.tt.turnOnDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOnDescriptions))),this.$ccButton&&(f=this.usingYouTubeCaptions?this.ytCaptions.length:this.captions.length,this.captionsOn?(this.$ccButton.removeClass("buttonOff"),1===f&&(this.$ccButton.attr("aria-label",this.tt.hideCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.hideCaptions))):(this.$ccButton.addClass("buttonOff"),1===f&&(this.$ccButton.attr("aria-label",this.tt.showCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.showCaptions))),f>1&&(this.$ccButton.attr({"aria-label":this.tt.captions,"aria-haspopup":"true","aria-controls":this.mediaId+"-captions-menu"}),this.$ccButton.find("span.able-clipped").text(this.tt.captions))),this.$chaptersButton&&this.$chaptersButton.attr({"aria-label":this.tt.chapters,"aria-haspopup":"true","aria-controls":this.mediaId+"-chapters-menu"}),this.$fullscreenButton&&(this.isFullscreen()?(this.$fullscreenButton.attr("aria-label",this.tt.exitFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-expand").addClass("icon-fullscreen-collapse"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullScreen)):"svg"===this.iconType?(this.$fullscreenButton.find("svg").removeClass("icon-fullscreen-expand").addClass("icon-fullscreen-collapse"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullScreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenCollapseButtonImg)):(this.$fullscreenButton.attr("aria-label",this.tt.enterFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-collapse").addClass("icon-fullscreen-expand"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullScreen)):"svg"===this.iconType?(this.$fullscreenButton.find("svg").removeClass("icon-fullscreen-collapse").addClass("icon-fullscreen-expand"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullScreen)):this.$fullscreenButton.find("img").attr("src",this.fullscreenExpandButtonImg))),void 0!==this.$bigPlayButton&&(this.isPaused()&&!this.seekBar.tracking?(this.hideBigPlayButton||this.$bigPlayButton.show(),this.isFullscreen()?(this.$bigPlayButton.width(t(window).width()),this.$bigPlayButton.height(t(window).height())):(this.$bigPlayButton.width(this.$mediaContainer.width()),this.$bigPlayButton.height(this.$mediaContainer.height()))):this.$bigPlayButton.hide()),this.transcriptType&&(1===this.prefAutoScrollTranscript?(this.autoScrollTranscript=!0,this.$autoScrollTranscriptCheckbox.prop("checked",!0)):(this.autoScrollTranscript=!1,this.$autoScrollTranscriptCheckbox.prop("checked",!1)),this.autoScrollTranscript&&this.currentHighlight&&(m=Math.floor(t(".able-transcript").scrollTop()+t(this.currentHighlight).position().top-t(".able-transcript").height()/2+t(this.currentHighlight).height()/2))!==Math.floor(t(".able-transcript").scrollTop())&&(this.scrollingTranscript=!0,t(".able-transcript").scrollTop(m))),"html5"===this.player?this.media.buffered.length>0&&(g=this.media.buffered.end(0),this.useChapterTimes?(g>this.chapterDuration&&(g=this.chapterDuration),this.seekBar&&this.seekBar.setBuffered(g/this.chapterDuration)):this.seekBar&&this.seekBar.setBuffered(g/i)):"jw"===this.player&&this.jwPlayer?this.seekBar&&this.seekBar.setBuffered(this.jwPlayer.getBuffer()/100):"youtube"===this.player&&this.seekBar&&this.seekBar.setBuffered(this.youTubePlayer.getVideoLoadedFraction()))},AblePlayer.prototype.getHiddenWidth=function(t){var e=t.clone().appendTo("body"),i=e.outerWidth();return e.remove(),i},AblePlayer.prototype.handlePlay=function(t){this.isPaused()?this.playMedia():this.pauseMedia(),this.refreshControls()},AblePlayer.prototype.handleRestart=function(){this.seekTo(0),this.refreshControls()},AblePlayer.prototype.handleRewind=function(){var t;t=this.getElapsed()-this.seekInterval,this.useChapterTimes?t<this.currentChapter.start&&(t=this.currentChapter.start):t<0&&(t=0),this.seekTo(t)},AblePlayer.prototype.handleFastForward=function(){var t,e,i,s;t=this.getElapsed(),e=this.getDuration(),s=this.chapters.length-1,i=t+this.seekInterval,this.useChapterTimes?this.chapters[s]==this.currentChapter?i>e||i>this.currentChapter.end?i=Math.min(e,this.currentChapter.end):e%i<this.seekInterval&&(i=Math.min(e,this.currentChapter.end)):i>this.currentChapter.end&&(i=this.currentChapter.end):i>e&&(i=e),this.seekTo(i)},AblePlayer.prototype.handleRateIncrease=function(){this.changeRate(1)},AblePlayer.prototype.handleRateDecrease=function(){this.changeRate(-1)},AblePlayer.prototype.changeRate=function(t){if("html5"===this.player)this.setPlaybackRate(this.getPlaybackRate()+.25*t);else if("youtube"===this.player){var e=this.youTubePlayer.getAvailablePlaybackRates(),i=this.getPlaybackRate(),s=e.indexOf(i);-1===s||(s+=t)<e.length&&s>=0&&this.setPlaybackRate(e[s])}},AblePlayer.prototype.handleCaptionToggle=function(){var t;if(this.hidingPopup)return this.hidingPopup=!1,!1;if(1===(t=this.captions.length?this.captions:this.ytCaptions.length?this.ytCaptions:[]).length){if(!0===this.captionsOn)this.captionsOn=!1,this.prefCaptions=0,this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.unloadModule(this.ytCaptionModule):this.$captionsWrapper.hide();else{this.captionsOn=!0,this.prefCaptions=1,this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?void 0!==this.ytCaptionModule&&this.youTubePlayer.loadModule(this.ytCaptionModule):this.$captionsWrapper.show();for(var e=0;e<t.length;e++)!0===t[e].def&&(this.selectedCaptions=t[e]);this.selectedCaptions=this.captions[0],this.descriptions.length>=0&&(this.selectedDescriptions=this.descriptions[0])}this.refreshControls()}else this.captionsPopup.is(":visible")?(this.captionsPopup.hide(),this.hidingPopup=!1,this.$ccButton.focus()):(this.closePopups(),this.captionsPopup.show(),this.captionsPopup.css("top",this.$ccButton.position().top-this.captionsPopup.outerHeight()),this.captionsPopup.css("left",this.$ccButton.position().left),this.captionsPopup.find("li").removeClass("able-focus"),this.captionsPopup.find("input:checked")?this.captionsPopup.find("input:checked").focus().parent().addClass("able-focus"):this.captionsPopup.find("input").first().focus().parent().addClass("able-focus"))},AblePlayer.prototype.handleChapters=function(){if(this.hidingPopup)return this.hidingPopup=!1,!1;this.chaptersPopup.is(":visible")?(this.chaptersPopup.hide(),this.hidingPopup=!1,this.$chaptersButton.focus()):(this.closePopups(),this.chaptersPopup.show(),this.chaptersPopup.css("top",this.$chaptersButton.position().top-this.chaptersPopup.outerHeight()),this.chaptersPopup.css("left",this.$chaptersButton.position().left),this.chaptersPopup.find("li").removeClass("able-focus"),this.chaptersPopup.find("input:checked")?this.chaptersPopup.find("input:checked").focus().parent().addClass("able-focus"):this.chaptersPopup.find("input").first().focus().parent().addClass("able-focus"))},AblePlayer.prototype.handleDescriptionToggle=function(){this.descOn=!this.descOn,this.prefDesc=+this.descOn,this.updateCookie("prefDesc"),this.refreshingDesc=!0,this.initDescription(),this.refreshControls()},AblePlayer.prototype.handlePrefsClick=function(t){var e,i;if(this.hidingPopup)return this.hidingPopup=!1,!1;this.prefsPopup.is(":visible")?(this.prefsPopup.hide(),this.hidingPopup=!1,this.$prefsButton.focus()):(this.closePopups(),this.prefsPopup.show(),e=this.$prefsButton.position(),i=this.$ableDiv.width()-5-this.prefsPopup.width(),this.prefsPopup.css("top",e.top-this.prefsPopup.outerHeight()),this.prefsPopup.css("left",i),this.prefsPopup.find("li").removeClass("able-focus"),this.prefsPopup.find("input").first().focus().parent().addClass("able-focus"))},AblePlayer.prototype.handleHelpClick=function(){this.setFullscreen(!1),this.helpDialog.show()},AblePlayer.prototype.handleTranscriptToggle=function(){this.$transcriptDiv.is(":visible")?(this.$transcriptArea.hide(),this.$transcriptButton.addClass("buttonOff").attr("aria-label",this.tt.showTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.showTranscript),this.prefTranscript=0):(this.positionDraggableWindow("transcript"),this.$transcriptArea.show(),this.$transcriptButton.removeClass("buttonOff").attr("aria-label",this.tt.hideTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.hideTranscript),this.prefTranscript=1),this.updateCookie("prefTranscript")},AblePlayer.prototype.handleSignToggle=function(){this.$signWindow.is(":visible")?(this.$signWindow.hide(),this.$signButton.addClass("buttonOff").attr("aria-label",this.tt.showSign),this.$signButton.find("span.able-clipped").text(this.tt.showSign),this.prefSign=0):(this.positionDraggableWindow("sign"),this.$signWindow.show(),this.$signButton.removeClass("buttonOff").attr("aria-label",this.tt.hideSign),this.$signButton.find("span.able-clipped").text(this.tt.hideSign),this.prefSign=1),this.updateCookie("prefSign")},AblePlayer.prototype.isFullscreen=function(){return this.nativeFullscreenSupported()?!!(document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement):!!this.modalFullscreenActive},AblePlayer.prototype.setFullscreen=function(e){if(this.isFullscreen()!=e){var i=this,s=this.$ableWrapper,a=s[0];if(this.nativeFullscreenSupported())e?(this.preFullScreenWidth=this.$ableWrapper.width(),this.preFullScreenHeight=this.$ableWrapper.height(),a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()):document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),t(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){i.isFullscreen()||(i.restoringAfterFullScreen=!0,i.resizePlayer(i.preFullScreenWidth,i.preFullScreenHeight))});else{if(!this.fullscreenDialog){var n=t("<div>"),r=t("<p>",{class:"able-screenreader-alert"}).text(this.tt.fullscreen);n.append(r),this.fullscreenDialog=new AccessibleDialog(n,this.$fullscreenButton,"dialog","Fullscreen video player",r,this.tt.exitFullScreen,"100%",!0,function(){i.handleFullscreenToggle()}),t("body").append(n)}var o=this.isPaused();if(e){this.modalFullscreenActive=!0,this.fullscreenDialog.show(),this.$modalFullscreenPlaceholder=t('<div class="placeholder">'),this.$modalFullscreenPlaceholder.insertAfter(s),s.appendTo(this.fullscreenDialog.modal),s===this.$ableColumnLeft&&s.width("100%");var l=t(window).height()-this.$playerDiv.height();this.$descDiv.is(":hidden")||(l-=this.$descDiv.height()),this.resizePlayer(t(window).width(),l)}else this.modalFullscreenActive=!1,s===this.$ableColumnLeft&&s.width("50%"),s.insertAfter(this.$modalFullscreenPlaceholder),this.$modalFullscreenPlaceholder.remove(),this.fullscreenDialog.hide(),this.resizePlayer(this.$ableWrapper.width(),this.$ableWrapper.height());!o&&this.isPaused()&&this.playMedia()}this.refreshControls()}},AblePlayer.prototype.handleFullscreenToggle=function(){var t=this.isPaused();this.setFullscreen(!this.isFullscreen()),t?this.pauseMedia():t||this.playMedia()},AblePlayer.prototype.handleTranscriptLockToggle=function(t){this.autoScrollTranscript=t,this.prefAutoScrollTranscript=+t,this.updateCookie("prefAutoScrollTranscript"),this.refreshControls()},AblePlayer.prototype.showTooltip=function(t){t.is(":animated")?t.stop(!0,!0).show().delay(4e3).fadeOut(1e3):t.stop().show().delay(4e3).fadeOut(1e3)},AblePlayer.prototype.showAlert=function(t,e){var i,s,a,n;"transcript"===e?(i=this.$transcriptAlert,s=this.$transcriptArea):"sign"===e?(i=this.$signAlert,s=this.$signWindow):i="screenreader"===e?this.$srAlertBox:this.$alertBox,i.show(),i.text(t),"transcript"==e||"sign"===e?(a=s.width()>i.width()?s.width()/2-i.width()/2:10,"sign"===e?n=s.height()/3*2:"transcript"===e&&(n=this.$transcriptToolbar.height()+30),i.css({top:n+"px",left:a+"px"})):"screenreader"!==e&&i.css({left:this.$playerDiv.width()/2-i.width()/2}),"screenreader"!==e&&setTimeout(function(){i.fadeOut(300)},3e3)},AblePlayer.prototype.showedAlert=function(t){return"transcript"===t?!!this.showedTranscriptAlert:"sign"===t&&!!this.showedSignAlert},AblePlayer.prototype.resizePlayer=function(t,e){var i,s,a,n,r;this.isFullscreen()?(void 0!==this.$vidcapContainer&&(this.$ableWrapper.css({width:t+"px","max-width":""}),this.$vidcapContainer.css({height:e+"px",width:t}),this.$media.css({height:e+"px",width:t})),void 0!==this.$transcriptArea&&this.retrieveOffscreenWindow("transcript",t,e),void 0!==this.$signWindow&&this.retrieveOffscreenWindow("sign",t,e)):this.restoringAfterFullScreen&&(t=this.preFullScreenWidth,e=this.preFullScreenHeight,this.restoringAfterFullScreen=!1,this.$ableWrapper.css({"max-width":t+"px",width:""}),void 0!==this.$vidcapContainer&&this.$vidcapContainer.css({height:"",width:""}),this.$media.css({width:"100%",height:"auto"})),"youtube"===this.player&&this.youTubePlayer?this.youTubePlayer.setSize(t,e):"jw"===this.player&&this.jwPlayer&&("audio"===this.mediaType?this.jwPlayer.resize(t,0):this.jwPlayer.resize(t,void 0)),void 0!==this.$captionsDiv&&(i=400,s=1e3,a=parseInt(this.prefCaptionsSize,10),r=(n=t>s?1.5*a:t<i?a/1.5:a)+25,this.$captionsDiv.css("font-size",n+"%"),this.$captionsWrapper.css("line-height",r+"%")),this.refreshControls()},AblePlayer.prototype.retrieveOffscreenWindow=function(t,e,i){var s,a,n,r,o,l,h,p;"transcript"==t?s=this.$transcriptArea:"sign"==t&&(s=this.$signWindow),l=s.width(),p=s.height(),n=(a=s.position()).top,o=(r=a.left)+l,h=n+p,n<0&&(n=10,s.css("top",n)),r<0&&(r=10,s.css("left",r)),o>e&&(r=e-20-l,s.css("left",r)),h>i&&(n=i-10-p,s.css("top",n))},AblePlayer.prototype.getHighestZIndex=function(){var e,i;return e=0,t("body *").not(".able-modal-dialog,.able-modal-dialog *,.able-modal-overlay,.able-modal-overlay *").each(function(){i=t(this).css("z-index"),Number.isInteger(+i)&&parseInt(i)>e&&(e=parseInt(i))}),e},AblePlayer.prototype.updateZIndex=function(t){var e,i,s,a;if(void 0===this.$transcriptArea||void 0===this.$signWindow)return!1;if(e=parseInt(this.$transcriptArea.css("z-index")),i=parseInt(this.$signWindow.css("z-index")),e===i)s=e+1e3,a=e;else if(e>i){if("transcript"===t)return!1;s=e,a=i}else{if("sign"===t)return!1;s=i,a=e}"transcript"===t?(this.$transcriptArea.css("z-index",s),this.$signWindow.css("z-index",a)):"sign"===t&&(this.$signWindow.css("z-index",s),this.$transcriptArea.css("z-index",a))},AblePlayer.prototype.syncTrackLanguages=function(t,e){var i,s,a,n,r;for(i=0;i<this.captions.length;i++)this.captions[i].language===e&&(s=this.captions[i]);for(i=0;i<this.chapters.length;i++)this.chapters[i].language===e&&(n=this.chapters[i]);for(i=0;i<this.descriptions.length;i++)this.descriptions[i].language===e&&(a=this.descriptions[i]);for(i=0;i<this.meta.length;i++)this.meta[i].language===e&&(r=this.meta[i]);this.transcriptLang=e,"init"===t||"captions"===t?(this.captionLang=e,this.selectedCaptions=s,this.selectedChapters=n,this.selectedDescriptions=a,this.selectedMeta=r,this.transcriptCaptions=s,this.transcriptChapters=n,this.transcriptDescriptions=a,this.updateChaptersList(),this.setupPopups("chapters")):"transcript"===t&&(this.transcriptCaptions=s,this.transcriptChapters=n,this.transcriptDescriptions=a),this.updateTranscript()}}(jQuery),function(t){AblePlayer.prototype.updateCaption=function(t){this.usingYouTubeCaptions||void 0===this.$captionsWrapper||(this.captionsOn?(this.$captionsWrapper.show(),this.showCaptions(t||this.getElapsed())):this.$captionsWrapper&&(this.$captionsWrapper.hide(),this.prefCaptions=0))},AblePlayer.prototype.getCaptionClickFunction=function(t){var e=this;return function(){e.selectedCaptions=t,e.captionLang=t.language,e.currentCaption=-1,e.usingYouTubeCaptions?e.captionsOn?void 0!==e.ytCaptionModule&&e.youTubePlayer.setOption(e.ytCaptionModule,"track",{languageCode:e.captionLang}):(e.resettingYouTubeCaptions=!0,e.youTubePlayer.loadModule(e.ytCaptionModule)):(e.syncTrackLanguages("captions",e.captionLang),this.swappingSrc||(e.updateCaption(),e.showDescription(e.getElapsed()))),e.captionsOn=!0,e.hidingPopup=!0,e.captionsPopup.hide(),setTimeout(function(){e.hidingPopup=!1},100),e.$ccButton.focus(),e.prefCaptions=1,e.updateCookie("prefCaptions"),e.refreshControls()}},AblePlayer.prototype.getCaptionOffFunction=function(){var t=this;return function(){"youtube"==t.player&&t.youTubePlayer.unloadModule(t.ytCaptionModule),t.captionsOn=!1,t.currentCaption=-1,t.hidingPopup=!0,t.captionsPopup.hide(),setTimeout(function(){t.hidingPopup=!1},100),t.$ccButton.focus(),t.prefCaptions=0,t.updateCookie("prefCaptions"),this.swappingSrc||(t.refreshControls(),t.updateCaption())}},AblePlayer.prototype.showCaptions=function(t){var e,i,s,a;for(a=this.selectedCaptions?this.selectedCaptions.cues:this.captions.length>=1?this.captions[0].cues:[],e=0;e<a.length;e++)if(a[e].start<=t&&a[e].end>t){i=e;break}void 0!==i?this.currentCaption!==i&&(s=this.flattenCueForCaption(a[i]).replace("\n","<br>"),this.$captionsDiv.html(s),this.currentCaption=i,0===s.length?this.$captionsDiv.css("display","none"):this.$captionsDiv.css("display","inline-block")):(this.$captionsDiv.html(""),this.currentCaption=-1)},AblePlayer.prototype.flattenCueForCaption=function(t){var e=[],i=function(t){var e,s=[];if("string"===t.type)s.push(t.value);else if("v"===t.type)for(s.push("("+t.value+")"),e=0;e<t.children.length;e++)s.push(i(t.children[e]));else if("i"===t.type){for(s.push("<em>"),e=0;e<t.children.length;e++)s.push(i(t.children[e]));s.push("</em>")}else if("b"===t.type){for(s.push("<strong>"),e=0;e<t.children.length;e++)s.push(i(t.children[e]));s.push("</strong>")}else for(e=0;e<t.children.length;e++)s.push(i(t.children[e]));return s.join("")};if(void 0!==t.components)for(var s=0;s<t.components.children.length;s++)e.push(i(t.components.children[s]));return e.join("")},AblePlayer.prototype.getCaptionsOptions=function(t){var e=[];switch(t){case"prefCaptionsFont":e[0]=this.tt.serif,e[1]=this.tt.sans,e[3]=this.tt.cursive,e[4]=this.tt.fantasy,e[2]=this.tt.monospace;break;case"prefCaptionsColor":case"prefCaptionsBGColor":e[0]=["white",this.tt.white],e[1]=["yellow",this.tt.yellow],e[2]=["green",this.tt.green],e[3]=["cyan",this.tt.cyan],e[4]=["blue",this.tt.blue],e[5]=["magenta",this.tt.magenta],e[6]=["red",this.tt.red],e[7]=["black",this.tt.black];break;case"prefCaptionsSize":e[0]="75%",e[1]="100%",e[2]="125%",e[3]="150%",e[4]="200%";break;case"prefCaptionsOpacity":e[0]="0%",e[1]="25%",e[2]="50%",e[3]="75%",e[4]="100%";break;case"prefCaptionsStyle":e[0]=this.tt.captionsStylePopOn,e[1]=this.tt.captionsStyleRollUp;break;case"prefCaptionsPosition":e[0]="overlay",e[1]="below"}return e},AblePlayer.prototype.translatePrefs=function(t,e,i){if("youtube"==i&&"size"===t)switch(e){case"75%":return-1;case"100%":return 0;case"125%":return 1;case"150%":return 2;case"200%":return 3}return!1},AblePlayer.prototype.stylizeCaptions=function(e,i){var s,a,n,r;void 0!==e&&("prefCaptionsPosition"==i?this.positionCaptions():void 0!==i?("prefCaptionsFont"===i?s="font-family":"prefCaptionsSize"===i?s="font-size":"prefCaptionsColor"===i?s="color":"prefCaptionsBGColor"===i?s="background-color":"prefCaptionsOpacity"===i&&(s="opacity"),a="prefCaptionsOpacity"===i?parseFloat(t("#"+this.mediaId+"_"+i).val())/100:t("#"+this.mediaId+"_"+i).val(),e.css(s,a)):(n=parseFloat(this.prefCaptionsOpacity)/100,e.css({"font-family":this.prefCaptionsFont,"font-size":this.prefCaptionsSize,color:this.prefCaptionsColor,"background-color":this.prefCaptionsBGColor,opacity:n}),e===this.$captionsDiv&&void 0!==this.$captionsWrapper&&(r=parseInt(this.prefCaptionsSize,10)+25,this.$captionsWrapper.css("line-height",r+"%")),"below"===this.prefCaptionsPosition?void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"}):"overlay"===this.prefCaptionsPosition&&void 0!==this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":"transparent",opacity:""}),this.positionCaptions()))},AblePlayer.prototype.positionCaptions=function(t){void 0===t&&(t=this.prefCaptionsPosition),void 0!==this.$captionsWrapper&&("below"==t?(this.$captionsWrapper.removeClass("able-captions-overlay").addClass("able-captions-below"),this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"})):(this.$captionsWrapper.removeClass("able-captions-below").addClass("able-captions-overlay"),this.$captionsWrapper.css({"background-color":"transparent",opacity:""})))}}(jQuery),function(t){AblePlayer.prototype.populateChaptersDiv=function(){var e,i,s;t("#"+this.chaptersDivLocation)&&(this.$chaptersDiv=t("#"+this.chaptersDivLocation),this.$chaptersDiv.addClass("able-chapters-div"),this.chaptersTitle&&(e="h"+this.getNextHeadingLevel(this.$chaptersDiv).toString(),i=this.mediaId+"-chapters-heading",s=t("<"+e+">",{class:"able-chapters-heading",id:i}).text(this.chaptersTitle),this.$chaptersDiv.append(s)),this.$chaptersNav=t("<nav>"),this.chaptersTitle?this.$chaptersNav.attr("aria-labelledby",i):this.$chaptersNav.attr("aria-label",this.tt.chapters),this.$chaptersDiv.append(this.$chaptersNav),this.updateChaptersList())},AblePlayer.prototype.updateChaptersList=function(){var e,i,s,a,n,r,o,l,h,p,c;if(e=this,!this.$chaptersNav)return!1;if(void 0===this.useChapterTimes&&("chapter"===this.seekbarScope&&this.selectedChapters.cues.length?this.useChapterTimes=!0:this.useChapterTimes=!1),(i=this.useChapterTimes?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[]).length>0){for(p=t("<ul>"),s=0;s<i.length;s++)a=s,n=t("<li></li>"),l=function(i){return function(){h=t(this).closest("li"),p=t(this).closest("ul").find("li"),c=p.index(h),p.removeClass("able-current-chapter").attr("aria-selected",""),h.addClass("able-current-chapter").attr("aria-selected","true"),e.updateChapter(i),e.seekTo(i)}},(r=t("<button>",{type:"button",val:a}).text(this.flattenCueForCaption(i[a]))).on("click",l(i[a].start)),r.on("focus",function(){t(this).closest("ul").find("li").removeClass("able-focus"),t(this).closest("li").addClass("able-focus")}),n.on("hover",function(){t(this).closest("ul").find("li").removeClass("able-focus"),t(this).addClass("able-focus")}),n.on("mouseleave",function(){t(this).removeClass("able-focus")}),r.on("blur",function(){t(this).closest("li").removeClass("able-focus")}),n.append(r),p.append(n),this.defaultChapter===i[a].id&&(r.attr("aria-selected","true").parent("li").addClass("able-current-chapter"),this.currentChapter=i[a],o=!0);o||(this.currentChapter=i[0],p.find("button").first().attr("aria-selected","true").parent("li").addClass("able-current-chapter")),this.$chaptersNav.html(p)}return!1},AblePlayer.prototype.seekToChapter=function(t){for(var e=0;e<this.selectedChapters.cues.length;){if(this.selectedChapters.cues[e].id==t){this.seekTo(this.selectedChapters.cues[e].start),this.updateChapter(this.selectedChapters.cues[e].start);break}e++}},AblePlayer.prototype.updateChapter=function(t){if(void 0!==this.selectedChapters){var e,i,s;for(e=this.selectedChapters.cues,i=0;i<e.length;i++)if(e[i].start<=t&&e[i].end>t){s=i;break}void 0!==s&&this.currentChapter!==e[s]&&(this.currentChapter=e[s],this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.seekIntervalCalculated=!1),void 0!==this.$chaptersDiv&&(this.$chaptersDiv.find("ul").find("li").removeClass("able-current-chapter").attr("aria-selected",""),this.$chaptersDiv.find("ul").find("li").eq(s).addClass("able-current-chapter").attr("aria-selected","true")))}},AblePlayer.prototype.getChapterDuration=function(){var t,e,i;return void 0===this.currentChapter?0:(t=this.getDuration(),e=this.selectedChapters.cues.length-1,this.selectedChapters.cues[e]==this.currentChapter&&this.currentChapter.end!==t?(i=t,this.currentChapter.end=t):i=this.currentChapter.end,i-this.currentChapter.start)},AblePlayer.prototype.getChapterElapsed=function(){if(void 0===this.currentChapter)return 0;this.getDuration();var t=this.getElapsed();return t>this.currentChapter.start?t-this.currentChapter.start:0},AblePlayer.prototype.convertChapterTimeToVideoTime=function(t){if(void 0!==this.currentChapter){var e=this.currentChapter.start+t;return e>this.currentChapter.end?this.currentChapter.end:e}return t}}(jQuery),function(t){AblePlayer.prototype.updateMeta=function(t){this.hasMeta&&("text"===this.metaType?(this.$metaDiv.show(),this.showMeta(t||this.getElapsed())):this.showMeta(t||this.getElapsed()))},AblePlayer.prototype.showMeta=function(e){var i,s,a,n,r,o,l,h,p;for(i=[],n=this.meta.length>=1?this.meta:[],s=0;s<n.length;s++)if(n[s].start<=e&&n[s].end>e){a=s;break}if(void 0!==a){if(this.currentMeta!==a){if("text"===this.metaType)this.$metaDiv.html(this.flattenCueForMeta(n[a]).replace("\n","<br>"));else if("selector"===this.metaType){for(r=this.flattenCueForMeta(n[a]).split("\n"),o=0;o<r.length;o++)"pause"===(l=t.trim(r[o])).toLowerCase().trim()?(this.hideBigPlayButton=!0,this.pauseMedia()):"focus:"==l.toLowerCase().substring(0,6)?(p=l.substring(6).trim(),t(p).length&&t(p).focus()):t(l).length&&(void 0===(h=parseInt(t(l).attr("data-duration")))||isNaN(h)?t(l).show():t(l).show().delay(h).fadeOut(),this.visibleSelectors.push(l),i.push(l));if(this.visibleSelectors&&this.visibleSelectors.length&&this.visibleSelectors.length!==i.length)for(o=this.visibleSelectors.length-1;o>=0;o--)-1==t.inArray(this.visibleSelectors[o],i)&&(t(this.visibleSelectors[o]).hide(),this.visibleSelectors.splice(o,1))}this.currentMeta=a}}else{if(void 0!==this.$metaDiv&&this.$metaDiv.html(""),this.visibleSelectors&&this.visibleSelectors.length){for(o=0;o<this.visibleSelectors.length;o++)t(this.visibleSelectors[o]).hide();this.visibleSelectors=[]}this.currentMeta=-1}},AblePlayer.prototype.flattenCueForMeta=function(t){for(var e=[],i=function(t){var e,s=[];if("string"===t.type)s.push(t.value);else if("v"===t.type)for(s.push("["+t.value+"]"),e=0;e<t.children.length;e++)s.push(i(t.children[e]));else for(e=0;e<t.children.length;e++)s.push(i(t.children[e]));return s.join("")},s=0;s<t.components.children.length;s++)e.push(i(t.components.children[s]));return e.join("")}}(jQuery),function(t){AblePlayer.prototype.injectTranscriptArea=function(){this.$transcriptArea=t("<div>",{class:"able-transcript-area",tabindex:"-1"}),this.$transcriptToolbar=t("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$transcriptDiv=t("<div>",{class:"able-transcript"}),this.$autoScrollTranscriptCheckbox=t('<input id="autoscroll-transcript-checkbox" type="checkbox">'),this.$transcriptToolbar.append(t('<label for="autoscroll-transcript-checkbox">'+this.tt.autoScroll+": </label>"),this.$autoScrollTranscriptCheckbox),this.$transcriptLanguageSelect=t('<select id="transcript-language-select">'),this.$unknownTranscriptOption=t('<option val="unknown">'+this.tt.unknown+"</option>"),this.$transcriptLanguageSelect.append(this.$unknownTranscriptOption),this.$transcriptLanguageSelect.prop("disabled",!0);var e=t('<div class="transcript-language-select-wrapper">');this.$transcriptLanguageSelectContainer=e,e.append(t('<label for="transcript-language-select">'+this.tt.language+": </label>"),this.$transcriptLanguageSelect),this.$transcriptToolbar.append(e),this.$transcriptArea.append(this.$transcriptToolbar,this.$transcriptDiv),this.transcriptDivLocation?t("#"+this.transcriptDivLocation).append(this.$transcriptArea):this.$ableWrapper.append(this.$transcriptArea),this.transcriptDivLocation||(this.initDragDrop("transcript"),1===this.prefTranscript&&this.positionDraggableWindow("transcript",this.getDefaultWidth("transcript"))),this.prefTranscript||this.transcriptDivLocation||this.$transcriptArea.hide()},AblePlayer.prototype.addTranscriptAreaEvents=function(){var t=this;this.$autoScrollTranscriptCheckbox.click(function(){t.handleTranscriptLockToggle(t.$autoScrollTranscriptCheckbox.prop("checked"))}),this.$transcriptDiv.on("mousewheel DOMMouseScroll click scroll",function(e){t.scrollingTranscript||(t.autoScrollTranscript=!1,t.refreshControls()),t.scrollingTranscript=!1}),void 0!==this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.on("click mousedown",function(t){t.stopPropagation()}),this.$transcriptLanguageSelect.on("change",function(){var e=t.$transcriptLanguageSelect.val();t.syncTrackLanguages("transcript",e)}))},AblePlayer.prototype.transcriptSrcHasRequiredParts=function(){return!!(t("#"+this.transcriptSrc).length&&(this.$transcriptArea=t("#"+this.transcriptSrc),this.$transcriptArea.find(".able-window-toolbar").length&&(this.$transcriptToolbar=this.$transcriptArea.find(".able-window-toolbar").eq(0),this.$transcriptArea.find(".able-transcript").length&&(this.$transcriptDiv=this.$transcriptArea.find(".able-transcript").eq(0),this.$transcriptArea.find(".able-transcript-seekpoint").length))))&&(this.$transcriptSeekpoints=this.$transcriptArea.find(".able-transcript-seekpoint"),!0)},AblePlayer.prototype.setupManualTranscript=function(){this.$autoScrollTranscriptCheckbox=t('<input id="autoscroll-transcript-checkbox" type="checkbox">'),this.$transcriptToolbar.append(t('<label for="autoscroll-transcript-checkbox">'+this.tt.autoScroll+": </label>"),this.$autoScrollTranscriptCheckbox)},AblePlayer.prototype.updateTranscript=function(){if(this.transcriptType){if("external"===this.transcriptType||"popup"===this.transcriptType){var e,i,s;if(this.transcriptLang?i=this.transcriptCaptions.cues:this.transcriptCaptions?(this.transcriptLang=this.transcriptCaptions.language,i=this.transcriptCaptions.cues):this.selectedCaptions&&(this.transcriptLang=this.captionLang,i=this.selectedCaptions.cues),this.transcriptChapters)e=this.transcriptChapters.cues;else if(this.chapters.length>0){if(this.transcriptLang)for(a=0;a<this.chapters.length;a++)this.chapters[a].language===this.transcriptLang&&(e=this.chapters[a].cues);void 0===e&&(e=this.chapters[0].cues||[])}if(this.transcriptDescriptions)s=this.transcriptDescriptions.cues;else if(this.descriptions.length>0){if(this.transcriptLang)for(var a=0;a<this.descriptions.length;a++)this.descriptions[a].language===this.transcriptLang&&(s=this.descriptions[a].cues);s||(s=this.descriptions[0].cues||[])}var n=this.generateTranscript(e||[],i||[],s||[]);this.$transcriptDiv.html(n),this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.find("option:selected").prop("selected",!1),this.$transcriptLanguageSelect.find("option[lang="+this.transcriptLang+"]").prop("selected",!0))}var r=this;1===this.prefTabbable&&t(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"),this.$transcriptArea.length>0&&this.$transcriptArea.find("span.able-transcript-seekpoint").click(function(e){var i=parseFloat(t(this).attr("data-start"));i+=.01,r.seekTo(i)})}},AblePlayer.prototype.highlightTranscript=function(e){if(this.transcriptType){var i,s,a=this;e=parseFloat(e),this.$transcriptArea.find("span.able-transcript-caption").each(function(){if(i=parseFloat(t(this).attr("data-start")),s=parseFloat(t(this).attr("data-end")),e>=i&&e<=s)return a.$transcriptArea.find(".able-highlight").removeClass("able-highlight"),t(this).addClass("able-highlight"),!1}),a.currentHighlight=t(".able-highlight"),0===a.currentHighlight.length&&(a.currentHighlight=null)}},AblePlayer.prototype.generateTranscript=function(e,i,s){var a,n=this,r=t('<div class="able-transcript-container"></div>');if(r.attr("lang",this.transcriptLang),a=void 0!==this.transcriptTitle?this.transcriptTitle:this.lyricsMode?this.tt.lyricsTitle:this.tt.transcriptTitle,void 0===this.transcriptDivLocation){var o=this.playerHeadingLevel,l=(o+=1)+1;if(o<=6)h="h"+o.toString();else var h="div";var p=t("<"+h+">");p.addClass("able-transcript-heading"),o>6&&p.attr({role:"heading","aria-level":o}),p.text(a),p.attr("lang",this.lang),r.append(p)}for(var c=0,u=0,d=0,f=function(e,i){if(l<=6)s="h"+l.toString();else var s="div";var a=t("<"+s+">",{class:"able-transcript-chapter-heading"});l>6&&a.attr({role:"heading","aria-level":l});for(var n=function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e=e.concat(n(t.children[i]));return e},r=t("<span>",{class:"able-transcript-seekpoint"}),o=0;o<i.components.children.length;o++)for(var h=n(i.components.children[o]),p=0;p<h.length;p++)r.append(h[p]);r.attr("data-start",i.start.toString()),r.attr("data-end",i.end.toString()),a.append(r),e.append(a)},g=function(e,i){var s=t("<div>",{class:"able-transcript-desc"}),a=t("<span>",{class:"able-hidden"});a.attr("lang",n.lang),a.text(n.tt.prefHeadingDescription+": "),s.append(a);for(var r=function(t){var e=[];if("string"===t.type)e.push(t.value);else for(var i=0;i<t.children.length;i++)e=e.concat(r(t.children[i]));return e},o=t("<span>",{class:"able-transcript-seekpoint"}),l=0;l<i.components.children.length;l++)for(var h=r(i.components.children[l]),p=0;p<h.length;p++)o.append(h[p]);o.attr("data-start",i.start.toString()),o.attr("data-end",i.end.toString()),s.append(o),e.append(s)},m=function(e,i){for(var s=t("<span>",{class:"able-transcript-seekpoint able-transcript-caption"}),a=function(e){var i=[],s=function(e){var i=[];if(""===e)return i;var a=e.indexOf("["),n=e.indexOf("]"),r=e.indexOf("("),o=e.indexOf(")"),l=-1!==a&&-1!==n,h=-1!==r&&-1!==o;if(h&&l&&a<r||l)i=i.concat(s(e.substring(0,a))),(p=t("<span>",{class:"able-unspoken"})).text(e.substring(a,n+1)),i.push(p),i=i.concat(s(e.substring(r,o+1)));else if(h){i=i.concat(s(e.substring(0,r)));var p=t("<span>",{class:"able-unspoken"});p.text(e.substring(a,n+1)),i.push(p),i=i.concat(s(e.substring(o+1)))}else i.push(e);return i};if("string"===e.type)i=i.concat(s(e.value));else if("v"===e.type){var n=t("<span>",{class:"able-unspoken"});n.text("("+e.value+")"),i.push(n);for(h=0;h<e.children.length;h++)for(var r=a(e.children[h]),o=0;o<r.length;o++)i.push(r[o])}else if("b"===e.type||"i"===e.type){if("b"===e.type)l=t("<strong>");else if("i"===e.type)var l=t("<em>");for(h=0;h<e.children.length;h++)for(var r=a(e.children[h]),o=0;o<r.length;o++)l.append(r[o]);"b"!==e.type&&"i"!=e.type||i.push(l," ")}else for(var h=0;h<e.children.length;h++)i=i.concat(a(e.children[h]));return i},r=0;r<i.components.children.length;r++)for(var o=a(i.components.children[r]),l=0;l<o.length;l++){var h=o[l];"string"==typeof h&&(n.lyricsMode?h=h.replace("\n","<br>")+"<br>":h+=" "),s.append(h)}s.attr("data-start",i.start.toString()),s.attr("data-end",i.end.toString()),e.append(s),e.append(" \n")};c<e.length||d<s.length||u<i.length;){if(c<e.length&&d<s.length&&u<i.length)v=Math.min(e[c].start,s[d].start,i[u].start);else if(c<e.length&&d<s.length)v=Math.min(e[c].start,s[d].start);else if(c<e.length&&u<i.length)v=Math.min(e[c].start,i[u].start);else if(d<s.length&&u<i.length)v=Math.min(s[d].start,i[u].start);else var v=null;null!==v?void 0!==e[c]&&e[c].start===v?(f(r,e[c]),c+=1):void 0!==s[d]&&s[d].start===v?(g(r,s[d]),d+=1):(m(r,i[u]),u+=1):c<e.length?(f(r,e[c]),c+=1):d<s.length?(g(r,s[d]),d+=1):u<i.length&&(m(r,i[u]),u+=1)}var y=0;return r.children().each(function(){t(this).hasClass("able-transcript-caption")?(-1===t(this).text().indexOf("[")&&-1===t(this).text().indexOf("(")||y>0&&(r.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),y=0),t(this).addClass("able-block-temp"),y++):y>0&&(r.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),y=0)}),r}}(jQuery),function(t){AblePlayer.prototype.showSearchResults=function(){var e=this;if(this.searchDiv&&this.searchString&&t("#"+this.SearchDiv)){var i=this.searchFor(this.searchString);if(i.length>0){var s=t("<p>",{class:"able-search-results-summary"}),a="Found <strong>"+i.length+"</strong> matching items. ";a+="Click the time associated with any item ",a+="to play the video from that point.",s.html(a);for(var n=t("<ul>"),r=0;r<i.length;r++){var o=t("<li>",{}),l=this.secondsToTime(i[r].start),h=t("<span>",{class:"able-search-results-time","data-start":i[r].start,title:l.title,tabindex:"0"});h.text(l.value),h.click(function(i){var s=parseFloat(t(this).attr("data-start"));s+=.01,e.seeking=!0,e.seekTo(s)});var p=t("<span>",{class:"able-search-result-text"});p.html("..."+i[r].caption+"..."),o.append(h,p),n.append(o)}t("#"+this.searchDiv).append(s,n)}else{var c=t("<p>").text("No results found.");t("#"+this.searchDiv).append(c)}}},AblePlayer.prototype.searchFor=function(e){var i,s,a,n,r,o=e.split(" ");if(this.captions.length>0&&(this.captions[0].language,(i=this.captions[0].cues).length>0)){var l=[];for(a=0,n=0;n<i.length;n++)if(-1!==t.inArray(i[n].components.children[0].type,["string","i","b","u","v","c"]))for(s=this.flattenCueForCaption(i[n]),r=0;r<o.length;r++)if(-1!==s.indexOf(o[r])){l[a]=[],l[a].start=i[n].start,l[a].caption=this.highlightSearchTerm(o,r,s),a++;break}}return l},AblePlayer.prototype.highlightSearchTerm=function(t,e,i){var s,a,n,r;for(s=e;s<t.length;s++)a=t[s],-1!==(n=i.indexOf(a))&&(i=(r=a.length)>0?i.substring(0,n)+('<span class="able-search-term">'+a+"</span>")+i.substring(n+r):'<span class="able-search-term">'+a+"</span>"+i.substring(n+r));return i},AblePlayer.prototype.secondsToTime=function(t){var t=Math.floor(t),e=parseInt(t/3600,10)%24,i=parseInt(t/60,10)%60,s=t%60,a="",n="";e>0&&(a+=e+":"),i<10?(a+="0"+i+":",i>0&&(n+=i+" minutes ")):(a+=i+":",n+=i+" minutes "),s<10?(a+="0"+s,s>0&&(n+=s+" seconds ")):(a+=s,n+=s+" seconds ");var r=[];return r.value=a,r.title=n,r}}(jQuery),function(t){AblePlayer.prototype.onMediaUpdateTime=function(){var t=this.getElapsed();this.swappingSrc&&void 0!==this.swapTime?this.swapTime===t&&this.playing&&(this.playMedia(),this.swappingSrc=!1,this.swapTime=null):this.startedPlaying&&(1===this.prefHighlight&&this.highlightTranscript(t),this.updateCaption(),this.showDescription(t),this.updateChapter(t),this.updateMeta(),this.refreshControls())},AblePlayer.prototype.onMediaPause=function(){},AblePlayer.prototype.onMediaComplete=function(){this.hasPlaylist&&(this.playlistIndex===this.$playlist.length-1?this.loop&&(this.playlistIndex=0,this.swapSource(0)):(this.playlistIndex++,this.swapSource(this.playlistIndex))),this.refreshControls()},AblePlayer.prototype.onMediaNewSourceLoad=function(){if(!0===this.swappingSrc)if(this.swapTime>0)this.seekTo(this.swapTime);else{if(this.playing)if("jw"===this.player){var t=this.jwPlayer;setTimeout(function(){t.play(!0)},500)}else this.playMedia();this.swappingSrc=!1,this.refreshControls()}},AblePlayer.prototype.onWindowResize=function(){if(this.isFullscreen()){var e,i;e=t(window).width(),i=this.isUserAgent("Firefox")||this.isUserAgent("Trident")||this.isUserAgent("Edge")?window.innerHeight-this.$playerDiv.outerHeight()-20:window.outerHeight>=window.innerHeight?window.innerHeight-this.$playerDiv.outerHeight():window.outerHeight,this.$descDiv.is(":hidden")||(i-=this.$descDiv.height()),this.positionCaptions("overlay")}else this.restoringAfterFullScreen?(e=this.preFullScreenWidth,i=this.preFullScreenHeight):(e=this.$ableWrapper.width(),i=void 0!==this.aspectRatio?Math.round(e/this.aspectRatio):this.$ableWrapper.height(),this.positionCaptions());this.resizePlayer(e,i)},AblePlayer.prototype.addSeekbarListeners=function(){var t=this;this.seekBar.bodyDiv.on("startTracking",function(e){t.pausedBeforeTracking=t.isPaused(),t.pauseMedia()}).on("tracking",function(e,i){t.highlightTranscript(i),t.updateCaption(i),t.showDescription(i),t.updateChapter(t.convertChapterTimeToVideoTime(i)),t.updateMeta(i),t.refreshControls()}).on("stopTracking",function(e,i){t.useChapterTimes?t.seekTo(t.convertChapterTimeToVideoTime(i)):t.seekTo(i),t.pausedBeforeTracking||setTimeout(function(){t.playMedia()},200)})},AblePlayer.prototype.onClickPlayerButton=function(e){var i=t(e).attr("class").split(" ")[0].substr(20);"play"===i?this.handlePlay():"restart"===i?this.handleRestart():"rewind"===i?this.handleRewind():"forward"===i?this.handleFastForward():"mute"===i?this.handleMute():"volume"===i?this.handleVolume():"faster"===i?this.handleRateIncrease():"slower"===i?this.handleRateDecrease():"captions"===i?this.handleCaptionToggle():"chapters"===i?this.handleChapters():"descriptions"===i?this.handleDescriptionToggle():"sign"===i?this.handleSignToggle():"preferences"===i?this.handlePrefsClick():"help"===i?this.handleHelpClick():"transcript"===i?this.handleTranscriptToggle():"fullscreen"===i&&this.handleFullscreenToggle()},AblePlayer.prototype.okToHandleKeyPress=function(){var e=AblePlayer.getActiveDOMElement();return"INPUT"!==t(e).prop("tagName")},AblePlayer.prototype.onPlayerKeyPress=function(e){if(!this.okToHandleKeyPress())return!1;var i=e.which;if(i>=65&&i<=90&&(i+=32),27===i)this.closePopups();else if(32===i)0===this.$ableWrapper.find(".able-controller button:focus").length&&this.handlePlay();else if(112===i)this.usingModifierKeys(e)&&this.handlePlay();else if(115===i)this.usingModifierKeys(e)&&this.handleRestart();else if(109===i)this.usingModifierKeys(e)&&this.handleMute();else if(118===i)this.usingModifierKeys(e)&&this.handleVolume();else if(i>=49&&i<=57)this.usingModifierKeys(e)&&this.handleVolume(i);else if(99===i)this.usingModifierKeys(e)&&this.handleCaptionToggle();else if(100===i)this.usingModifierKeys(e)&&this.handleDescriptionToggle();else if(102===i)this.usingModifierKeys(e)&&this.handleFastForward();else if(114===i)this.usingModifierKeys(e)&&this.handleRewind();else if(101===i)this.usingModifierKeys(e)&&this.handlePrefsClick();else if(13===i){var s=t(document.activeElement);"SPAN"===s.prop("tagName")?s.click():"LI"===s.prop("tagName")&&s.click()}},AblePlayer.prototype.addHtml5MediaListeners=function(){var t=this;this.$media.on("emptied",function(){}).on("loadedmetadata",function(){t.onMediaNewSourceLoad()}).on("canplay",function(){}).on("canplaythrough",function(){t.startedPlaying||(t.startTime?t.seeking?(t.seeking=!1,t.autoplay&&t.playMedia()):t.seekTo(t.startTime):t.defaultChapter&&void 0!==t.selectedChapters?t.seekToChapter(t.defaultChapter):t.autoplay&&t.playMedia())}).on("playing",function(){t.playing=!0,t.refreshControls()}).on("ended",function(){t.onMediaComplete()}).on("progress",function(){t.refreshControls()}).on("waiting",function(){t.refreshControls()}).on("durationchange",function(){t.refreshControls()}).on("timeupdate",function(){t.onMediaUpdateTime()}).on("play",function(){t.debug}).on("pause",function(){t.onMediaPause()}).on("ratechange",function(){}).on("volumechange",function(){t.volume=t.getVolume(),t.debug}).on("error",function(){t.debug&&t.media.error.code})},AblePlayer.prototype.addJwMediaListeners=function(){var e=this;this.jwPlayer.onTime(function(){e.onMediaUpdateTime()}).onComplete(function(){e.onMediaComplete()}).onReady(function(){e.debug,t("#"+e.jwId).removeAttr("tabindex"),e.$fallbackWrapper=t("#"+e.mediaId+"_fallback_wrapper"),e.fallbackDefaultWidth=e.$fallbackWrapper.width(),e.fallbackDefaultHeight=e.$fallbackWrapper.height(),e.fallbackRatio=e.fallbackDefaultWidth/e.fallbackDefaultHeight,e.startTime>0&&!e.startedPlaying&&(e.seekTo(e.startTime),e.startedPlaying=!0),e.refreshControls()}).onSeek(function(t){e.debug&&console.log("Seeking to "+t.position+"; target: "+t.offset),e.jwSeekPause&&(e.jwSeekPause=!1,e.playMedia()),setTimeout(function(){e.refreshControls()},300)}).onPlay(function(){e.debug,e.refreshControls()}).onPause(function(){e.onMediaPause()}).onBuffer(function(){e.debug,e.refreshControls()}).onBufferChange(function(){e.refreshControls()}).onIdle(function(t){e.debug,e.refreshControls()}).onMeta(function(){e.debug}).onPlaylist(function(){e.debug,e.onMediaNewSourceLoad()})},AblePlayer.prototype.addEventListeners=function(){var e;e=this,t(window).resize(function(){e.onWindowResize()});var i=this.$ableDiv[0],s={attributes:!0,childList:!0,characterData:!0};new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&"style"===t.attributeName&&e.$ableDiv.is(":visible")&&e.refreshControls()})}).observe(i,s),this.addSeekbarListeners(),this.$controllerDiv.find("button").on("click",function(){e.onClickPlayerButton(this)}),this.$ableDiv.keydown(function(t){AblePlayer.nextIndex>1&&e.onPlayerKeyPress(t)}),this.$transcriptArea&&this.$transcriptArea.keydown(function(t){AblePlayer.nextIndex>1&&e.onPlayerKeyPress(t)}),this.$playlist&&this.$playlist.click(function(){e.playlistIndex=t(this).index(),e.swapSource(e.playlistIndex)}),this.$media.click(function(){e.handlePlay()}),"html5"===this.player?this.addHtml5MediaListeners():"jw"===this.player?this.addJwMediaListeners():"youtube"===this.player&&setInterval(function(){e.onMediaUpdateTime()},300)}}(jQuery),function(t){AblePlayer.prototype.initDragDrop=function(e){var i,s,a,n,r,o;i=this,"transcript"===e?(s=this.$transcriptArea,n="transcript-window",a=this.$transcriptToolbar):"sign"===e&&(s=this.$signWindow,n="sign-window",a=this.$signToolbar),a.addClass("able-draggable"),r=t("<div>",{class:"able-resizable"}),o=parseInt(s.css("z-index"))+100,r.css("z-index",o),s.append(r),a.on("mousedown",function(t){return t.stopPropagation(),i.windowMenuClickRegistered||(i.windowMenuClickRegistered=!0,i.startMouseX=t.pageX,i.startMouseY=t.pageY,i.dragDevice="mouse",i.startDrag(e,s)),!1}),a.on("mouseup",function(t){return t.stopPropagation(),i.dragging&&"mouse"===i.dragDevice&&i.endDrag(e),!1}),r.on("mousedown",function(t){if(t.stopPropagation(),!i.windowMenuClickRegistered)return i.windowMenuClickRegistered=!0,i.startMouseX=t.pageX,i.startMouseY=t.pageY,i.startResize(e,s),!1}),r.on("mouseup",function(t){return t.stopPropagation(),i.resizing&&i.endResize(e),!1}),s.on("click",function(){i.windowMenuClickRegistered||i.finishingDrag||i.updateZIndex(e),i.finishingDrag=!1}),this.addWindowMenu(e,s,n)},AblePlayer.prototype.addWindowMenu=function(e,i,s){var a,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,w,P,C;for(a=this,this.windowMenuClickRegistered=!1,this.finishingDrag=!1,(n=t('<div role="alert"></div>')).addClass("able-alert"),n.hide(),n.appendTo(this.$activeWindow),n.css({top:i.offset().top}),r=t("<button>",{type:"button",tabindex:"0","aria-label":this.tt.windowButtonLabel,class:"able-button-handler-preferences"}),"font"===this.iconType?(o=t("<span>",{class:"icon-preferences","aria-hidden":"true"}),r.append(o)):(l=this.rootPath+"button-icons/"+this.toolbarIconColor+"/preferences.png",h=t("<img>",{src:l,alt:"",role:"presentation"}),r.append(h)),p=t("<span>",{class:"able-clipped"}).text(this.tt.windowButtonLabel),r.append(p),c=this.mediaId+"-"+s+"-tooltip",u=t("<div>",{class:"able-tooltip",id:c}).hide(),r.on("mouseenter focus",function(e){var i=t(this).attr("aria-label"),s=t(this).position(),n=t(this).height(),o=(t(this).width(),{left:"",right:"0px",top:s.top-n-5+"px"}),l=AblePlayer.localGetElementById(r[0],c).text(i).css(o);a.showTooltip(l),t(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(r[0],c).text("").hide()})}),d=this.createPopup(s),f=t("<ul></ul>"),g=this.mediaId+"-"+s+"-choice",(m=[]).push({name:"move",label:this.tt.windowMove}),m.push({name:"resize",label:this.tt.windowResize}),v=0;v<m.length;v++)y=t("<li></li>"),b=m[v],w=g+"-"+v,P=t("<input>",{type:"radio",val:b.name,name:g,id:w}),(C=t("<label>",{for:w})).text(b.label),P.on("focus",function(e){t(this).parents("ul").children("li").removeClass("able-focus"),t(this).parent("li").addClass("able-focus")}),P.on("click",function(i){i.stopPropagation(),a.windowMenuClickRegistered||a.finishingDrag||(a.windowMenuClickRegistered=!0,a.handleMenuChoice(e,t(this).val(),i.type))}),C.on("click mousedown",function(){var e=t(this).attr("for");t("#"+e).click()}),y.append(P,C),f.append(y);d.append(f),r.on("click mousedown keydown",function(t){t.stopPropagation(),a.windowMenuClickRegistered||a.finishingDrag||a.handleWindowButtonClick(e,t),a.finishingDrag=!1}),d.on("keydown",function(t){27===t.which&&(r.focus(),d.hide())}),"transcript"===e?(this.$transcriptAlert=n,this.$transcriptPopupButton=r,this.$transcriptPopup=d,this.$transcriptToolbar.append(n,r,u,d)):"sign"===e&&(this.$signAlert=n,this.$signPopupButton=r,this.$signPopup=d,this.$signToolbar.append(n,r,u,d)),this.addResizeDialog(e,i)},AblePlayer.prototype.addResizeDialog=function(e,i){var s,a,n,r,o,l,h,p,c,u,d,f,g,m,v,y,b,w,P,C,k,T,$;s=this,"transcript"===e?(a=this.$transcriptPopup,n=this.$transcriptPopupButton):"sign"===e&&(a=this.$signPopup,n=this.$signPopupButton),r=this.mediaId+"-resize-"+e+"-width",o=this.mediaId+"-resize-"+e+"-height",l=i.width(),h=i.height(),p=l/h,c=t("<div></div>",{class:"able-resize-form"}),u=t("<div></div>"),d=t("<div></div>"),f=t("<input>",{type:"text",id:r,value:l}),g=t("<label>",{for:r}).text(this.tt.width),m=t("<div></div>"),v=t("<input>",{type:"text",id:o,value:h}),y=t("<label>",{for:o}).text(this.tt.height),"sign"===e&&(v.prop("readonly",!0),f.on("input",function(){b=t(this).val(),w=Math.round(b/p,0),v.val(w)})),P=t('<button class="modal-button">'+this.tt.save+"</button>"),C=t('<button class="modal-button">'+this.tt.cancel+"</button>"),P.on("click",function(){k=t("#"+r).val(),T=t("#"+o).val(),k===l&&T===h||(i.css({width:k+"px",height:T+"px"}),s.updateCookie(e)),$.hide(),a.hide(),n.focus()}),C.on("click",function(){$.hide(),a.hide(),n.focus()}),d.append(g,f),m.append(y,v),u.append(d,m),c.append(u,"<hr>",P,C),t("body").append(c),$=new AccessibleDialog(c,n,"alert",this.tt.windowResizeHeading,u,this.tt.closeButtonLabel,"20em"),"transcript"===e?this.transcriptResizeDialog=$:"sign"===e&&(this.signResizeDialog=$)},AblePlayer.prototype.handleWindowButtonClick=function(e,i){var s,a,n,r;if(s=this,"keydown"===i.type){if(32!==i.which&&13!==i.which&&27!==i.which)return!1;this.windowMenuClickRegistered=!0}else this.windowMenuClickRegistered=!0;"transcript"===e?(a=this.$transcriptPopup,n=this.$transcriptPopupButton,this.$transcriptToolbar):"sign"===e&&(a=this.$signPopup,n=this.$signPopupButton,this.$signToolbar),a.is(":visible")?(a.hide(200,"",function(){s.windowMenuClickRegistered=!1}),a.find("li").removeClass("able-focus"),n.focus()):(this.updateZIndex(e),r=n.position().top+n.outerHeight(),a.css("top",r),a.show(200,"",function(){t(this).find("input").first().focus().parent().addClass("able-focus"),s.windowMenuClickRegistered=!1}))},AblePlayer.prototype.handleMenuChoice=function(t,e,i){var s,a,n,r,o;s=this,"transcript"===t?(a=this.$transcriptArea,n=this.$transcriptPopup,r=this.$transcriptPopupButton,o=this.transcriptResizeDialog):"sign"===t&&(a=this.$signWindow,n=this.$signPopup,r=this.$signPopupButton,o=this.signResizeDialog),n.hide("fast",function(){s.windowMenuClickRegistered=!1}),r.focus(),"move"===e?(this.showedAlert(t)||(this.showAlert(this.tt.windowMoveAlert,t),"transcript"===t?this.showedTranscriptAlert=!0:"sign"===t&&(this.showedSignAlert=!0)),this.dragDevice="keydown"===i?"keyboard":"mouse",this.startDrag(t,a),n.hide().parent().focus()):"resize"==e&&o.show()},AblePlayer.prototype.startDrag=function(e,i){var s,a,n,r,o;return s=this,this.$activeWindow=i,this.dragging=!0,"transcript"===e?a=this.$transcriptPopup:"sign"===e&&(a=this.$signPopup),this.showedAlert(e)||(this.showAlert(this.tt.windowMoveAlert,e),"transcript"===e?this.showedTranscriptAlert=!0:"sign"===e&&(this.showedSignAlert=!0)),a.is(":visible")&&a.hide(),this.updateZIndex(e),n=this.$activeWindow.position(),this.dragStartX=n.left,this.dragStartY=n.top,void 0===this.startMouseX?(this.dragDevice="keyboard",this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.startingDrag=!0):(this.dragDevice="mouse",this.dragOffsetX=this.startMouseX-this.dragStartX,this.dragOffsetY=this.startMouseY-this.dragStartY),this.$activeWindow.addClass("able-drag").css({position:"absolute",top:this.dragStartY+"px",left:this.dragStartX+"px"}).focus(),"mouse"===this.dragDevice?t(document).on("mousemove",function(t){s.dragging&&(r=t.pageX-s.dragOffsetX,o=t.pageY-s.dragOffsetY,s.resetDraggedObject(r,o))}):"keyboard"===this.dragDevice&&this.$activeWindow.on("keydown",function(t){s.dragging&&s.dragKeys(e,t)}),!1},AblePlayer.prototype.dragKeys=function(t,e){var i;if(this.startingDrag)return this.startingDrag=!1,!1;switch(i=e.which,10,i){case 37:case 63234:this.dragKeyX-=10;break;case 38:case 63232:this.dragKeyY-=10;break;case 39:case 63235:this.dragKeyX+=10;break;case 40:case 63233:this.dragKeyY+=10;break;case 13:case 27:return this.endDrag(t),!1;default:return!1}return this.resetDraggedObject(this.dragKeyX,this.dragKeyY),e.preventDefault&&e.preventDefault(),!1},AblePlayer.prototype.resetDraggedObject=function(t,e){this.$activeWindow.css({left:t+"px",top:e+"px"})},AblePlayer.prototype.resizeObject=function(t,e,i){var s;this.$activeWindow.css({width:e+"px",height:i+"px"}),"transcript"===t&&(s=i-50,this.$transcriptDiv.css("height",s+"px"))},AblePlayer.prototype.endDrag=function(e){var i;"transcript"===e?(this.$transcriptPopup,i=this.$transcriptPopupButton):"sign"===e&&(this.$signPopup,i=this.$signPopupButton),t(document).off("mousemove mouseup"),this.$activeWindow.off("keydown").removeClass("able-drag"),"keyboard"===this.dragDevice&&i.focus(),this.dragging=!1,this.updateCookie(e),this.startMouseX=void 0,this.startMouseY=void 0,this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)},AblePlayer.prototype.isCloseToCorner=function(t,e,i){var s,a,n,r,o,l,h;return 10,s=t.offset(),a=s.top,n=s.left,r=t.width(),o=t.height(),l=a+o,h=n+r,Math.abs(l-i)<=10&&Math.abs(h-e)<=10},AblePlayer.prototype.startResize=function(e,i){var s,a,n,r;return s=this,this.$activeWindow=i,this.resizing=!0,"transcript"===e?a=this.$transcriptPopup:"sign"===e&&(a=this.$signPopup),a.is(":visible")&&a.hide().parent().focus(),this.$activeWindow.position(),this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.dragStartWidth=this.$activeWindow.width(),this.dragStartHeight=this.$activeWindow.height(),t(document).on("mousemove",function(t){s.resizing&&(n=s.dragStartWidth+(t.pageX-s.startMouseX),r=s.dragStartHeight+(t.pageY-s.startMouseY),s.resizeObject(e,n,r))}),!1},AblePlayer.prototype.endResize=function(e){var i;"transcript"===e?(this.$transcriptPopup,i=this.$transcriptPopupButton):"sign"===e&&(this.$signPopup,i=this.$signPopupButton),t(document).off("mousemove mouseup"),this.$activeWindow.off("keydown"),i.show().focus(),this.resizing=!1,this.$activeWindow.removeClass("able-resize"),this.updateCookie(e),this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)}}(jQuery),function(t){AblePlayer.prototype.initSignLanguage=function(){"html5"===this.player&&(this.signFile=this.$sources.first().attr("data-sign-src"),this.signFile?(this.debug,this.hasSignLanguage=!0,this.injectSignPlayerCode()):this.hasSignLanguage=!1)},AblePlayer.prototype.injectSignPlayerCode=function(){var e,i,s,a,n;for(this,this.getDefaultWidth("sign"),e=this.mediaId+"-sign",this.$signVideo=t("<video>",{id:e,tabindex:"-1"}),this.signVideo=this.$signVideo[0],i=0;i<this.$sources.length;i++){if(s=this.$sources[i].getAttribute("data-sign-src"),a=this.$sources[i].getAttribute("type"),!s){this.hasSignLanguage=!1;break}n=t("<source>",{src:s,type:a}),this.$signVideo.append(n)}this.$signWindow=t("<div>",{class:"able-sign-window",tabindex:"-1"}),this.$signToolbar=t("<div>",{class:"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$signWindow.append(this.$signToolbar,this.$signVideo),this.$ableWrapper.append(this.$signWindow),this.initDragDrop("sign"),1===this.prefSign?this.positionDraggableWindow("sign",this.getDefaultWidth("sign")):this.$signWindow.hide()}}(jQuery),function(t){var e={ab:{name:"Abkhaz",nativeName:"аҧсуа"},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:"አማርኛ"},ar:{name:"Arabic",nativeName:"العربية"},an:{name:"Aragonese",nativeName:"Aragonés"},hy:{name:"Armenian",nativeName:"Հայերեն"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ"},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:"Беларуская"},bn:{name:"Bengali",nativeName:"বাংলা"},bh:{name:"Bihari",nativeName:"भोजपुरी"},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:"български език"},my:{name:"Burmese",nativeName:"ဗမာစာ"},ca:{name:"Catalan",nativeName:"Català"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ny:{name:"Chichewa",nativeName:"chiCheŵa, chinyanja"},zh:{name:"Chinese",nativeName:"中文 (Zhōngwén), 汉语, 漢語"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"česky, čeština"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi",nativeName:"ދިވެހި"},nl:{name:"Dutch",nativeName:"Nederlands, Vlaams"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti, eesti keel"},ee:{name:"Ewe",nativeName:"Eʋegbe"},fo:{name:"Faroese",nativeName:"føroyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi, suomen kieli"},fr:{name:"French",nativeName:"français, langue française"},ff:{name:"Fula",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:"ქართული"},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek",nativeName:"Ελληνικά"},gn:{name:"Guaraní",nativeName:"Avañeẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},ht:{name:"Haitian",nativeName:"Kreyòl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:"हिन्दी, हिंदी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ik:{name:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語 (にほんご／にっぽんご)"},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी, كشميري‎"},kk:{name:"Kazakh",nativeName:"Қазақ тілі"},km:{name:"Khmer",nativeName:"ភាសាខ្មែរ"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kyrgyz",nativeName:"кыргыз тили"},kv:{name:"Komi",nativeName:"коми кыв"},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:"한국어 (韓國語), 조선말 (朝鮮語)"},ku:{name:"Kurdish",nativeName:"Kurdî, كوردی‎"},kj:{name:"Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine, lingua latina"},lb:{name:"Luxembourgish",nativeName:"Lëtzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latviešu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:"македонски јазик"},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu, بهاس ملايو‎"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Māori",nativeName:"te reo Māori"},mr:{name:"Marathi",nativeName:"मराठी"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mn:{name:"Mongolian",nativeName:"монгол"},na:{name:"Nauru",nativeName:"Ekakairũ Naoero"},nv:{name:"Navajo",nativeName:"Diné bizaad, Dinékʼehǰí"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},cu:{name:"Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон æвзаг"},pa:{name:"Punjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎"},pi:{name:"Pāli",nativeName:"पाऴि"},fa:{name:"Persian",nativeName:"فارسی"},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Português"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian",nativeName:"română"},ru:{name:"Russian",nativeName:"русский язык"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},sr:{name:"Serbian",nativeName:"српски језик"},gd:{name:"Gaelic",nativeName:"Gàidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhalese",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovene",nativeName:"slovenščina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"español, castellano"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ, toğikī, تاجیکی‎"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},tk:{name:"Turkmen",nativeName:"Türkmen, Түркмен"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татарча, tatarça, تاتارچا‎"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"Uyƣurqə, ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"zbek, Ўзбек, أۇزبېك‎"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ, Saw cuengh"}};AblePlayer.prototype.getLanguageName=function(t){t=t.slice(0,2);var i=e[t];return i?i.name:void 0},AblePlayer.prototype.getLanguageNativeName=function(t){t=t.slice(0,2);var i=e[t];return i?i.nativeName:void 0}}(jQuery),function($){AblePlayer.prototype.getSupportedLangs=function(){return["ca","de","en","es","fr","it","ja"]},AblePlayer.prototype.getTranslationText=function(){var deferred,thisObj,lang,thisObj,msg,translationFile;return deferred=$.Deferred(),thisObj=this,this.forceLang||($("body").attr("lang")?lang=$("body").attr("lang"):$("html").attr("lang")&&(lang=$("html").attr("lang")),lang!==this.lang&&(msg="Language of web page ("+lang+") ",-1!==$.inArray(lang,this.getSupportedLangs())?(msg+=" has a translation table available.",this.lang=lang):msg+=" is not currently supported. Using default language ("+this.lang+")",this.debug)),translationFile=this.rootPath+"translations/"+this.lang+".js",this.importTranslationFile(translationFile).then(function(result){thisObj.tt=eval(thisObj.lang),deferred.resolve()}),deferred.promise()},AblePlayer.prototype.importTranslationFile=function(t){var e=$.Deferred();return $.getScript(t).done(function(t,i){e.resolve(t)}).fail(function(t,i,s){e.fail()}),e.promise()}}(jQuery),function(t){t.doWhen=function(e){return t.Deferred(function(i){var s=t.extend({},{when:null,exec:function(){},interval:100,attempts:100,delayed:0},e,{checkId:null}),a=function(){if(!0===s.when())return s.exec.call(i.promise()),void i.resolve();s.checkId=setInterval(function(){0===s.attempts?(clearInterval(s.checkId),i.reject()):(--s.attempts,!0===s.when()&&(s.attempts=0,clearInterval(s.checkId),s.exec.call(i.promise()),i.resolve()))},s.interval)};s.delayed>0?setTimeout(a,Number(s.delayed)):a()}).promise()}}(jQuery);